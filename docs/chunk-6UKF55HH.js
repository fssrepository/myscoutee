import{Ab as b,Fb as M,Ha as C,La as f,Sa as P,Ya as u,Z as p,Za as n,Zb as v,_ as m,_a as o,_b as O,ac as y,fb as h,hb as d,jb as g,kc as k,lc as w,mc as I,ua as x,vb as _,wa as c,xb as r,yb as s}from"./chunk-V4GLQPGS.js";function H(l,e){if(l&1){let i=h();n(0,"button",14),d("click",function(){let a=p(i).$implicit,E=g();return m(E.setRating(a))}),r(1," \u2605 "),o()}if(l&2){let i=e.$implicit,t=g();_("filled",i<=t.selectedRating),P("aria-label",M("Rate ",i))}}function U(l,e){if(l&1){let i=h();n(0,"section",15)(1,"div",16),d("click",function(){p(i);let a=g();return m(a.closeLocalPopup())}),o(),n(2,"div",17),d("click",function(a){return p(i),m(a.stopPropagation())}),n(3,"header")(4,"h2"),r(5,"Profile Filter"),o(),n(6,"button",18),d("click",function(){p(i);let a=g();return m(a.closeLocalPopup())}),r(7,"\xD7"),o()(),n(8,"div",19)(9,"p"),r(10,"Filters: profession, school, friends in common."),o(),n(11,"p"),r(12,"Mode: single/pair, distance and recent activity."),o()()()()}}var S=class l{users=I;selectedRating=7;isPairMode=!1;cardIndex=0;localPopup=null;activeUserId=this.getActiveUserId();get activeUser(){return this.users.find(e=>e.id===this.activeUserId)??this.users[0]}get candidatePool(){return this.users.filter(e=>e.id!==this.activeUserId)}get activeCandidate(){let e=this.candidatePool;return e[this.cardIndex%e.length]}get ratingScale(){return Array.from({length:10},(e,i)=>i+1)}setRating(e){this.selectedRating=e;let i=this.cardIndex+1;this.cardIndex=i%this.candidatePool.length}togglePairMode(){this.isPairMode=!this.isPairMode}openHistory(){this.localPopup="history"}closeLocalPopup(){this.localPopup=null}openFilter(){this.localPopup="history"}get candidateInitials(){let e=this.activeCandidate.name.split(" ").filter(Boolean);return e.length===0?"U":e.length===1?e[0].slice(0,2).toUpperCase():`${e[0][0]}${e[1][0]}`.toUpperCase()}onActiveUserChanged(){this.activeUserId=this.getActiveUserId(),this.cardIndex=0}getActiveUserId(){let e=localStorage.getItem("demo-active-user");return e?this.users.some(i=>i.id===e)?e:this.users[0].id:this.users[0].id}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=C({type:l,selectors:[["app-home"]],hostBindings:function(i,t){i&1&&d("active-user-changed",function(){return t.onActiveUserChanged()},x)},decls:36,vars:15,consts:[[1,"game-page"],[1,"game-header"],[1,"game-actions"],["type","button",1,"game-action-mode",3,"click"],["type","button","aria-label","Open profile filters",1,"game-action-filter","has-badge",3,"click"],[1,"history-badge"],[1,"game-layout-single"],[1,"card-stack","game-card-main"],[1,"card-content"],[1,"card-image-area"],[1,"card-image-placeholder"],[1,"rating-stars"],["type","button","class","star-btn",3,"filled","aria-label","click",4,"ngFor","ngForOf"],["class","game-popup",4,"ngIf"],["type","button",1,"star-btn",3,"click","aria-label"],[1,"game-popup"],[1,"game-popup-backdrop",3,"click"],[1,"game-popup-panel",3,"click"],["type","button",3,"click"],[1,"game-popup-body"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),r(4,"Game"),o(),n(5,"p"),r(6,"Discover profiles and rate with 10-star feedback."),o()(),n(7,"div",2)(8,"button",3),d("click",function(){return t.togglePairMode()}),n(9,"mat-icon"),r(10),o(),n(11,"span"),r(12),o()(),n(13,"button",4),d("click",function(){return t.openFilter()}),n(14,"mat-icon"),r(15,"filter_alt"),o()(),n(16,"button",4),d("click",function(){return t.openFilter()}),n(17,"mat-icon"),r(18,"history"),o(),n(19,"span",5),r(20),o()()()(),n(21,"section",6)(22,"article",7)(23,"div",8)(24,"h2"),r(25),o(),n(26,"p"),r(27),o(),n(28,"p"),r(29),o()(),n(30,"div",9)(31,"span",10),r(32),o()(),n(33,"div",11),f(34,H,2,4,"button",12),o()()()(),f(35,U,13,0,"section",13)),i&2&&(c(8),_("mode-pair",t.isPairMode)("mode-single",!t.isPairMode),c(2),s(t.isPairMode?"groups":"person"),c(2),s(t.isPairMode?"Pair mode":"Single mode"),c(8),s(t.activeUser.activities.game),c(5),b("",t.activeCandidate.name,", ",t.activeCandidate.age),c(2),b("",t.activeCandidate.city," \xB7 ",t.activeCandidate.statusText),c(2),s(t.activeCandidate.headline),c(3),s(t.candidateInitials),c(2),u("ngForOf",t.ratingScale),c(),u("ngIf",t.localPopup==="history"))},dependencies:[y,v,O,w,k],styles:["[_nghost-%COMP%]{display:block}.game-page[_ngcontent-%COMP%]{max-width:980px;margin:0 auto;min-height:calc(100vh - 3rem);border:1px solid rgba(21,38,62,.14);border-radius:16px;padding:.74rem;background:radial-gradient(circle at 0% 0%,rgba(29,98,160,.12),transparent 34%),radial-gradient(circle at 100% 0%,rgba(193,87,48,.12),transparent 32%),#f8fbff}.game-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.72rem}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1f2d44;font-size:1.32rem}.game-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.22rem 0 0;color:#142135b8;font-size:.84rem}.game-actions[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.38rem}.game-action-icon[_ngcontent-%COMP%], .game-action-mode[_ngcontent-%COMP%]{border:1px solid rgba(22,38,60,.2);border-radius:999px;background:#fff;color:#1f2d44;font:inherit;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.game-action-icon[_ngcontent-%COMP%]{width:38px;height:38px;position:relative}.game-action-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px;line-height:18px}.game-action-mode[_ngcontent-%COMP%]{height:38px;padding:0 .72rem;gap:.34rem;font-size:.82rem;font-weight:700}.game-action-mode[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:17px;height:17px;font-size:17px;line-height:17px}.game-action-mode.mode-single[_ngcontent-%COMP%]{background:linear-gradient(180deg,#edf6ff,#e2effd);border-color:#2f67b457;color:#1e569d}.game-action-mode.mode-pair[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f2eefc,#e8e2f9);border-color:#644ea357;color:#4d3d8b}.game-action-filter[_ngcontent-%COMP%]{height:38px;padding:0 .78rem;gap:.32rem;border-radius:999px;border:1px solid rgba(34,96,176,.42);background:linear-gradient(180deg,#4f8fdf,#3e79c4);color:#fff;font:inherit;font-size:.8rem;font-weight:700;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;position:relative}.game-action-filter[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;line-height:16px}.history-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:20px;height:20px;border-radius:999px;background:#d94a4a;color:#fff;font-size:11px;font-weight:700;display:inline-flex;align-items:center;justify-content:center;padding:0 5px;box-shadow:0 0 0 2px #fff}.game-layout-single[_ngcontent-%COMP%]{margin-top:.68rem}.game-card-main[_ngcontent-%COMP%]{border:1px solid rgba(21,38,62,.14);border-radius:14px;background:#fff;overflow:hidden}.card-content[_ngcontent-%COMP%]{padding:.7rem .76rem .44rem}.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#1f2d44}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.26rem 0 0;color:#15243abd;font-size:.84rem}.card-image-area[_ngcontent-%COMP%]{margin:0 .72rem;border-radius:12px;border:1px dashed rgba(19,34,55,.2);min-height:calc(100vh - 15.5rem);background:linear-gradient(155deg,#dbeaffa8,#fff1e68a),#f8fbff;display:flex;align-items:center;justify-content:center}.card-image-placeholder[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:50%;background:linear-gradient(145deg,#d3754c,#ac4a24);color:#fff;font-weight:800;font-size:1.72rem;display:inline-flex;align-items:center;justify-content:center;letter-spacing:.03em}.rating-stars[_ngcontent-%COMP%]{margin:.56rem .72rem .72rem;display:grid;grid-template-columns:repeat(10,minmax(0,1fr));gap:.32rem}.star-btn[_ngcontent-%COMP%]{width:100%;min-width:0;min-height:34px;border-radius:999px;border:1px solid rgba(22,40,64,.22);background:#fff;color:#606f85e6;font-size:1.04rem;line-height:1;cursor:pointer}.star-btn.filled[_ngcontent-%COMP%]{color:#f2ba31;border-color:#c1912270;background:linear-gradient(180deg,#fff9e9,#fff2d0)}.game-popup[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:2200;display:flex;align-items:center;justify-content:center;padding:1rem}.game-popup-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000070}.game-popup-panel[_ngcontent-%COMP%]{position:relative;z-index:1;width:min(680px,100vw - 1rem);border-radius:12px;background:#fff;border:1px solid rgba(15,23,42,.14);overflow:hidden}.game-popup-panel[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:.58rem .72rem;border-bottom:1px solid rgba(15,23,42,.1);display:flex;justify-content:space-between;align-items:center}.game-popup-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem}.game-popup-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgba(15,23,42,.2);border-radius:999px;background:#fff;color:#1f2d44;font:inherit;font-size:.8rem;padding:.28rem .64rem;cursor:pointer}.game-popup-body[_ngcontent-%COMP%]{padding:.75rem;display:grid;gap:.45rem}.game-popup-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0f172ab8}@media(max-width:760px){.game-page[_ngcontent-%COMP%]{min-height:auto;border-radius:14px;padding:.64rem}.game-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.game-actions[_ngcontent-%COMP%]{justify-content:flex-end}.card-image-area[_ngcontent-%COMP%]{min-height:calc(100vh - 20.5rem)}.rating-stars[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}"],changeDetection:0})};export{S as HomeComponent};
