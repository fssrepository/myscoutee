    location /backend/calc {
        proxy_pass http://profilemanagement:8080/calc;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        allow 192.168.0.0/16;
        allow 172.16.0.0/12;
        allow 127.0.0.1;
        deny all;
    }
    
    location /backend/profiles {
        proxy_pass http://profilemanagement:8080/profiles;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/tokens {
        proxy_pass http://profilemanagement:8080/tokens;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/promotions {
        proxy_pass http://profilemanagement:8080/promotions;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/messages {
        proxy_pass http://profilemanagement:8080/messages;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/user {
        proxy_pass http://profilemanagement:8080/user;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/games {
        proxy_pass http://profilemanagement:8080/games;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/likes {
        proxy_pass http://profilemanagement:8080/likes;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/activity {
        proxy_pass http://profilemanagement:8080/activity;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/recommendations {
        proxy_pass http://profilemanagement:8080/recommendations;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/images {
        proxy_pass http://profilemanagement:8080/images;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /backend/voice {
        proxy_pass http://profilemanagement:8080/voice;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # allow 192.168.0.0/16;
        # allow 172.16.0.0/12;
        # allow 127.0.0.1;
        # deny all;
    }

    location /mqtt {
        proxy_pass http://profilemanagement:8080/mqtt;
        
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Forwarded-Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        allow 192.168.0.0/16;
        allow 172.16.0.0/12;
        allow 127.0.0.1;
        deny all;
    }