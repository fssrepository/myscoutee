var _;!function(S,we){"object"==typeof exports&&typeof module<"u"?we(exports):"function"==typeof define&&define.amd?define(["exports"],we):we((S=typeof globalThis<"u"?globalThis:S||self).ZXing={})}(this,function(S){"use strict";var U,u,we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,e){u.__proto__=e}||function(u,e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t])},v=function(u){function e(t){var r,n,i,o=this.constructor,s=u.call(this,t)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),r=s,n=o.prototype,(i=Object.setPrototypeOf)?i(r,n):r.__proto__=n,function(a,A){void 0===A&&(A=a.constructor);var h=Error.captureStackTrace;h&&h(a,A)}(s),s}return function(t,r){function n(){this.constructor=t}we(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(e,u),e}(Error);class I extends v{constructor(e){super(e),this.message=e}getKind(){return this.constructor.kind}}I.kind="Exception";class T extends I{}T.kind="ArgumentException";class E extends I{}E.kind="IllegalArgumentException";class M{constructor(e){if(this.binarizer=e,null===e)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!=this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new M(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends I{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class Y{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class V{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class q extends I{}q.kind="IndexOutOfBoundsException";class fe extends q{constructor(e,t){super(t),this.index=e,this.message=t}}fe.kind="ArrayIndexOutOfBoundsException";class Ae{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){Ae.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new E("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new fe(t);if(r>e)throw new fe(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(n=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(n=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!(e&&t&&e.length&&t.length&&e.length===t.length))return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return V.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){void 0===r&&(r=Ae.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const o=i+n>>1,s=r(t,e[o]);if(s>0)n=o+1;else{if(!(s<0))return o;i=o-1}}return-n-1}static numberComparator(e,t){return e-t}}class X{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return 0!=(t=e<<16)&&(r-=16,e=t),0!=(t=e<<8)&&(r-=8,e=t),0!=(t=e<<4)&&(r-=4,e=t),0!=(t=e<<2)&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return!(e>>>16)&&(t+=16,e<<=16),!(e>>>24)&&(t+=8,e<<=8),!(e>>>28)&&(t+=4,e<<=4),!(e>>>30)&&(t+=2,e<<=2),t-(e>>>31)}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t){return parseInt(e,t)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=t??oe.makeArray(e))}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=oe.makeArray(e);V.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(31&e))-1);const o=r.length;for(;0===i;){if(++n===o)return t;i=r[n]}const s=32*n+X.numberOfTrailingZeros(i);return s>t?t:s}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(31&e))-1);const o=r.length;for(;0===i;){if(++n===o)return t;i=~r[n]}const s=32*n+X.numberOfTrailingZeros(i);return s>t?t:s}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new E;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let o=r;o<=n;o++)i[o]|=(2<<(o<n?31:31&t))-(1<<(o>r?0:31&e))}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new E;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let s=n;s<=i;s++){const a=(2<<(s<i?31:31&t))-(1<<(s>n?0:31&e))&4294967295;if((o[s]&a)!==(r?a:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new E("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let o=0;for(let s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[r+i]=o}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let o=n[i];o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16,e[t-i]=o}if(this.size!==32*r){const i=32*r-this.size;let o=e[0]>>>i;for(let s=1;s<r;s++){const a=e[s];o|=a<<32-i,e[s-1]=o,o=a>>>i}e[r-1]=o}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){return e instanceof oe&&(this.size===e.size&&Ae.equals(this.bits,e.bits))}hashCode(){return 31*this.size+Ae.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)!(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new oe(this.size,this.bits.slice())}}(u=U||(U={}))[u.OTHER=0]="OTHER",u[u.PURE_BARCODE=1]="PURE_BARCODE",u[u.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",u[u.TRY_HARDER=3]="TRY_HARDER",u[u.CHARACTER_SET=4]="CHARACTER_SET",u[u.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",u[u.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",u[u.ASSUME_GS1=7]="ASSUME_GS1",u[u.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",u[u.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",u[u.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS";var z,$=U;class j extends I{static getFormatInstance(){return new j}}j.kind="FormatException",function(u){u[u.Cp437=0]="Cp437",u[u.ISO8859_1=1]="ISO8859_1",u[u.ISO8859_2=2]="ISO8859_2",u[u.ISO8859_3=3]="ISO8859_3",u[u.ISO8859_4=4]="ISO8859_4",u[u.ISO8859_5=5]="ISO8859_5",u[u.ISO8859_6=6]="ISO8859_6",u[u.ISO8859_7=7]="ISO8859_7",u[u.ISO8859_8=8]="ISO8859_8",u[u.ISO8859_9=9]="ISO8859_9",u[u.ISO8859_10=10]="ISO8859_10",u[u.ISO8859_11=11]="ISO8859_11",u[u.ISO8859_13=12]="ISO8859_13",u[u.ISO8859_14=13]="ISO8859_14",u[u.ISO8859_15=14]="ISO8859_15",u[u.ISO8859_16=15]="ISO8859_16",u[u.SJIS=16]="SJIS",u[u.Cp1250=17]="Cp1250",u[u.Cp1251=18]="Cp1251",u[u.Cp1252=19]="Cp1252",u[u.Cp1256=20]="Cp1256",u[u.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",u[u.UTF8=22]="UTF8",u[u.ASCII=23]="ASCII",u[u.Big5=24]="Big5",u[u.GB18030=25]="GB18030",u[u.EUC_KR=26]="EUC_KR"}(z||(z={}));class R{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=n,R.VALUE_IDENTIFIER_TO_ECI.set(e,this),R.NAME_TO_ECI.set(r,this);const i=this.values;for(let o=0,s=i.length;o!==s;o++)R.VALUES_TO_ECI.set(i[o],this);for(const o of n)R.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new j("incorect value");const t=R.VALUES_TO_ECI.get(e);if(void 0===t)throw new j("incorect value");return t}static getCharacterSetECIByName(e){const t=R.NAME_TO_ECI.get(e);if(void 0===t)throw new j("incorect value");return t}equals(e){if(!(e instanceof R))return!1;const t=e;return this.getName()===t.getName()}}R.VALUE_IDENTIFIER_TO_ECI=new Map,R.VALUES_TO_ECI=new Map,R.NAME_TO_ECI=new Map,R.Cp437=new R(z.Cp437,Int32Array.from([0,2]),"Cp437"),R.ISO8859_1=new R(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),R.ISO8859_2=new R(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),R.ISO8859_3=new R(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),R.ISO8859_4=new R(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),R.ISO8859_5=new R(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),R.ISO8859_6=new R(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),R.ISO8859_7=new R(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),R.ISO8859_8=new R(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),R.ISO8859_9=new R(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),R.ISO8859_10=new R(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),R.ISO8859_11=new R(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),R.ISO8859_13=new R(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),R.ISO8859_14=new R(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),R.ISO8859_15=new R(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),R.ISO8859_16=new R(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),R.SJIS=new R(z.SJIS,20,"SJIS","Shift_JIS"),R.Cp1250=new R(z.Cp1250,21,"Cp1250","windows-1250"),R.Cp1251=new R(z.Cp1251,22,"Cp1251","windows-1251"),R.Cp1252=new R(z.Cp1252,23,"Cp1252","windows-1252"),R.Cp1256=new R(z.Cp1256,24,"Cp1256","windows-1256"),R.UnicodeBigUnmarked=new R(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),R.UTF8=new R(z.UTF8,26,"UTF8","UTF-8"),R.ASCII=new R(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),R.Big5=new R(z.Big5,28,"Big5"),R.GB18030=new R(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),R.EUC_KR=new R(z.EUC_KR,30,"EUC_KR","EUC-KR");class F extends I{}F.kind="UnsupportedOperationException";class O{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!O.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof R?e:R.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(O.isDecodeFallbackSupported(r)){let n="";for(let i=0,o=e.length;i<o;i++){let s=e[i].toString(16);s.length<2&&(s="0"+s),n+="%"+s}return decodeURIComponent(n)}if(r.equals(R.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new F(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(R.UTF8)||e.equals(R.ISO8859_1)||e.equals(R.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)}}class G{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return O.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get($.CHARACTER_SET))return t.get($.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,o=!0,s=0,a=0,A=0,h=0,g=0,f=0,D=0,y=0,Q=0,x=0,K=0;const ge=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let he=0;he<r&&(n||i||o);he++){const se=255&e[he];o&&(s>0?128&se?s--:o=!1:128&se&&(64&se?(s++,32&se?(s++,16&se?(s++,8&se?o=!1:h++):A++):a++):o=!1)),n&&(se>127&&se<160?n=!1:se>159&&(se<192||215===se||247===se)&&K++),i&&(g>0?se<64||127===se||se>252?i=!1:g--:128===se||160===se||se>239?i=!1:se>160&&se<224?(f++,y=0,++D>Q&&(Q=D)):se>127?(g++,D=0,++y>x&&(x=y)):(D=0,y=0))}return o&&s>0&&(o=!1),i&&g>0&&(i=!1),o&&(ge||a+A+h>0)?G.UTF8:i&&(G.ASSUME_SHIFT_JIS||Q>=3||x>=3)?G.SHIFT_JIS:n&&i?2===Q&&2===f||10*K>=r?G.SHIFT_JIS:G.ISO88591:n?G.ISO88591:i?G.SHIFT_JIS:o?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(n,i,o,s,a,A){if("%%"===n)return"%";if(void 0===t[++r])return;n=s?parseInt(s.substr(1)):void 0;let h,g=a?parseInt(a.substr(1)):void 0;switch(A){case"s":h=t[r];break;case"c":h=t[r][0];break;case"f":h=parseFloat(t[r]).toFixed(n);break;case"p":h=parseFloat(t[r]).toPrecision(n);break;case"e":h=parseFloat(t[r]).toExponential(n);break;case"x":h=parseInt(t[r]).toString(g||16);break;case"d":h=parseFloat(parseInt(t[r],g||10).toPrecision(n)).toFixed(0)}h="object"==typeof h?JSON.stringify(h):(+h).toString(g);let f=parseInt(o),D=o&&o[0]+""=="0"?"0":" ";for(;h.length<f;)h=void 0!==i?h+D:D+h;return h})}static getBytes(e,t){return O.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}G.SHIFT_JIS=R.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=R.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=R.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class re{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return this.value+="string"==typeof e?e.toString():this.encoding?G.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ce{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new E("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new ce(r,t);for(let i=0;i<t;i++){const o=e[i];for(let s=0;s<r;s++)o[s]&&n.set(s,i)}return n}static parseFromString(e,t,r){if(null===e)throw new E("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,o=0,s=-1,a=0,A=0;for(;A<e.length;)if("\n"===e.charAt(A)||"\r"===e.charAt(A)){if(i>o){if(-1===s)s=i-o;else if(i-o!==s)throw new E("row lengths do not match");o=i,a++}A++}else if(e.substring(A,A+t.length)===t)A+=t.length,n[i]=!0,i++;else{if(e.substring(A,A+r.length)!==r)throw new E("illegal character encountered: "+e.substring(A));A+=r.length,n[i]=!1,i++}if(i>o){if(-1===s)s=i-o;else if(i-o!==s)throw new E("row lengths do not match");a++}const h=new ce(s,a);for(let g=0;g<i;g++)n[g]&&h.set(Math.floor(g%s),Math.floor(g/s));return h}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return 0!=(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new E("input matrix dimensions do not match");const t=new oe(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i<o;i++){const s=i*r,a=e.getRow(i,t).getBitArray();for(let A=0;A<r;A++)n[s+A]^=a[A]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new E("Left and top must be nonnegative");if(n<1||r<1)throw new E("Height and width must be at least 1");const i=e+r,o=t+n;if(o>this.height||i>this.width)throw new E("The region must fit inside the matrix");const s=this.rowSize,a=this.bits;for(let A=t;A<o;A++){const h=A*s;for(let g=e;g<i;g++)a[h+Math.floor(g/32)]|=1<<(31&g)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new oe(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let o=0;o<r;o++)t.setBulk(32*o,n[i+o]);return t}setRow(e,t){V.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new oe(e),n=new oe(e);for(let i=0,o=Math.floor((t+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const t=this.height,r=this.rowSize,n=this.bits;let i=this.width,o=t,s=-1,a=-1;for(let A=0;A<t;A++)for(let h=0;h<r;h++){const g=n[A*r+h];if(0!==g){if(A<o&&(o=A),A>a&&(a=A),32*h<i){let f=0;for(;!(g<<31-f&4294967295);)f++;32*h+f<i&&(i=32*h+f)}if(32*h+31>s){let f=31;for(;!(g>>>f);)f--;32*h+f>s&&(s=32*h+f)}}}return s<i||a<o?null:Int32Array.from([i,o,s-i+1,a-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const o=t[r];let s=0;for(;!(o<<31-s&4294967295);)s++;return i+=s,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let i=32*Math.floor(r%e);const o=t[r];let s=31;for(;!(o>>>s);)s--;return i+=s,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){return e instanceof ce&&(this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&Ae.equals(this.bits,e.bits))}hashCode(){let e=this.width;return 31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+Ae.hashCode(this.bits)}toString(e="X ",t="  ",r="\n"){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new re;for(let i=0,o=this.height;i<o;i++){for(let s=0,a=this.width;s<a;s++)n.append(this.get(s,i)?e:t);n.append(r)}return n.toString()}clone(){return new ce(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends I{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class _e extends Y{constructor(e){super(e),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();null==t||t.getSize()<n?t=new oe(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),o=this.buckets;for(let a=0;a<n;a++)o[(255&i[a])>>_e.LUMINANCE_SHIFT]++;const s=_e.estimateBlackPoint(o);if(n<3)for(let a=0;a<n;a++)(255&i[a])<s&&t.set(a);else{let a=255&i[0],A=255&i[1];for(let h=1;h<n-1;h++){const g=255&i[h+1];(4*A-a-g)/2<s&&t.set(h),a=A,A=g}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new ce(t,r);this.initArrays(t);const i=this.buckets;for(let a=1;a<5;a++){const A=Math.floor(r*a/5),h=e.getRow(A,this.luminances),g=Math.floor(4*t/5);for(let f=Math.floor(t/5);f<g;f++)i[(255&h[f])>>_e.LUMINANCE_SHIFT]++}const o=_e.estimateBlackPoint(i),s=e.getMatrix();for(let a=0;a<r;a++){const A=a*t;for(let h=0;h<t;h++)(255&s[A+h])<o&&n.set(h,a)}return n}createBinarizer(e){return new _e(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<_e.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let h=0;h<t;h++)e[h]>i&&(n=h,i=e[h]),e[h]>r&&(r=e[h]);let o=0,s=0;for(let h=0;h<t;h++){const g=h-n,f=e[h]*g*g;f>s&&(o=h,s=f)}if(n>o){const h=n;n=o,o=h}if(o-n<=t/16)throw new W;let a=o-1,A=-1;for(let h=o-1;h>n;h--){const g=h-n,f=g*g*(o-h)*(r-e[h]);f>A&&(a=h,A=f)}return a<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class ae extends _e{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=ae.MINIMUM_DIMENSION&&r>=ae.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>ae.BLOCK_SIZE_POWER;t&ae.BLOCK_SIZE_MASK&&i++;let o=r>>ae.BLOCK_SIZE_POWER;r&ae.BLOCK_SIZE_MASK&&o++;const s=ae.calculateBlackPoints(n,i,o,t,r),a=new ce(t,r);ae.calculateThresholdForBlock(n,i,o,t,r,s,a),this.matrix=a}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ae(e)}static calculateThresholdForBlock(e,t,r,n,i,o,s){const a=i-ae.BLOCK_SIZE,A=n-ae.BLOCK_SIZE;for(let h=0;h<r;h++){let g=h<<ae.BLOCK_SIZE_POWER;g>a&&(g=a);const f=ae.cap(h,2,r-3);for(let D=0;D<t;D++){let y=D<<ae.BLOCK_SIZE_POWER;y>A&&(y=A);const Q=ae.cap(D,2,t-3);let x=0;for(let ge=-2;ge<=2;ge++){const he=o[f+ge];x+=he[Q-2]+he[Q-1]+he[Q]+he[Q+1]+he[Q+2]}ae.thresholdBlock(e,y,g,x/25,n,s)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,o){for(let s=0,a=r*i+t;s<ae.BLOCK_SIZE;s++,a+=i)for(let A=0;A<ae.BLOCK_SIZE;A++)(255&e[a+A])<=n&&o.set(t+A,r+s)}static calculateBlackPoints(e,t,r,n,i){const o=i-ae.BLOCK_SIZE,s=n-ae.BLOCK_SIZE,a=new Array(r);for(let A=0;A<r;A++){a[A]=new Int32Array(t);let h=A<<ae.BLOCK_SIZE_POWER;h>o&&(h=o);for(let g=0;g<t;g++){let f=g<<ae.BLOCK_SIZE_POWER;f>s&&(f=s);let D=0,y=255,Q=0;for(let K=0,ge=h*n+f;K<ae.BLOCK_SIZE;K++,ge+=n){for(let he=0;he<ae.BLOCK_SIZE;he++){const se=255&e[ge+he];D+=se,se<y&&(y=se),se>Q&&(Q=se)}if(Q-y>ae.MIN_DYNAMIC_RANGE)for(K++,ge+=n;K<ae.BLOCK_SIZE;K++,ge+=n)for(let he=0;he<ae.BLOCK_SIZE;he++)D+=255&e[ge+he]}let x=D>>2*ae.BLOCK_SIZE_POWER;if(Q-y<=ae.MIN_DYNAMIC_RANGE&&(x=y/2,A>0&&g>0)){const K=(a[A-1][g]+2*a[A][g-1]+a[A-1][g-1])/4;y<K&&(x=K)}a[A][g]=x}}return a}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=5*ae.BLOCK_SIZE,ae.MIN_DYNAMIC_RANGE=24;class p{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new F("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new F("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new F("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new re;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const o=255&n[i];let s;s=o<64?"#":o<128?"+":o<192?".":" ",t.append(s)}t.append("\n")}return t.toString()}}class d extends p{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(255&r[i]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new d(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new d(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new d(this.delegate.rotateCounterClockwise45())}}class w extends p{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=w.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return w.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,o=0,s=e.length;i<s;i+=4,o++){let a;a=0===e[i+3]?255:306*e[i]+601*e[i+1]+117*e[i+2]+512>>10,n[o]=a}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new E("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*w.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),a=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return t.width=s,t.height=a,r.translate(s/2,a/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=w.makeBufferFromCanvasImageData(t),this}invert(){return new d(this)}}w.DEGREE_TO_RADIANS=Math.PI/180;class N{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var k,b=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(u,e,t,r){return new(t||(t=Promise))(function(n,i){function o(A){try{a(r.next(A))}catch(h){i(h)}}function s(A){try{a(r.throw(A))}catch(h){i(h)}}function a(A){var h;A.done?n(A.value):(h=A.value,h instanceof t?h:new t(function(g){g(h)})).then(o,s)}a((r=r.apply(u,e||[])).next())})};class L{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return b(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n="video"===r.kind?"videoinput":r.kind;"videoinput"===n&&t.push({deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:n,groupId:r.groupId})}return t})}getVideoInputDevices(){return b(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new N(e.deviceId,e.label))})}findDeviceById(e){return b(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return b(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return b(this,void 0,void 0,function*(){let r;this.reset();const n={video:r=e?{deviceId:{exact:e}}:{facingMode:"environment"}};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return b(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return b(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return b(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return b(this,void 0,void 0,function*(){let n;const i={video:n=e?{deviceId:{exact:e}}:{facingMode:"environment"}};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return b(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return b(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return b(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return b(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new T(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new T(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new T("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new T("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new T("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return b(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return b(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&((t=document.createElement("img")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||typeof document>"u"||((t=document.createElement("video")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=>{if(this._stopAsyncDecode)return o(new W("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{i(this.decode(e))}catch(s){if(t&&s instanceof W||(s instanceof P||s instanceof j)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(s)}};return new Promise((i,o)=>n(i,o))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n),(n instanceof P||n instanceof j||n instanceof W)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}createBinaryBitmap(e){const t=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(t,e);const r=this.getCaptureCanvas(e),n=new w(r),i=new ae(n);return new M(i)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}drawImageOnCanvas(e,t){e.drawImage(t,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return void 0!==e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(e,t,r=(null==t?0:8*t.length),n,i,o=V.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=r??(null==t?0:8*t.length),this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=o??V.currentTimeMillis()}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);V.arraycopy(t,0,r,0,t.length),V.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(u){u[u.AZTEC=0]="AZTEC",u[u.CODABAR=1]="CODABAR",u[u.CODE_39=2]="CODE_39",u[u.CODE_93=3]="CODE_93",u[u.CODE_128=4]="CODE_128",u[u.DATA_MATRIX=5]="DATA_MATRIX",u[u.EAN_8=6]="EAN_8",u[u.EAN_13=7]="EAN_13",u[u.ITF=8]="ITF",u[u.MAXICODE=9]="MAXICODE",u[u.PDF_417=10]="PDF_417",u[u.QR_CODE=11]="QR_CODE",u[u.RSS_14=12]="RSS_14",u[u.RSS_EXPANDED=13]="RSS_EXPANDED",u[u.UPC_A=14]="UPC_A",u[u.UPC_E=15]="UPC_E",u[u.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(k||(k={}));var de,te=k;!function(u){u[u.OTHER=0]="OTHER",u[u.ORIENTATION=1]="ORIENTATION",u[u.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",u[u.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",u[u.ISSUE_NUMBER=4]="ISSUE_NUMBER",u[u.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",u[u.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",u[u.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",u[u.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",u[u.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",u[u.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(de||(de={}));var me,Ce,le,Ee,pe,De,ye=de;class He{constructor(e,t,r,n,i=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(e){return this.expTable[e]}log(e){if(0===e)throw new E;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class je{constructor(e,t){if(0===t.length)throw new E;this.field=e;const r=t.length;if(r>1&&0===t[0]){let n=1;for(;n<r&&0===t[n];)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),V.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let o=0,s=t.length;o!==s;o++)r=Te.addOrSubtract(r,t[o]);return r}r=t[0];const n=t.length,i=this.field;for(let o=1;o<n;o++)r=Te.addOrSubtract(i.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const o=t;t=r,r=o}let n=new Int32Array(r.length);const i=r.length-t.length;V.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=Te.addOrSubtract(t[o-i],r[o]);return new je(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1),s=this.field;for(let a=0;a<r;a++){const A=t[a];for(let h=0;h<i;h++)o[a+h]=Te.addOrSubtract(o[a+h],s.multiply(A,n[h]))}return new je(s,o)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(i[o],e);return new je(r,n)}multiplyByMonomial(e,t){if(e<0)throw new E;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),o=this.field;for(let s=0;s<n;s++)i[s]=o.multiply(r[s],t);return new je(o,i)}divide(e){if(!this.field.equals(e.field))throw new E("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new E("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),o=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const s=n.getDegree()-e.getDegree(),a=t.multiply(n.getCoefficient(n.getDegree()),o),A=e.multiplyByMonomial(s,a),h=t.buildMonomial(s,a);r=r.addOrSubtract(h),n=n.addOrSubtract(A)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const n=this.field.log(r);0===n?e+="1":1===n?e+="a":(e+="a^",e+=n)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class ht extends I{}ht.kind="ArithmeticException";class be extends Te{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let s=0;s<t;s++)n[s]=i,(i*=2)>=t&&(i^=e,i&=t-1);this.expTable=n;const o=new Int32Array(t);for(let s=0;s<t-1;s++)o[n[s]]=s;this.logTable=o,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new E;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new je(this,r)}inverse(e){if(0===e)throw new ht;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}be.AZTEC_DATA_12=new be(4201,4096,1),be.AZTEC_DATA_10=new be(1033,1024,1),be.AZTEC_DATA_6=new be(67,64,1),be.AZTEC_PARAM=new be(19,16,1),be.QR_CODE_FIELD_256=new be(285,256,0),be.DATA_MATRIX_FIELD_256=new be(301,256,1),be.AZTEC_DATA_8=be.DATA_MATRIX_FIELD_256,be.MAXICODE_FIELD_64=be.AZTEC_DATA_6;class pt extends I{}pt.kind="ReedSolomonException";class ft extends I{}ft.kind="IllegalStateException";class Ut{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new je(r,e),i=new Int32Array(t);let o=!0;for(let D=0;D<t;D++){const y=n.evaluateAt(r.exp(D+r.getGeneratorBase()));i[i.length-1-D]=y,0!==y&&(o=!1)}if(o)return;const s=new je(r,i),a=this.runEuclideanAlgorithm(r.buildMonomial(t,1),s,t),h=a[1],g=this.findErrorLocations(a[0]),f=this.findErrorMagnitudes(h,g);for(let D=0;D<g.length;D++){const y=e.length-1-r.log(g[D]);if(y<0)throw new pt("Bad error location");e[y]=be.addOrSubtract(e[y],f[D])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const g=e;e=t,t=g}const n=this.field;let i=e,o=t,s=n.getZero(),a=n.getOne();for(;o.getDegree()>=(r/2|0);){let g=i,f=s;if(s=a,(i=o).isZero())throw new pt("r_{i-1} was zero");o=g;let D=n.getZero();const y=i.getCoefficient(i.getDegree()),Q=n.inverse(y);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){const x=o.getDegree()-i.getDegree(),K=n.multiply(o.getCoefficient(o.getDegree()),Q);D=D.addOrSubtract(n.buildMonomial(x,K)),o=o.addOrSubtract(i.multiplyByMonomial(x,K))}if(a=D.multiply(s).addOrSubtract(f),o.getDegree()>=i.getDegree())throw new ft("Division algorithm failed to reduce polynomial?")}const A=a.getCoefficient(0);if(0===A)throw new pt("sigmaTilde(0) was zero");const h=n.inverse(A);return[a.multiplyScalar(h),o.multiplyScalar(h)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let o=1;o<i.getSize()&&n<t;o++)0===e.evaluateAt(o)&&(r[n]=i.inverse(o),n++);if(n!==t)throw new pt("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let o=0;o<r;o++){const s=i.inverse(t[o]);let a=1;for(let A=0;A<r;A++)if(o!==A){const h=i.multiply(t[A],s);a=i.multiply(a,1&h?-2&h:1|h)}n[o]=i.multiply(e.evaluateAt(s),i.inverse(a)),0!==i.getGeneratorBase()&&(n[o]=i.multiply(n[o],s))}return n}}!function(u){u[u.UPPER=0]="UPPER",u[u.LOWER=1]="LOWER",u[u.MIXED=2]="MIXED",u[u.DIGIT=3]="DIGIT",u[u.PUNCT=4]="PUNCT",u[u.BINARY=5]="BINARY"}(me||(me={}));class l{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=l.convertBoolArrayToByteArray(n),o=l.getEncodedData(n),s=new He(i,o,null,null);return s.setNumBits(n.length),s}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=me.UPPER,n=me.UPPER,i="",o=0;for(;o<t;)if(n===me.BINARY){if(t-o<5)break;let s=l.readCode(e,o,5);if(o+=5,0===s){if(t-o<11)break;s=l.readCode(e,o,11)+31,o+=11}for(let a=0;a<s;a++){if(t-o<8){o=t;break}const A=l.readCode(e,o,8);i+=G.castAsNonUtf8Char(A),o+=8}n=r}else{let s=n===me.DIGIT?4:5;if(t-o<s)break;let a=l.readCode(e,o,s);o+=s;let A=l.getCharacter(n,a);A.startsWith("CTRL_")?(r=n,n=l.getTable(A.charAt(5)),"L"===A.charAt(6)&&(r=n)):(i+=A,n=r)}return i}static getTable(e){switch(e){case"L":return me.LOWER;case"P":return me.PUNCT;case"M":return me.MIXED;case"D":return me.DIGIT;case"B":return me.BINARY;default:return me.UPPER}}static getCharacter(e,t){switch(e){case me.UPPER:return l.UPPER_TABLE[t];case me.LOWER:return l.LOWER_TABLE[t];case me.MIXED:return l.MIXED_TABLE[t];case me.PUNCT:return l.PUNCT_TABLE[t];case me.DIGIT:return l.DIGIT_TABLE[t];default:throw new ft("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=be.AZTEC_DATA_10):(r=12,t=be.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new j;let o=e.length%r,s=new Int32Array(i);for(let f=0;f<i;f++,o+=r)s[f]=l.readCode(e,o,r);try{new Ut(t).decode(s,i-n)}catch(f){throw new j(f)}let a=(1<<r)-1,A=0;for(let f=0;f<n;f++){let D=s[f];if(0===D||D===a)throw new j;1!==D&&D!==a-1||A++}let h=new Array(n*r-A),g=0;for(let f=0;f<n;f++){let D=s[f];if(1===D||D===a-1)h.fill(D>1,g,g+r-1),g+=r-1;else for(let y=r-1;y>=0;--y)h[g++]=0!=(D&1<<y)}return h}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let s=0;s<i.length;s++)i[s]=s;else{let s=n+1+2*X.truncDivision(X.truncDivision(n,2)-1,15),a=n/2,A=X.truncDivision(s,2);for(let h=0;h<a;h++){let g=h+X.truncDivision(h,15);i[a-h-1]=A-g-1,i[a+h]=A+g+1}}for(let s=0,a=0;s<r;s++){let A=4*(r-s)+(t?9:12),h=2*s,g=n-1-h;for(let f=0;f<A;f++){let D=2*f;for(let y=0;y<2;y++)o[a+D+y]=e.get(i[h+y],i[h+f]),o[a+2*A+D+y]=e.get(i[h+f],i[g-y]),o[a+4*A+D+y]=e.get(i[g-y],i[g-f]),o[a+6*A+D+y]=e.get(i[g-f],i[h+y])}a+=8*A}return o}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?l.readCode(e,t,8):l.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=l.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}l.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],l.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],l.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],l.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],l.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class c{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,o=t-n;return Math.sqrt(i*i+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class C{static floatToIntBits(e){return e}}C.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){return e instanceof B&&(this.x===e.x&&this.y===e.y)}hashCode(){return 31*C.floatToIntBits(this.x)+C.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,o,s;if(r>=t&&r>=n?(o=e[0],i=e[1],s=e[2]):n>=r&&n>=t?(o=e[1],i=e[0],s=e[2]):(o=e[2],i=e[0],s=e[1]),this.crossProductZ(i,o,s)<0){const a=i;i=s,s=a}e[0]=i,e[1]=o,e[2]=s}static distance(e,t){return c.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class J{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ie extends J{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Se{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=Se.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==n&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,s=!1,a=!1,A=!1,h=!1,g=!1;const f=this.width,D=this.height;for(;o;){o=!1;let y=!0;for(;(y||!a)&&t<f;)(y=this.containsBlackPoint(r,n,t,!1))?(t++,o=!0,a=!0):a||t++;if(t>=f){i=!0;break}let Q=!0;for(;(Q||!A)&&n<D;)(Q=this.containsBlackPoint(e,t,n,!0))?(n++,o=!0,A=!0):A||n++;if(n>=D){i=!0;break}let x=!0;for(;(x||!h)&&e>=0;)(x=this.containsBlackPoint(r,n,e,!1))?(e--,o=!0,h=!0):h||e--;if(e<0){i=!0;break}let K=!0;for(;(K||!g)&&r>=0;)(K=this.containsBlackPoint(e,t,r,!0))?(r--,o=!0,g=!0):g||r--;if(r<0){i=!0;break}o&&(s=!0)}if(!i&&s){const y=t-e;let Q=null;for(let he=1;null===Q&&he<y;he++)Q=this.getBlackPointOnSegment(e,n-he,e+he,n);if(null==Q)throw new W;let x=null;for(let he=1;null===x&&he<y;he++)x=this.getBlackPointOnSegment(e,r+he,e+he,r);if(null==x)throw new W;let K=null;for(let he=1;null===K&&he<y;he++)K=this.getBlackPointOnSegment(t,r+he,t-he,r);if(null==K)throw new W;let ge=null;for(let he=1;null===ge&&he<y;he++)ge=this.getBlackPointOnSegment(t,n-he,t-he,n);if(null==ge)throw new W;return this.centerEdges(ge,Q,K,x)}throw new W}getBlackPointOnSegment(e,t,r,n){const i=c.round(c.distance(e,t,r,n)),o=(r-e)/i,s=(n-t)/i,a=this.image;for(let A=0;A<i;A++){const h=c.round(e+A*o),g=c.round(t+A*s);if(a.get(h,g))return new B(h,g)}return null}centerEdges(e,t,r,n){const i=e.getX(),o=e.getY(),s=t.getX(),a=t.getY(),A=r.getX(),h=r.getY(),g=n.getX(),f=n.getY(),D=Se.CORR;return i<this.width/2?[new B(g-D,f+D),new B(s+D,a+D),new B(A-D,h-D),new B(i+D,o-D)]:[new B(g+D,f+D),new B(s+D,a-D),new B(A-D,h+D),new B(i-D,o-D)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let o=e;o<=t;o++)if(i.get(o,r))return!0}else for(let o=e;o<=t;o++)if(i.get(r,o))return!0;return!1}}Se.INIT_SIZE=10,Se.CORR=1;class xe{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let o=0;o<t.length&&i;o+=2){const s=Math.floor(t[o]),a=Math.floor(t[o+1]);if(s<-1||s>r||a<-1||a>n)throw new W;i=!1,-1===s?(t[o]=0,i=!0):s===r&&(t[o]=r-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===n&&(t[o+1]=n-1,i=!0)}i=!0;for(let o=t.length-2;o>=0&&i;o-=2){const s=Math.floor(t[o]),a=Math.floor(t[o+1]);if(s<-1||s>r||a<-1||a>n)throw new W;i=!1,-1===s?(t[o]=0,i=!0):s===r&&(t[o]=r-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===n&&(t[o+1]=n-1,i=!0)}}}class Ze{constructor(e,t,r,n,i,o,s,a,A){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=s,this.a23=a,this.a33=A}static quadrilateralToQuadrilateral(e,t,r,n,i,o,s,a,A,h,g,f,D,y,Q,x){const K=Ze.quadrilateralToSquare(e,t,r,n,i,o,s,a);return Ze.squareToQuadrilateral(A,h,g,f,D,y,Q,x).times(K)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,s=this.a22,a=this.a23,A=this.a31,h=this.a32,g=this.a33;for(let f=0;f<t;f+=2){const D=e[f],y=e[f+1],Q=i*D+a*y+g;e[f]=(r*D+o*y+A)/Q,e[f+1]=(n*D+s*y+h)/Q}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,o=this.a21,s=this.a22,a=this.a23,A=this.a31,h=this.a32,g=this.a33,f=e.length;for(let D=0;D<f;D++){const y=e[D],Q=t[D],x=i*y+a*Q+g;e[D]=(r*y+o*Q+A)/x,t[D]=(n*y+s*Q+h)/x}}static squareToQuadrilateral(e,t,r,n,i,o,s,a){const A=e-r+i-s,h=t-n+o-a;if(0===A&&0===h)return new Ze(r-e,i-r,e,n-t,o-n,t,0,0,1);{const g=r-i,f=s-i,D=n-o,y=a-o,Q=g*y-f*D,x=(A*y-f*h)/Q,K=(g*h-A*D)/Q;return new Ze(r-e+x*r,s-e+K*s,e,n-t+x*n,a-t+K*a,t,x,K,1)}}static quadrilateralToSquare(e,t,r,n,i,o,s,a){return Ze.squareToQuadrilateral(e,t,r,n,i,o,s,a).buildAdjoint()}buildAdjoint(){return new Ze(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ze(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Xe extends xe{sampleGrid(e,t,r,n,i,o,s,a,A,h,g,f,D,y,Q,x,K,ge,he){const se=Ze.quadrilateralToQuadrilateral(n,i,o,s,a,A,h,g,f,D,y,Q,x,K,ge,he);return this.sampleGridWithTransform(e,t,r,se)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new W;const i=new ce(t,r),o=new Float32Array(2*t);for(let s=0;s<r;s++){const a=o.length,A=s+.5;for(let h=0;h<a;h+=2)o[h]=h/2+.5,o[h+1]=A;n.transformPoints(o),xe.checkAndNudgePoints(e,o);try{for(let h=0;h<a;h+=2)e.get(Math.floor(o[h]),Math.floor(o[h+1]))&&i.set(h/2,s)}catch{throw new W}}return i}}class Ve{static setGridSampler(e){Ve.gridSampler=e}static getInstance(){return Ve.gridSampler}}Ve.gridSampler=new Xe;class We{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new B(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new ie(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new W;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let o=0;o<4;o++){let s=r[(this.shift+o)%4];this.compact?(n<<=7,n+=s>>1&127):(n<<=10,n+=(s>>2&992)+(s>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))}getRotation(e,t){let r=0;e.forEach((n,i,o)=>{r=(n>>t-2<<1)+(1&n)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(let n=0;n<4;n++)if(X.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new W}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,o=new Int32Array(r);for(let a=r-1;a>=0;--a)o[a]=15&e,e>>=4;try{new Ut(be.AZTEC_PARAM).decode(o,i)}catch{throw new W}let s=0;for(let a=0;a<n;a++)s=(s<<4)+o[a];return s}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let g=this.getFirstDifferent(t,o,1,-1),f=this.getFirstDifferent(r,o,1,1),D=this.getFirstDifferent(n,o,-1,1),y=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(y,g)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(g,f,D,y))break}t=g,r=f,n=D,i=y,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new W;this.compact=5===this.nbCenterLayers;let s=new B(t.getX()+.5,t.getY()-.5),a=new B(r.getX()+.5,r.getY()+.5),A=new B(n.getX()-.5,n.getY()+.5),h=new B(i.getX()-.5,i.getY()-.5);return this.expandSquare([s,a,A,h],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let s=new Se(this.image).detect();e=s[0],t=s[1],r=s[2],n=s[3]}catch{let a=this.image.getWidth()/2,A=this.image.getHeight()/2;e=this.getFirstDifferent(new We(a+7,A-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new We(a+7,A+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new We(a-7,A+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new We(a-7,A-7),!1,-1,-1).toResultPoint()}let i=c.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=c.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let s=new Se(this.image,15,i,o).detect();e=s[0],t=s[1],r=s[2],n=s[3]}catch{e=this.getFirstDifferent(new We(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new We(i+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new We(i-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new We(i-7,o-7),!1,-1,-1).toResultPoint()}return i=c.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=c.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new We(i,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let o=Ve.getInstance(),s=this.getDimension(),a=s/2-this.nbCenterLayers,A=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,a,a,A,a,A,A,a,A,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),o=i/r,s=e.getX(),a=e.getY(),A=o*(t.getX()-e.getX())/i,h=o*(t.getY()-e.getY())/i;for(let g=0;g<r;g++)this.image.get(c.round(s+g*A),c.round(a+g*h))&&(n|=1<<r-g-1);return n}isWhiteOrBlackRectangle(e,t,r,n){e=new We(e.getX()-3,e.getY()+3),t=new We(t.getX()-3,t.getY()-3),r=new We(r.getX()+3,r.getY()-3),n=new We(n.getX()+3,n.getY()+3);let i=this.getColor(n,e);if(0===i)return!1;let o=this.getColor(e,t);return o===i&&(o=this.getColor(t,r))===i&&(o=this.getColor(r,n))===i}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,o=0,s=e.getX(),a=e.getY(),A=this.image.get(e.getX(),e.getY()),h=Math.ceil(r);for(let f=0;f<h;f++)s+=n,a+=i,this.image.get(c.round(s),c.round(a))!==A&&o++;let g=o/r;return g>.1&&g<.9?0:g<=.1===A?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,o=e.getY()+n;for(;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=n;return new We(i,o-=n)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,a=(e[0].getY()+e[2].getY())/2,A=new B(s+n*i,a+n*o),h=new B(s-n*i,a-n*o);return i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,a=(e[1].getY()+e[3].getY())/2,[A,new B(s+n*i,a+n*o),h,new B(s-n*i,a-n*o)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=c.round(e.getX()),r=c.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return c.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return c.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class Zt{decode(e,t=null){let r=null,n=new Qt(e.getBlackMatrix()),i=null,o=null;try{let h=n.detectMirror(!1);i=h.getPoints(),this.reportFoundResultPoints(t,i),o=(new l).decode(h)}catch(h){r=h}if(null==o)try{let h=n.detectMirror(!0);i=h.getPoints(),this.reportFoundResultPoints(t,i),o=(new l).decode(h)}catch(h){throw r??h}let s=new ee(o.getText(),o.getRawBytes(),o.getNumBits(),i,te.AZTEC,V.currentTimeMillis()),a=o.getByteSegments();null!=a&&s.putMetadata(ye.BYTE_SEGMENTS,a);let A=o.getECLevel();return null!=A&&s.putMetadata(ye.ERROR_CORRECTION_LEVEL,A),s}reportFoundResultPoints(e,t){if(null!=e){let r=e.get($.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach((n,i,o)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class tt{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&!0===t.get($.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),i=this.doDecode(n,t),o=i.getResultMetadata();let s=270;null!==o&&!0===o.get(ye.ORIENTATION)&&(s+=o.get(ye.ORIENTATION)%360),i.putMetadata(ye.ORIENTATION,s);const a=i.getResultPoints();if(null!==a){const A=n.getHeight();for(let h=0;h<a.length;h++)a[h]=new B(A-a[h].getY()-1,a[h].getX())}return i}throw new W}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new oe(r);const o=t&&!0===t.get($.TRY_HARDER),s=Math.max(1,n>>(o?8:5));let a;a=o?n:15;const A=Math.trunc(n/2);for(let h=0;h<a;h++){const g=Math.trunc((h+1)/2),f=A+s*(1&h?-g:g);if(f<0||f>=n)break;try{i=e.getBlackRow(f,i)}catch{continue}for(let D=0;D<2;D++){if(1===D&&(i.reverse(),t&&!0===t.get($.NEED_RESULT_POINT_CALLBACK))){const y=new Map;t.forEach((Q,x)=>y.set(x,Q)),y.delete($.NEED_RESULT_POINT_CALLBACK),t=y}try{const y=this.decodeRow(f,i,t);if(1===D){y.putMetadata(ye.ORIENTATION,180);const Q=y.getResultPoints();null!==Q&&(Q[0]=new B(r-Q[0].getX()-1,Q[0].getY()),Q[1]=new B(r-Q[1].getX()-1,Q[1].getY()))}return y}catch{}}}throw new W}static recordPattern(e,t,r){const n=r.length;for(let A=0;A<n;A++)r[A]=0;const i=e.getSize();if(t>=i)throw new W;let o=!e.get(t),s=0,a=t;for(;a<i;){if(e.get(a)!==o)r[s]++;else{if(++s===n)break;r[s]=1,o=!o}a++}if(s!==n&&(s!==n-1||a!==i))throw new W}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new W;tt.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,o=0;for(let A=0;A<n;A++)i+=e[A],o+=t[A];if(i<o)return Number.POSITIVE_INFINITY;const s=i/o;r*=s;let a=0;for(let A=0;A<n;A++){const h=e[A],g=t[A]*s,f=h>g?h-g:g-h;if(f>r)return Number.POSITIVE_INFINITY;a+=f}return a/i}}class ue extends tt{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),o=r,s=!1;for(let a=r;a<t;a++)if(e.get(a)!==s)i[n]++;else{if(5===n){let A=ue.MAX_AVG_VARIANCE,h=-1;for(let g=ue.CODE_START_A;g<=ue.CODE_START_C;g++){const f=tt.patternMatchVariance(i,ue.CODE_PATTERNS[g],ue.MAX_INDIVIDUAL_VARIANCE);f<A&&(A=f,h=g)}if(h>=0&&e.isRange(Math.max(0,o-(a-o)/2),o,!1))return Int32Array.from([o,a,h]);o+=i[0]+i[1],(i=i.slice(2,i.length-1))[n-1]=0,i[n]=0,n--}else n++;i[n]=1,s=!s}throw new W}static decodeCode(e,t,r){tt.recordPattern(e,r,t);let n=ue.MAX_AVG_VARIANCE,i=-1;for(let o=0;o<ue.CODE_PATTERNS.length;o++){const a=this.patternMatchVariance(t,ue.CODE_PATTERNS[o],ue.MAX_INDIVIDUAL_VARIANCE);a<n&&(n=a,i=o)}if(i>=0)return i;throw new W}decodeRow(e,t,r){const n=r&&!0===r.get($.ASSUME_GS1),i=ue.findStartPattern(t),o=i[2];let s=0;const a=new Uint8Array(20);let A;switch(a[s++]=o,o){case ue.CODE_START_A:A=ue.CODE_CODE_A;break;case ue.CODE_START_B:A=ue.CODE_CODE_B;break;case ue.CODE_START_C:A=ue.CODE_CODE_C;break;default:throw new j}let h=!1,g=!1,f="",D=i[0],y=i[1];const Q=Int32Array.from([0,0,0,0,0,0]);let x=0,K=0,ge=o,he=0,se=!0,ve=!1,Oe=!1;for(;!h;){const tr=g;switch(g=!1,x=K,K=ue.decodeCode(t,Q,y),a[s++]=K,K!==ue.CODE_STOP&&(se=!0),K!==ue.CODE_STOP&&(ge+=++he*K),D=y,y+=Q.reduce((Sn,Rn)=>Sn+Rn,0),K){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new j}switch(A){case ue.CODE_CODE_A:if(K<64)f+=String.fromCharCode(Oe===ve?" ".charCodeAt(0)+K:" ".charCodeAt(0)+K+128),Oe=!1;else if(K<96)f+=String.fromCharCode(Oe===ve?K-64:K+64),Oe=!1;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!ve&&Oe?(ve=!0,Oe=!1):ve&&Oe?(ve=!1,Oe=!1):Oe=!0;break;case ue.CODE_SHIFT:g=!0,A=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:A=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:A=ue.CODE_CODE_C;break;case ue.CODE_STOP:h=!0}break;case ue.CODE_CODE_B:if(K<96)f+=String.fromCharCode(Oe===ve?" ".charCodeAt(0)+K:" ".charCodeAt(0)+K+128),Oe=!1;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!ve&&Oe?(ve=!0,Oe=!1):ve&&Oe?(ve=!1,Oe=!1):Oe=!0;break;case ue.CODE_SHIFT:g=!0,A=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:A=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:A=ue.CODE_CODE_C;break;case ue.CODE_STOP:h=!0}break;case ue.CODE_CODE_C:if(K<100)K<10&&(f+="0"),f+=K;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case ue.CODE_CODE_A:A=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:A=ue.CODE_CODE_B;break;case ue.CODE_STOP:h=!0}}tr&&(A=A===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const mt=y-D;if(y=t.getNextUnset(y),!t.isRange(y,Math.min(t.getSize(),y+(y-D)/2),!1))throw new W;if((ge-=he*x)%103!==x)throw new P;const ke=f.length;if(0===ke)throw new W;ke>0&&se&&(f=f.substring(0,A===ue.CODE_CODE_C?ke-2:ke-1));const Ke=(i[1]+i[0])/2,Bt=D+mt/2,Xt=a.length,en=new Uint8Array(Xt);for(let tr=0;tr<Xt;tr++)en[tr]=a[tr];const pn=[new B(Ke,e),new B(Bt,e)];return new ee(f,en,0,pn,te.CODE_128,(new Date).getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class at extends tt{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i,o,s=at.findAsteriskPattern(t,n),a=t.getNextSet(s[1]),A=t.getSize();do{at.recordPattern(t,a,n);let y=at.toNarrowWidePattern(n);if(y<0)throw new W;i=at.patternToChar(y),this.decodeRowResult+=i,o=a;for(let Q of n)a+=Q;a=t.getNextSet(a)}while("*"!==i);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let h,g=0;for(let y of n)g+=y;if(a!==A&&2*(a-o-g)<g)throw new W;if(this.usingCheckDigit){let y=this.decodeRowResult.length-1,Q=0;for(let x=0;x<y;x++)Q+=at.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(x));if(this.decodeRowResult.charAt(y)!==at.ALPHABET_STRING.charAt(Q%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,y)}if(0===this.decodeRowResult.length)throw new W;h=this.extendedMode?at.decodeExtended(this.decodeRowResult):this.decodeRowResult;let D=o+g/2;return new ee(h,null,0,[new B((s[1]+s[0])/2,e),new B(D,e)],te.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,o=n,s=!1,a=t.length;for(let A=n;A<r;A++)if(e.get(A)!==s)t[i]++;else{if(i===a-1){if(this.toNarrowWidePattern(t)===at.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((A-o)/2)),o,!1))return[o,A];o+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,s=!s}throw new W}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let i=2147483647;for(let a of e)a<i&&a>n&&(i=a);n=i,t=0;let o=0,s=0;for(let a=0;a<r;a++){let A=e[a];A>n&&(s|=1<<r-1-a,t++,o+=A)}if(3===t){for(let a=0;a<r&&t>0;a++){let A=e[a];if(A>n&&(t--,2*A>=o))return-1}return s}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<at.CHARACTER_ENCODINGS.length;t++)if(at.CHARACTER_ENCODINGS[t]===e)return at.ALPHABET_STRING.charAt(t);if(e===at.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if("+"===i||"$"===i||"%"===i||"/"===i){let o=e.charAt(n+1),s="\0";switch(i){case"+":if(!(o>="A"&&o<="Z"))throw new j;s=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new j;s=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")s=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")s=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")s=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)s="\0";else if("V"===o)s="@";else if("W"===o)s="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new j;s="\x7f"}break;case"/":if(o>="A"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new j;s=":"}}r+=s,n++}else r+=i}return r}}at.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",at.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],at.ASTERISK_ENCODING=148;class ze extends tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),o=new re;ze.decodeMiddle(t,n[1],i[0],o);let s=o.toString(),a=null;null!=r&&(a=r.get($.ALLOWED_LENGTHS)),null==a&&(a=ze.DEFAULT_ALLOWED_LENGTHS);let A=s.length,h=!1,g=0;for(let D of a){if(A===D){h=!0;break}D>g&&(g=D)}if(!h&&A>g&&(h=!0),!h)throw new j;const f=[new B(n[1],e),new B(i[0],e)];return new ee(s,null,0,f,te.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),o=new Int32Array(5),s=new Int32Array(5);for(i.fill(0),o.fill(0),s.fill(0);t<r;){tt.recordPattern(e,t,i);for(let A=0;A<5;A++){let h=2*A;o[A]=i[h],s[A]=i[h+1]}let a=ze.decodeDigit(o);n.append(a.toString()),a=this.decodeDigit(s),n.append(a.toString()),i.forEach(function(A){t+=A})}}decodeStart(e){let t=ze.skipWhiteSpace(e),r=ze.findGuardPattern(e,t,ze.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new W}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new W;return r}decodeEnd(e){e.reverse();try{let t,r=ze.skipWhiteSpace(e);try{t=ze.findGuardPattern(e,r,ze.END_PATTERN_REVERSED[0])}catch(i){i instanceof W&&(t=ze.findGuardPattern(e,r,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,t[0]);let n=t[0];return t[0]=e.getSize()-t[1],t[1]=e.getSize()-n,t}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),o=e.getSize(),s=!1,a=0,A=t;i.fill(0);for(let h=t;h<o;h++)if(e.get(h)!==s)i[a]++;else{if(a===n-1){if(tt.patternMatchVariance(i,r,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[A,h];A+=i[0]+i[1],V.arraycopy(i,2,i,0,a-1),i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,s=!s}throw new W}static decodeDigit(e){let t=ze.MAX_AVG_VARIANCE,r=-1,n=ze.PATTERNS.length;for(let i=0;i<n;i++){let s=tt.patternMatchVariance(e,ze.PATTERNS[i],ze.MAX_INDIVIDUAL_VARIANCE);s<t?(t=s,r=i):s===t&&(r=-1)}if(r>=0)return r%10;throw new W}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class nt extends tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,i=Int32Array.from([0,0,0]);for(;!r;){i=Int32Array.from([0,0,0]);let o=(t=nt.findGuardPattern(e,n,!1,this.START_END_PATTERN,i))[0],s=o-((n=t[1])-o);s>=0&&(r=e.isRange(s,o,!1))}return t}static checkChecksum(e){return nt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return nt.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new j;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new j;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return nt.findGuardPattern(e,t,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let o=e.getSize(),s=0,a=t=r?e.getNextUnset(t):e.getNextSet(t),A=n.length,h=r;for(let g=t;g<o;g++)if(e.get(g)!==h)i[s]++;else{if(s===A-1){if(tt.patternMatchVariance(i,n,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return Int32Array.from([a,g]);a+=i[0]+i[1];let f=i.slice(2,i.length-1);for(let D=0;D<s-1;D++)i[D]=f[D];i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,h=!h}throw new W}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,o=-1,s=n.length;for(let a=0;a<s;a++){let h=tt.patternMatchVariance(t,n[a],nt.MAX_INDIVIDUAL_VARIANCE);h<i&&(i=h,o=a)}if(o>=0)return o;throw new W}}nt.MAX_AVG_VARIANCE=.48,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.START_END_PATTERN=Int32Array.from([1,1,1]),nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class rr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),s=rr.parseExtensionString(o),a=[new B((r[0]+r[1])/2,e),new B(i,e)],A=new ee(o,null,0,a,te.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&A.putAllMetadata(s),A}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],s=0;for(let A=0;A<5&&o<i;A++){let h=nt.decodeDigit(e,n,o,nt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);for(let g of n)o+=g;h>=10&&(s|=1<<4-A),4!==A&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(5!==r.length)throw new W;let a=this.determineCheckDigit(s);if(rr.extensionChecksum(r.toString())!==a)throw new W;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new W}static parseExtensionString(e){if(5!==e.length)return null;let t=rr.parseExtension5String(e);return null==t?null:new Map([[ye.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class mr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),s=mr.parseExtensionString(o),a=[new B((r[0]+r[1])/2,e),new B(i,e)],A=new ee(o,null,0,a,te.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&A.putAllMetadata(s),A}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],s=0;for(let a=0;a<2&&o<i;a++){let A=nt.decodeDigit(e,n,o,nt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let h of n)o+=h;A>=10&&(s|=1<<1-a),1!==a&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(2!==r.length)throw new W;if(parseInt(r.toString())%4!==s)throw new W;return o}static parseExtensionString(e){return 2!==e.length?null:new Map([[ye.ISSUE_NUMBER,parseInt(e)]])}}class Gr{static decodeRow(e,t,r){let n=nt.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new rr).decodeRow(e,t,n)}catch{return(new mr).decodeRow(e,t,n)}}}Gr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends nt{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Ue.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];Ue.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Ue.findStartGuardPattern(t),i=null==r?null:r.get($.NEED_RESULT_POINT_CALLBACK);if(null!=i){const se=new B((n[0]+n[1])/2,e);i.foundPossibleResultPoint(se)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),s=o.rowOffset,a=o.resultString;if(null!=i){const se=new B(s,e);i.foundPossibleResultPoint(se)}let A=Ue.decodeEnd(t,s);if(null!=i){const se=new B((A[0]+A[1])/2,e);i.foundPossibleResultPoint(se)}let h=A[1],g=h+(h-A[0]);if(g>=t.getSize()||!t.isRange(h,g,!1))throw new W;let f=a.toString();if(f.length<8)throw new j;if(!Ue.checkChecksum(f))throw new P;let D=(n[1]+n[0])/2,y=(A[1]+A[0])/2,Q=this.getBarcodeFormat(),x=[new B(D,e),new B(y,e)],K=new ee(f,null,0,x,Q,(new Date).getTime()),ge=0;try{let se=Gr.decodeRow(e,t,A[1]);K.putMetadata(ye.UPC_EAN_EXTENSION,se.getText()),K.putAllMetadata(se.getResultMetadata()),K.addResultPoints(se.getResultPoints()),ge=se.getText().length}catch{}let he=null==r?null:r.get($.ALLOWED_EAN_EXTENSIONS);if(null!=he){let se=!1;for(let ve in he)if(ge.toString()===ve){se=!0;break}if(!se)throw new W}return K}static checkChecksum(e){return Ue.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Ue.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new j;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new j;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return Ue.findGuardPattern(e,t,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}}class Yt extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],s=0;for(let a=0;a<6&&o<i;a++){let A=Ue.decodeDigit(e,n,o,Ue.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let h of n)o+=h;A>=10&&(s|=1<<5-a)}r=Yt.determineFirstDigit(r,s),o=Ue.findGuardPattern(e,o,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let a=0;a<6&&o<i;a++){let A=Ue.decodeDigit(e,n,o,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A);for(let h of n)o+=h}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return String.fromCharCode("0".charCodeAt(0)+r)+e;throw new W}}Yt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ur extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1];for(let s=0;s<4&&o<i;s++){let a=Ue.decodeDigit(e,n,o,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a);for(let A of n)o+=A}o=Ue.findGuardPattern(e,o,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<4&&o<i;s++){let a=Ue.decodeDigit(e,n,o,Ue.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a);for(let A of n)o+=A}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return te.EAN_8}}class tn extends Ue{constructor(){super(...arguments),this.ean13Reader=new Yt}getBarcodeFormat(){return te.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new ee(t.substring(1),null,null,e.getResultPoints(),te.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new W}reset(){this.ean13Reader.reset()}}class Dt extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(a=>a);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let o=t[1],s=0;for(let a=0;a<6&&o<i;a++){const A=Dt.decodeDigit(e,n,o,Dt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let h of n)o+=h;A>=10&&(s|=1<<5-a)}return Dt.determineNumSysAndCheckDigit(new re(r),s),o}decodeEnd(e,t){return Dt.findGuardPatternWithoutCounters(e,t,!0,Dt.MIDDLE_END_PATTERN)}checkChecksum(e){return Ue.checkChecksum(Dt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return e.insert(0,"0"+r),void e.append("0"+n);throw W.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new re;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Dt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class pr extends tt{constructor(e){super();let t=null==e?null:e.get($.POSSIBLE_FORMATS),r=[];null!=t&&(t.indexOf(te.EAN_13)>-1?r.push(new Yt):t.indexOf(te.UPC_A)>-1&&r.push(new tn),t.indexOf(te.EAN_8)>-1&&r.push(new Ur),t.indexOf(te.UPC_E)>-1&&r.push(new Dt)),0===r.length&&(r.push(new Yt),r.push(new Ur),r.push(new Dt)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),o=i.getBarcodeFormat()===te.EAN_13&&"0"===i.getText().charAt(0),s=null==r?null:r.get($.POSSIBLE_FORMATS),a=null==s||s.includes(te.UPC_A);if(o&&a){const A=i.getRawBytes(),h=new ee(i.getText().substring(1),A,A.length,i.getResultPoints(),te.UPC_A);return h.putAllMetadata(i.getResultMetadata()),h}return i}catch{}throw new W}reset(){for(let e of this.readers)e.reset()}}class gt extends tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(tt.patternMatchVariance(e,t[r],gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return r;throw new W}static count(e){return c.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=gt.MIN_FINDER_PATTERN_RATIO&&r<=gt.MAX_FINDER_PATTERN_RATIO){let n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;for(let o of e)o>i&&(i=o),o<n&&(n=o);return i<10*n}return!1}}gt.MAX_AVG_VARIANCE=.2,gt.MAX_INDIVIDUAL_VARIANCE=.45,gt.MIN_FINDER_PATTERN_RATIO=9.5/12,gt.MAX_FINDER_PATTERN_RATIO=12.5/14;class zt{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){return e instanceof zt&&(this.value===e.value&&this.checksumPortion===e.checksumPortion)}hashCode(){return this.value^this.checksumPortion}}class cr{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new B(r,i)),this.resultPoints.push(new B(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){return e instanceof cr&&this.value===e.value}hashCode(){return this.value}}class Mt{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let a of e)n+=a;let i=0,o=0,s=e.length;for(let a=0;a<s-1;a++){let A;for(A=1,o|=1<<a;A<e[a];A++,o&=~(1<<a)){let h=Mt.combins(n-A-1,s-a-2);if(r&&0===o&&n-A-(s-a-1)>=s-a-1&&(h-=Mt.combins(n-A-(s-a),s-a-2)),s-a-1>1){let g=0;for(let f=n-A-(s-a-2);f>t;f--)g+=Mt.combins(n-A-f-1,s-a-3);h-=g*(s-1-a)}else n-A>t&&h--;i+=h}n-=A}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,o=1;for(let s=e;s>r;s--)i*=s,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i}}class rn{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new oe(12*t),n=0,i=e[0].getRightChar().getValue();for(let o=11;o>=0;--o)i&1<<o&&r.set(n),n++;for(let o=1;o<e.length;++o){let s=e[o],a=s.getLeftChar().getValue();for(let A=11;A>=0;--A)a&1<<A&&r.set(n),n++;if(null!=s.getRightChar()){let A=s.getRightChar().getValue();for(let h=11;h>=0;--h)A&1<<h&&r.set(n),n++}}return r}}class xt{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class It extends Sr{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===It.FNC1}}It.FNC1="$";class Vt extends Sr{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tt extends Sr{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new j;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tt.FNC1}isAnyFNC1(){return this.firstDigit===Tt.FNC1||this.secondDigit===Tt.FNC1}}Tt.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new W;let t=e.substring(0,2);for(let i of Ie.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,i[2],e):Ie.processFixedAI(2,i[1],e);if(e.length<3)throw new W;let r=e.substring(0,3);for(let i of Ie.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,i[2],e):Ie.processFixedAI(3,i[1],e);for(let i of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,i[2],e):Ie.processFixedAI(4,i[1],e);if(e.length<4)throw new W;let n=e.substring(0,4);for(let i of Ie.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,i[2],e):Ie.processFixedAI(4,i[1],e);throw new W}static processFixedAI(e,t,r){if(r.length<e)throw new W;let n=r.substring(0,e);if(r.length<e+t)throw new W;let i=r.substring(e,e+t),o=r.substring(e+t),s="("+n+")"+i,a=Ie.parseFieldsInGeneralPurpose(o);return null==a?s:s+a}static processVariableAI(e,t,r){let n,i=r.substring(0,e);n=r.length<e+t?r.length:e+t;let o=r.substring(e,n),s=r.substring(n),a="("+i+")"+o,A=Ie.parseFieldsInGeneralPurpose(s);return null==A?a:a+A}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Jt{constructor(e){this.buffer=new re,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let i=this.decodeGeneralPurposeField(r,n),o=Ie.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&e.append(o),n=i.isRemaining()?""+i.getRemainingValue():null,r===i.getNewPosition())break;r=i.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let r=this.extractNumericValueFromBitArray(e,4);return new Tt(this.information.getSize(),0===r?Tt.FNC1:r-1,Tt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new Tt(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Jt.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new Vt(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Vt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new Vt(this.current.getPosition(),this.buffer.toString()):new Vt(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xt(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Vt(this.current.getPosition(),this.buffer.toString());return new xt(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Vt(this.current.getPosition(),this.buffer.toString());return new xt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Vt(this.current.getPosition(),this.buffer.toString());return new xt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new It(e+5,It.FNC1);if(t>=5&&t<15)return new It(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new It(e+7,""+(n+1));if(n>=90&&n<116)return new It(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new j}return new It(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new It(e+5,It.FNC1);if(t>=5&&t<15)return new It(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new It(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new ft("Decoding invalid alphanumeric value: "+n)}return new It(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Qr{constructor(e){this.information=e,this.generalDecoder=new Jt(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wt extends Qr{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i)}wt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=1&n?i:3*i}10==(r=10-r%10)&&(r=0),e.append(r)}}wt.GTIN_SIZE=40;class Kt extends wt{constructor(e){super(e)}parseInformation(){let e=new re;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Kt.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Kt.HEADER_SIZE+44)}}Kt.HEADER_SIZE=4;class ur extends Qr{constructor(e){super(e)}parseInformation(){let e=new re;return this.getGeneralDecoder().decodeAllCodes(e,ur.HEADER_SIZE)}}ur.HEADER_SIZE=5;class gr extends wt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),o=1e5;for(let s=0;s<5;++s)i/o==0&&e.append("0"),o/=10;e.append(i)}}class yt extends gr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+gr.GTIN_SIZE+yt.WEIGHT_SIZE)throw new W;let e=new re;return this.encodeCompressedGtin(e,yt.HEADER_SIZE),this.encodeCompressedWeight(e,yt.HEADER_SIZE+gr.GTIN_SIZE,yt.WEIGHT_SIZE),e.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class nn extends yt{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class on extends yt{constructor(e){super(e)}addWeightCode(e,t){e.append(t<1e4?"(3202)":"(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Nt extends wt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Nt.HEADER_SIZE+wt.GTIN_SIZE)throw new W;let e=new re;this.encodeCompressedGtin(e,Nt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Nt.HEADER_SIZE+wt.GTIN_SIZE,Nt.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Nt.HEADER_SIZE+wt.GTIN_SIZE+Nt.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Nt.HEADER_SIZE=8,Nt.LAST_DIGIT_SIZE=2;class Ct extends wt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ct.HEADER_SIZE+wt.GTIN_SIZE)throw new W;let e=new re;this.encodeCompressedGtin(e,Ct.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Ct.HEADER_SIZE+wt.GTIN_SIZE,Ct.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ct.HEADER_SIZE+wt.GTIN_SIZE+Ct.LAST_DIGIT_SIZE,Ct.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(Ct.HEADER_SIZE+wt.GTIN_SIZE+Ct.LAST_DIGIT_SIZE+Ct.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}Ct.HEADER_SIZE=8,Ct.LAST_DIGIT_SIZE=2,Ct.FIRST_THREE_DIGITS_SIZE=10;class et extends gr{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE+et.DATE_SIZE)throw new W;let e=new re;return this.encodeCompressedGtin(e,et.HEADER_SIZE),this.encodeCompressedWeight(e,et.HEADER_SIZE+et.GTIN_SIZE,et.WEIGHT_SIZE),this.encodeCompressedDate(e,et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,et.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32,i=(r/=32)%12+1,o=r/=12;o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}et.HEADER_SIZE=8,et.WEIGHT_SIZE=20,et.DATE_SIZE=16;class Pt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Pt&&Pt.equalsOrNull(e.leftchar,t.leftchar)&&Pt.equalsOrNull(e.rightchar,t.rightchar)&&Pt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:Pt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Rr{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Rr&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(o=>{n.getLeftChar().getValue()===o.getLeftChar().getValue()&&n.getRightChar().getValue()===o.getRightChar().getValue()&&n.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}}class ne extends gt{constructor(e){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof W){if(!this.pairs.length)throw new W;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let i=this.checkRowsBoolean(!1);if(null!=i||null!=(i=this.checkRowsBoolean(!0)))return i}throw new W}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let o of e)this.pairs.push(o.getPairs());if(this.pairs.push(n.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(o){this.verbose&&console.log(o)}}throw new W}static isValidSequence(e){for(let t of ne.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let o=this.rows[r];if(o.getRowNumber()>e){i=o.isEquivalent(this.pairs);break}n=o.isEquivalent(this.pairs),r++}i||n||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Rr(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let n of r.getPairs())for(let i of e)if(Pt.equals(n,i))break}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let o=!1;for(let s of r.getPairs())if(i.equals(s)){o=!0;break}if(!o){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=function(o){try{if(o.get(1))return new Kt(o);if(!o.get(2))return new ur(o);switch(Jt.extractNumericValueFromBitArray(o,1,4)){case 4:return new nn(o);case 5:return new on(o)}switch(Jt.extractNumericValueFromBitArray(o,1,5)){case 12:return new Nt(o);case 13:return new Ct(o)}switch(Jt.extractNumericValueFromBitArray(o,1,7)){case 56:return new et(o,"310","11");case 57:return new et(o,"320","11");case 58:return new et(o,"310","13");case 59:return new et(o,"320","13");case 60:return new et(o,"310","15");case 61:return new et(o,"320","15");case 62:return new et(o,"310","17");case 63:return new et(o,"320","17")}}catch(s){throw console.log(s),new ft("unknown decoder: "+o)}}(rn.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints();return new ee(t,null,null,[r[0],r[1],n[0],n[1]],te.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),i=2;for(let o=1;o<this.pairs.size();++o){let s=this.pairs.get(o);n+=s.getLeftChar().getChecksumPortion(),i++;let a=s.getRightChar();null!=a&&(n+=a.getChecksumPortion(),i++)}return 211*(i-4)+(n%=211)==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,i=t.length%2==0;this.startFromEven&&(i=!i);let o=!0,s=-1;do{this.findNextPair(e,t,s),null==(n=this.parseFoundFinderPattern(e,r,i))?s=ne.getNextSecondBar(e,this.startEnd[0]):o=!1}while(o);let a,A=this.decodeDataCharacter(e,n,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new W;try{a=this.decodeDataCharacter(e,n,i,!1)}catch(h){a=null,this.verbose&&console.log(h)}return new Pt(A,a,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i,o=e.getSize();i=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let s=t.length%2!=0;this.startFromEven&&(s=!s);let a=!1;for(;i<o&&(a=!e.get(i));)i++;let A=0,h=i;for(let g=i;g<o;g++)if(e.get(g)!=a)n[A]++;else{if(3==A){if(s&&ne.reverseCounters(n),ne.isFinderPattern(n))return this.startEnd[0]=h,void(this.startEnd[1]=g);s&&ne.reverseCounters(n),h+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,A--}else A++;n[A]=1,a=!a}throw new W}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,o;if(r){let A=this.startEnd[0]-1;for(;A>=0&&!e.get(A);)A--;A++,n=this.startEnd[0]-A,i=A,o=this.startEnd[1]}else i=this.startEnd[0],n=(o=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];let s,a=this.getDecodeFinderCounters();V.arraycopy(a,0,a,1,a.length-1),a[0]=n;try{s=this.parseFinderValue(a,ne.FINDER_PATTERNS)}catch{return null}return new cr(s,[i,o],i,o,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let ke=0;ke<i.length;ke++)i[ke]=0;if(n)ne.recordPatternInReverse(e,t.getStartEnd()[0],i);else{ne.recordPattern(e,t.getStartEnd()[1],i);for(let ke=0,Ke=i.length-1;ke<Ke;ke++,Ke--){let Bt=i[ke];i[ke]=i[Ke],i[Ke]=Bt}}let o=c.sum(new Int32Array(i))/17,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(o-s)/s>.3)throw new W;let a=this.getOddCounts(),A=this.getEvenCounts(),h=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(let ke=0;ke<i.length;ke++){let Ke=1*i[ke]/o,Bt=Ke+.5;if(Bt<1){if(Ke<.3)throw new W;Bt=1}else if(Bt>8){if(Ke>8.7)throw new W;Bt=8}let Xt=ke/2;1&ke?(A[Xt]=Bt,g[Xt]=Ke-Bt):(a[Xt]=Bt,h[Xt]=Ke-Bt)}this.adjustOddEvenCounts(17);let f=4*t.getValue()+(r?0:2)+(n?0:1)-1,D=0,y=0;for(let ke=a.length-1;ke>=0;ke--)ne.isNotA1left(t,r,n)&&(y+=a[ke]*ne.WEIGHTS[f][2*ke]),D+=a[ke];let Q=0;for(let ke=A.length-1;ke>=0;ke--)ne.isNotA1left(t,r,n)&&(Q+=A[ke]*ne.WEIGHTS[f][2*ke+1]);let x=y+Q;if(1&D||D>13||D<4)throw new W;let K=(13-D)/2,ge=ne.SYMBOL_WIDEST[K],he=9-ge,se=Mt.getRSSvalue(a,ge,!0),ve=Mt.getRSSvalue(A,he,!1);return new zt(se*ne.EVEN_TOTAL_SUBSET[K]+ve+ne.GSUM[K],x)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=c.sum(new Int32Array(this.getOddCounts())),r=c.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let o=!1,s=!1;r>13?s=!0:r<4&&(o=!0);let a=t+r-e,A=1==(1&t),h=0==(1&r);if(1==a)if(A){if(h)throw new W;i=!0}else{if(!h)throw new W;s=!0}else if(-1==a)if(A){if(h)throw new W;n=!0}else{if(!h)throw new W;o=!0}else{if(0!=a)throw new W;if(A){if(!h)throw new W;t<r?(n=!0,s=!0):(i=!0,o=!0)}else if(h)throw new W}if(n){if(i)throw new W;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(s)throw new W;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class sn extends zt{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends gt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);it.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);it.addOrTally(this.possibleRightPairs,i),t.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1)for(let s of this.possibleRightPairs)if(s.getCount()>1&&it.checkChecksum(o,s))return it.constructResult(o,s);throw new W}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new re;for(let A=13-n.length;A>0;A--)i.append("0");i.append(n);let o=0;for(let A=0;A<13;A++){let h=i.charAt(A).charCodeAt(0)-"0".charCodeAt(0);o+=1&A?h:3*h}10==(o=10-o%10)&&(o=0),i.append(o.toString());let s=e.getFinderPattern().getResultPoints(),a=t.getFinderPattern().getResultPoints();return new ee(i.toString(),null,0,[s[0],s[1],a[0],a[1]],te.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,i),s=null==n?null:n.get($.NEED_RESULT_POINT_CALLBACK);if(null!=s){let h=(i[0]+i[1])/2;t&&(h=e.getSize()-1-h),s.foundPossibleResultPoint(new B(h,r))}let a=this.decodeDataCharacter(e,o,!0),A=this.decodeDataCharacter(e,o,!1);return new sn(1597*a.getValue()+A.getValue(),a.getChecksumPortion()+4*A.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let x=0;x<n.length;x++)n[x]=0;if(r)tt.recordPatternInReverse(e,t.getStartEnd()[0],n);else{tt.recordPattern(e,t.getStartEnd()[1]+1,n);for(let x=0,K=n.length-1;x<K;x++,K--){let ge=n[x];n[x]=n[K],n[K]=ge}}let i=r?16:15,o=c.sum(new Int32Array(n))/i,s=this.getOddCounts(),a=this.getEvenCounts(),A=this.getOddRoundingErrors(),h=this.getEvenRoundingErrors();for(let x=0;x<n.length;x++){let K=n[x]/o,ge=Math.floor(K+.5);ge<1?ge=1:ge>8&&(ge=8);let he=Math.floor(x/2);1&x?(a[he]=ge,h[he]=K-ge):(s[he]=ge,A[he]=K-ge)}this.adjustOddEvenCounts(r,i);let g=0,f=0;for(let x=s.length-1;x>=0;x--)f*=9,f+=s[x],g+=s[x];let D=0,y=0;for(let x=a.length-1;x>=0;x--)D*=9,D+=a[x],y+=a[x];let Q=f+3*D;if(r){if(1&g||g>12||g<4)throw new W;let x=(12-g)/2,K=it.OUTSIDE_ODD_WIDEST[x],ge=9-K,he=Mt.getRSSvalue(s,K,!1),se=Mt.getRSSvalue(a,ge,!0);return new zt(he*it.OUTSIDE_EVEN_TOTAL_SUBSET[x]+se+it.OUTSIDE_GSUM[x],Q)}{if(1&y||y>10||y<4)throw new W;let x=(10-y)/2,K=it.INSIDE_ODD_WIDEST[x],ge=9-K,he=Mt.getRSSvalue(s,K,!0),se=Mt.getRSSvalue(a,ge,!1);return new zt(se*it.INSIDE_ODD_TOTAL_SUBSET[x]+he+it.INSIDE_GSUM[x],Q)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,o=0;for(;o<n&&t!==(i=!e.get(o));)o++;let s=0,a=o;for(let A=o;A<n;A++)if(e.get(A)!==i)r[s]++;else{if(3===s){if(gt.isFinderPattern(r))return[a,A];a+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,s--}else s++;r[s]=1,i=!i}throw new W}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),o=n[0]-1;for(;o>=0&&i!==e.get(o);)o--;o++;const s=n[0]-o,a=this.getDecodeFinderCounters(),A=new Int32Array(a.length);V.arraycopy(a,0,A,1,a.length-1),A[0]=s;const h=this.parseFinderValue(A,it.FINDER_PATTERNS);let g=o,f=n[1];return r&&(g=e.getSize()-1-g,f=e.getSize()-1-f),new cr(h,[o,n[1]],g,f,t)}adjustOddEvenCounts(e,t){let r=c.sum(new Int32Array(this.getOddCounts())),n=c.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,s=!1,a=!1;e?(r>12?o=!0:r<4&&(i=!0),n>12?a=!0:n<4&&(s=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?a=!0:n<4&&(s=!0));let A=r+n-t,h=(1&r)==(e?1:0),g=1==(1&n);if(1===A)if(h){if(g)throw new W;o=!0}else{if(!g)throw new W;a=!0}else if(-1===A)if(h){if(g)throw new W;i=!0}else{if(!g)throw new W;s=!0}else{if(0!==A)throw new W;if(h){if(!g)throw new W;r<n?(i=!0,a=!0):(o=!0,s=!0)}else if(g)throw new W}if(i){if(o)throw new W;gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new W;gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qt extends tt{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get($.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get($.ASSUME_CODE_39_CHECK_DIGIT);r&&((r.includes(te.EAN_13)||r.includes(te.UPC_A)||r.includes(te.EAN_8)||r.includes(te.UPC_E))&&this.readers.push(new pr(e)),r.includes(te.CODE_39)&&this.readers.push(new at(n)),r.includes(te.CODE_128)&&this.readers.push(new ue),r.includes(te.ITF)&&this.readers.push(new ze),r.includes(te.RSS_14)&&this.readers.push(new it),r.includes(te.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))),0===this.readers.length&&(this.readers.push(new pr(e)),this.readers.push(new at),this.readers.push(new pr(e)),this.readers.push(new ue),this.readers.push(new ze),this.readers.push(new it),this.readers.push(new ne(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new W}reset(){this.readers.forEach(e=>e.reset())}}class Ye{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qe{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(e,t,r,n,i,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;let s=0;const a=o.getECCodewords(),A=o.getECBlocks();for(let h of A)s+=h.getCount()*(h.getDataCodewords()+a);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(1&e||1&t)throw new j;for(let r of Le.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Le(1,10,10,8,8,new Ye(5,new Qe(1,3))),new Le(2,12,12,10,10,new Ye(7,new Qe(1,5))),new Le(3,14,14,12,12,new Ye(10,new Qe(1,8))),new Le(4,16,16,14,14,new Ye(12,new Qe(1,12))),new Le(5,18,18,16,16,new Ye(14,new Qe(1,18))),new Le(6,20,20,18,18,new Ye(18,new Qe(1,22))),new Le(7,22,22,20,20,new Ye(20,new Qe(1,30))),new Le(8,24,24,22,22,new Ye(24,new Qe(1,36))),new Le(9,26,26,24,24,new Ye(28,new Qe(1,44))),new Le(10,32,32,14,14,new Ye(36,new Qe(1,62))),new Le(11,36,36,16,16,new Ye(42,new Qe(1,86))),new Le(12,40,40,18,18,new Ye(48,new Qe(1,114))),new Le(13,44,44,20,20,new Ye(56,new Qe(1,144))),new Le(14,48,48,22,22,new Ye(68,new Qe(1,174))),new Le(15,52,52,24,24,new Ye(42,new Qe(2,102))),new Le(16,64,64,14,14,new Ye(56,new Qe(2,140))),new Le(17,72,72,16,16,new Ye(36,new Qe(4,92))),new Le(18,80,80,18,18,new Ye(48,new Qe(4,114))),new Le(19,88,88,20,20,new Ye(56,new Qe(4,144))),new Le(20,96,96,22,22,new Ye(68,new Qe(4,174))),new Le(21,104,104,24,24,new Ye(56,new Qe(6,136))),new Le(22,120,120,18,18,new Ye(68,new Qe(6,175))),new Le(23,132,132,20,20,new Ye(62,new Qe(8,163))),new Le(24,144,144,22,22,new Ye(62,new Qe(8,156),new Qe(2,155))),new Le(25,8,18,6,16,new Ye(7,new Qe(1,5))),new Le(26,8,32,6,14,new Ye(11,new Qe(1,10))),new Le(27,12,26,10,24,new Ye(14,new Qe(1,16))),new Le(28,12,36,10,16,new Ye(18,new Qe(1,22))),new Le(29,16,36,14,16,new Ye(24,new Qe(1,32))),new Le(30,16,48,14,22,new Ye(28,new Qe(1,49)))]}}Le.VERSIONS=Le.buildVersions();class Br{constructor(e){const t=e.getHeight();if(t<8||t>144||1&t)throw new j;this.version=Br.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return Le.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let s=!1,a=!1,A=!1,h=!1;do{if(r!==i||0!==n||s)if(r===i-2&&0===n&&3&o&&!a)e[t++]=255&this.readCorner2(i,o),r-=2,n+=2,a=!0;else if(r!==i+4||2!==n||7&o||A)if(r!==i-2||0!==n||4!=(7&o)||h){do{r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r-=2,n+=2}while(r>=0&&n<o);r+=1,n+=3;do{r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r+=2,n-=2}while(r<i&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(i,o),r-=2,n+=2,h=!0;else e[t++]=255&this.readCorner3(i,o),r-=2,n+=2,A=!0;else e[t++]=255&this.readCorner1(i,o),r-=2,n+=2,s=!0}while(r<i||n<o);if(t!==this.version.getTotalCodewords())throw new j;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new E("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/n|0,s=r/i|0,a=new ce(s*i,o*n);for(let A=0;A<o;++A){const h=A*n;for(let g=0;g<s;++g){const f=g*i;for(let D=0;D<n;++D){const y=A*(n+2)+1+D,Q=h+D;for(let x=0;x<i;++x)e.get(g*(i+2)+1+x,y)&&a.set(f+x,Q)}}}return a}}class Dr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let y of i)n+=y.getCount();const o=new Array(n);let s=0;for(let y of i)for(let Q=0;Q<y.getCount();Q++){const x=y.getDataCodewords(),K=r.getECCodewords()+x;o[s++]=new Dr(x,new Uint8Array(K))}const a=o[0].codewords.length-r.getECCodewords(),A=a-1;let h=0;for(let y=0;y<A;y++)for(let Q=0;Q<s;Q++)o[Q].codewords[y]=e[h++];const g=24===t.getVersionNumber(),f=g?8:s;for(let y=0;y<f;y++)o[y].codewords[a-1]=e[h++];const D=o[0].codewords.length;for(let y=a;y<D;y++)for(let Q=0;Q<s;Q++){const x=g?(Q+8)%s:Q;o[x].codewords[g&&x>7?y-1:y]=e[h++]}if(h!==e.length)throw new E;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Mr{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new E(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const o=8-r,s=e<o?e:o,a=o-s;t=(i[n]&255>>8-s<<a)>>a,e-=s,8===(r+=s)&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&i[n],n++,e-=8;if(e>0){const o=8-e;t=t<<e|(i[n]&255>>o<<o)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(u){u[u.PAD_ENCODE=0]="PAD_ENCODE",u[u.ASCII_ENCODE=1]="ASCII_ENCODE",u[u.C40_ENCODE=2]="C40_ENCODE",u[u.TEXT_ENCODE=3]="TEXT_ENCODE",u[u.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",u[u.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",u[u.BASE256_ENCODE=6]="BASE256_ENCODE"}(Ce||(Ce={}));class vt{static decode(e){const t=new Mr(e),r=new re,n=new re,i=new Array;let o=Ce.ASCII_ENCODE;do{if(o===Ce.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case Ce.C40_ENCODE:this.decodeC40Segment(t,r);break;case Ce.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Ce.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Ce.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Ce.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new j}o=Ce.ASCII_ENCODE}}while(o!==Ce.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new He(e,r.toString(),0===i.length?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(0===i)throw new j;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),Ce.ASCII_ENCODE;if(129===i)return Ce.PAD_ENCODE;if(i<=229){const o=i-130;o<10&&t.append("0"),t.append(""+o)}else switch(i){case 230:return Ce.C40_ENCODE;case 231:return Ce.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return Ce.ANSIX12_ENCODE;case 239:return Ce.TEXT_ENCODE;case 240:return Ce.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new j}}while(e.available()>0);return Ce.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.C40_BASIC_SET_CHARS.length))throw new j;{const A=this.C40_BASIC_SET_CHARS[a];r?(t.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):t.append(A)}}break;case 1:r?(t.append(String.fromCharCode(a+128)),r=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[a];r?(t.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):t.append(A)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new j}i=0;break;case 3:r?(t.append(String.fromCharCode(a+224)),r=!1):t.append(String.fromCharCode(a+96)),i=0;break;default:throw new j}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.TEXT_BASIC_SET_CHARS.length))throw new j;{const A=this.TEXT_BASIC_SET_CHARS[a];r?(t.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):t.append(A)}}break;case 1:r?(t.append(String.fromCharCode(a+128)),r=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[a];r?(t.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):t.append(A)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new j}i=0;break;case 3:if(!(a<this.TEXT_SHIFT3_SET_CHARS.length))throw new j;{const A=this.TEXT_SHIFT3_SET_CHARS[a];r?(t.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):t.append(A),i=0}break;default:throw new j}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const o=r[i];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else{if(!(o<40))throw new j;t.append(String.fromCharCode(o+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(31===n){const i=8-e.getBitOffset();return void(8!==i&&e.readBits(i))}!(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let o;if((o=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),n++))<0)throw new j;const s=new Uint8Array(o);for(let a=0;a<o;a++){if(e.available()<8)throw new j;s[a]=this.unrandomize255State(e.readBits(8),n++)}r.push(s);try{t.append(O.decode(s,G.ISO88591))}catch(a){throw new ft("Platform does not support required encoding: "+a.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}vt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],vt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],vt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],vt.TEXT_SHIFT2_SET_CHARS=vt.C40_SHIFT2_SET_CHARS,vt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class an{constructor(){this.rsDecoder=new Ut(be.DATA_MATRIX_FIELD_256)}decode(e){const t=new Br(e),r=t.getVersion(),n=t.readCodewords(),i=Dr.getDataBlocks(n,r);let o=0;for(let A of i)o+=A.getNumDataCodewords();const s=new Uint8Array(o),a=i.length;for(let A=0;A<a;A++){const h=i[A],g=h.getCodewords(),f=h.getNumDataCodewords();this.correctErrors(g,f);for(let D=0;D<f;D++)s[D*a+A]=g[D]}return vt.decode(s)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new P}for(let n=0;n<t;n++)e[n]=r[n]}}class st{constructor(e){this.image=e,this.rectangleDetector=new Se(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if((t=this.detectSolid2(t))[3]=this.correctTopRight(t),!t[3])throw new W;const r=(t=this.shiftToModuleCenter(t))[0],n=t[1],i=t[2],o=t[3];let s=this.transitionsBetween(r,o)+1,a=this.transitionsBetween(i,o)+1;1==(1&s)&&(s+=1),1==(1&a)&&(a+=1),4*s<7*a&&4*a<7*s&&(s=a=Math.max(s,a));let A=st.sampleGrid(this.image,r,n,i,o,s,a);return new J(A,[r,n,i,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new B(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new B(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],o=this.transitionsBetween(t,r),s=this.transitionsBetween(r,n),a=this.transitionsBetween(n,i),A=this.transitionsBetween(i,t),h=o,g=[i,t,r,n];return h>s&&(h=s,g[0]=t,g[1]=r,g[2]=n,g[3]=i),h>a&&(h=a,g[0]=r,g[1]=n,g[2]=i,g[3]=t),h>A&&(g[0]=n,g[1]=i,g[2]=t,g[3]=r),g}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),s=st.shiftPoint(r,n,4*(o+1)),a=st.shiftPoint(n,r,4*(o+1));return this.transitionsBetween(s,t)<this.transitionsBetween(a,i)?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),s=this.transitionsBetween(r,i),a=st.shiftPoint(t,r,4*(s+1)),A=st.shiftPoint(n,r,4*(o+1));o=this.transitionsBetween(a,i),s=this.transitionsBetween(A,i);let h=new B(i.getX()+(n.getX()-r.getX())/(o+1),i.getY()+(n.getY()-r.getY())/(o+1)),g=new B(i.getX()+(t.getX()-r.getX())/(s+1),i.getY()+(t.getY()-r.getY())/(s+1));return this.isValid(h)?this.isValid(g)?this.transitionsBetween(a,h)+this.transitionsBetween(A,h)>this.transitionsBetween(a,g)+this.transitionsBetween(A,g)?h:g:h:this.isValid(g)?g:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i)+1,s=this.transitionsBetween(n,i)+1,a=st.shiftPoint(t,r,4*s),A=st.shiftPoint(n,r,4*o);1==(1&(o=this.transitionsBetween(a,i)+1))&&(o+=1),1==(1&(s=this.transitionsBetween(A,i)+1))&&(s+=1);let h,g,f=(t.getX()+r.getX()+n.getX()+i.getX())/4,D=(t.getY()+r.getY()+n.getY()+i.getY())/4;return t=st.moveAway(t,f,D),r=st.moveAway(r,f,D),n=st.moveAway(n,f,D),i=st.moveAway(i,f,D),a=st.shiftPoint(t,r,4*s),a=st.shiftPoint(a,i,4*o),h=st.shiftPoint(r,t,4*s),h=st.shiftPoint(h,n,4*o),A=st.shiftPoint(n,i,4*s),A=st.shiftPoint(A,r,4*o),g=st.shiftPoint(i,n,4*s),[a,h,A,g=st.shiftPoint(g,t,4*o)]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,o,s){return Ve.getInstance().sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-n)>Math.abs(i-r);if(s){let Q=r;r=n,n=Q,Q=i,i=o,o=Q}let a=Math.abs(i-r),A=Math.abs(o-n),h=-a/2,g=n<o?1:-1,f=r<i?1:-1,D=0,y=this.image.get(s?n:r,s?r:n);for(let Q=r,x=n;Q!==i;Q+=f){let K=this.image.get(s?x:Q,s?Q:x);if(K!==y&&(D++,y=K),(h+=A)>0){if(x===o)break;x+=g,h-=a}}return D}}class Lt{constructor(){this.decoder=new an}decode(e,t=null){let r,n;if(null!=t&&t.has($.PURE_BARCODE)){const A=Lt.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(A),n=Lt.NO_POINTS}else{const A=new st(e.getBlackMatrix()).detect();r=this.decoder.decode(A.getBits()),n=A.getPoints()}const i=r.getRawBytes(),o=new ee(r.getText(),i,8*i.length,n,te.DATA_MATRIX,V.currentTimeMillis()),s=r.getByteSegments();null!=s&&o.putMetadata(ye.BYTE_SEGMENTS,s);const a=r.getECLevel();return null!=a&&o.putMetadata(ye.ERROR_CORRECTION_LEVEL,a),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new W;const n=this.moduleSize(t,e);let i=t[1],s=t[0];const a=(r[0]-s+1)/n,A=(r[1]-i+1)/n;if(a<=0||A<=0)throw new W;const h=n/2;i+=h,s+=h;const g=new ce(a,A);for(let f=0;f<A;f++){const D=i+f*n;for(let y=0;y<a;y++)e.get(s+y*n,D)&&g.set(y,f)}return g}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new W;const o=n-e[0];if(0===o)throw new W;return o}}Lt.NO_POINTS=[],function(u){u[u.L=0]="L",u[u.M=1]="M",u[u.Q=2]="Q",u[u.H=3]="H"}(le||(le={}));class qe{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,qe.FOR_BITS.set(r,this),qe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return qe.L;case"M":return qe.M;case"Q":return qe.Q;case"H":return qe.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){return e instanceof qe&&this.value===e.value}static forBits(e){if(e<0||e>=qe.FOR_BITS.size)throw new E;return qe.FOR_BITS.get(e)}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.L=new qe(le.L,"L",1),qe.M=new qe(le.M,"M",0),qe.Q=new qe(le.Q,"Q",3),qe.H=new qe(le.H,"H",2);class dt{constructor(e){this.errorCorrectionLevel=qe.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return X.bitCount(e^t)}static decodeFormatInformation(e,t){const r=dt.doDecodeFormatInformation(e,t);return null!==r?r:dt.doDecodeFormatInformation(e^dt.FORMAT_INFO_MASK_QR,t^dt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of dt.FORMAT_INFO_DECODE_LOOKUP){const o=i[0];if(o===e||o===t)return new dt(i[1]);let s=dt.numBitsDiffering(e,o);s<r&&(n=i[1],r=s),e!==t&&(s=dt.numBitsDiffering(t,o))<r&&(n=i[1],r=s)}return r<=3?new dt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){return e instanceof dt&&(this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask)}}dt.FORMAT_INFO_MASK_QR=21522,dt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class m{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const s of o)n+=s.getCount()*(s.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new j;try{return this.getVersionForNumber((e-17)/4)}catch{throw new j}}static getVersionForNumber(e){if(e<1||e>40)throw new E;return Re.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Re.VERSION_DECODE_INFO.length;n++){const i=Re.VERSION_DECODE_INFO[n];if(i===e)return Re.getVersionForNumber(n+7);const o=dt.numBitsDiffering(e,i);o<t&&(r=n+7,t=o)}return t<=3?Re.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ce(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let o=0;o<r;o++)0===n&&(0===o||o===r-1)||n===r-1&&0===o||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new Z(7,new m(1,19)),new Z(10,new m(1,16)),new Z(13,new m(1,13)),new Z(17,new m(1,9))),new Re(2,Int32Array.from([6,18]),new Z(10,new m(1,34)),new Z(16,new m(1,28)),new Z(22,new m(1,22)),new Z(28,new m(1,16))),new Re(3,Int32Array.from([6,22]),new Z(15,new m(1,55)),new Z(26,new m(1,44)),new Z(18,new m(2,17)),new Z(22,new m(2,13))),new Re(4,Int32Array.from([6,26]),new Z(20,new m(1,80)),new Z(18,new m(2,32)),new Z(26,new m(2,24)),new Z(16,new m(4,9))),new Re(5,Int32Array.from([6,30]),new Z(26,new m(1,108)),new Z(24,new m(2,43)),new Z(18,new m(2,15),new m(2,16)),new Z(22,new m(2,11),new m(2,12))),new Re(6,Int32Array.from([6,34]),new Z(18,new m(2,68)),new Z(16,new m(4,27)),new Z(24,new m(4,19)),new Z(28,new m(4,15))),new Re(7,Int32Array.from([6,22,38]),new Z(20,new m(2,78)),new Z(18,new m(4,31)),new Z(18,new m(2,14),new m(4,15)),new Z(26,new m(4,13),new m(1,14))),new Re(8,Int32Array.from([6,24,42]),new Z(24,new m(2,97)),new Z(22,new m(2,38),new m(2,39)),new Z(22,new m(4,18),new m(2,19)),new Z(26,new m(4,14),new m(2,15))),new Re(9,Int32Array.from([6,26,46]),new Z(30,new m(2,116)),new Z(22,new m(3,36),new m(2,37)),new Z(20,new m(4,16),new m(4,17)),new Z(24,new m(4,12),new m(4,13))),new Re(10,Int32Array.from([6,28,50]),new Z(18,new m(2,68),new m(2,69)),new Z(26,new m(4,43),new m(1,44)),new Z(24,new m(6,19),new m(2,20)),new Z(28,new m(6,15),new m(2,16))),new Re(11,Int32Array.from([6,30,54]),new Z(20,new m(4,81)),new Z(30,new m(1,50),new m(4,51)),new Z(28,new m(4,22),new m(4,23)),new Z(24,new m(3,12),new m(8,13))),new Re(12,Int32Array.from([6,32,58]),new Z(24,new m(2,92),new m(2,93)),new Z(22,new m(6,36),new m(2,37)),new Z(26,new m(4,20),new m(6,21)),new Z(28,new m(7,14),new m(4,15))),new Re(13,Int32Array.from([6,34,62]),new Z(26,new m(4,107)),new Z(22,new m(8,37),new m(1,38)),new Z(24,new m(8,20),new m(4,21)),new Z(22,new m(12,11),new m(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new Z(30,new m(3,115),new m(1,116)),new Z(24,new m(4,40),new m(5,41)),new Z(20,new m(11,16),new m(5,17)),new Z(24,new m(11,12),new m(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new Z(22,new m(5,87),new m(1,88)),new Z(24,new m(5,41),new m(5,42)),new Z(30,new m(5,24),new m(7,25)),new Z(24,new m(11,12),new m(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new Z(24,new m(5,98),new m(1,99)),new Z(28,new m(7,45),new m(3,46)),new Z(24,new m(15,19),new m(2,20)),new Z(30,new m(3,15),new m(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new Z(28,new m(1,107),new m(5,108)),new Z(28,new m(10,46),new m(1,47)),new Z(28,new m(1,22),new m(15,23)),new Z(28,new m(2,14),new m(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new Z(30,new m(5,120),new m(1,121)),new Z(26,new m(9,43),new m(4,44)),new Z(28,new m(17,22),new m(1,23)),new Z(28,new m(2,14),new m(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new Z(28,new m(3,113),new m(4,114)),new Z(26,new m(3,44),new m(11,45)),new Z(26,new m(17,21),new m(4,22)),new Z(26,new m(9,13),new m(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new Z(28,new m(3,107),new m(5,108)),new Z(26,new m(3,41),new m(13,42)),new Z(30,new m(15,24),new m(5,25)),new Z(28,new m(15,15),new m(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new Z(28,new m(4,116),new m(4,117)),new Z(26,new m(17,42)),new Z(28,new m(17,22),new m(6,23)),new Z(30,new m(19,16),new m(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new Z(28,new m(2,111),new m(7,112)),new Z(28,new m(17,46)),new Z(30,new m(7,24),new m(16,25)),new Z(24,new m(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new Z(30,new m(4,121),new m(5,122)),new Z(28,new m(4,47),new m(14,48)),new Z(30,new m(11,24),new m(14,25)),new Z(30,new m(16,15),new m(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new Z(30,new m(6,117),new m(4,118)),new Z(28,new m(6,45),new m(14,46)),new Z(30,new m(11,24),new m(16,25)),new Z(30,new m(30,16),new m(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new Z(26,new m(8,106),new m(4,107)),new Z(28,new m(8,47),new m(13,48)),new Z(30,new m(7,24),new m(22,25)),new Z(30,new m(22,15),new m(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new Z(28,new m(10,114),new m(2,115)),new Z(28,new m(19,46),new m(4,47)),new Z(28,new m(28,22),new m(6,23)),new Z(30,new m(33,16),new m(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new Z(30,new m(8,122),new m(4,123)),new Z(28,new m(22,45),new m(3,46)),new Z(30,new m(8,23),new m(26,24)),new Z(30,new m(12,15),new m(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new m(3,117),new m(10,118)),new Z(28,new m(3,45),new m(23,46)),new Z(30,new m(4,24),new m(31,25)),new Z(30,new m(11,15),new m(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new m(7,116),new m(7,117)),new Z(28,new m(21,45),new m(7,46)),new Z(30,new m(1,23),new m(37,24)),new Z(30,new m(19,15),new m(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new m(5,115),new m(10,116)),new Z(28,new m(19,47),new m(10,48)),new Z(30,new m(15,24),new m(25,25)),new Z(30,new m(23,15),new m(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new m(13,115),new m(3,116)),new Z(28,new m(2,46),new m(29,47)),new Z(30,new m(42,24),new m(1,25)),new Z(30,new m(23,15),new m(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new m(17,115)),new Z(28,new m(10,46),new m(23,47)),new Z(30,new m(10,24),new m(35,25)),new Z(30,new m(19,15),new m(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new m(17,115),new m(1,116)),new Z(28,new m(14,46),new m(21,47)),new Z(30,new m(29,24),new m(19,25)),new Z(30,new m(11,15),new m(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new m(13,115),new m(6,116)),new Z(28,new m(14,46),new m(23,47)),new Z(30,new m(44,24),new m(7,25)),new Z(30,new m(59,16),new m(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new m(12,121),new m(7,122)),new Z(28,new m(12,47),new m(26,48)),new Z(30,new m(39,24),new m(14,25)),new Z(30,new m(22,15),new m(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new m(6,121),new m(14,122)),new Z(28,new m(6,47),new m(34,48)),new Z(30,new m(46,24),new m(10,25)),new Z(30,new m(2,15),new m(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new m(17,122),new m(4,123)),new Z(28,new m(29,46),new m(14,47)),new Z(30,new m(49,24),new m(10,25)),new Z(30,new m(24,15),new m(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new m(4,122),new m(18,123)),new Z(28,new m(13,46),new m(32,47)),new Z(30,new m(48,24),new m(14,25)),new Z(30,new m(42,15),new m(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new m(20,117),new m(4,118)),new Z(28,new m(40,47),new m(7,48)),new Z(30,new m(43,24),new m(22,25)),new Z(30,new m(10,15),new m(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new m(19,118),new m(6,119)),new Z(28,new m(18,47),new m(31,48)),new Z(30,new m(34,24),new m(34,25)),new Z(30,new m(20,15),new m(61,16)))],function(u){u[u.DATA_MASK_000=0]="DATA_MASK_000",u[u.DATA_MASK_001=1]="DATA_MASK_001",u[u.DATA_MASK_010=2]="DATA_MASK_010",u[u.DATA_MASK_011=3]="DATA_MASK_011",u[u.DATA_MASK_100=4]="DATA_MASK_100",u[u.DATA_MASK_101=5]="DATA_MASK_101",u[u.DATA_MASK_110=6]="DATA_MASK_110",u[u.DATA_MASK_111=7]="DATA_MASK_111"}(Ee||(Ee={}));class St{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}St.values=new Map([[Ee.DATA_MASK_000,new St(Ee.DATA_MASK_000,(u,e)=>0==(u+e&1))],[Ee.DATA_MASK_001,new St(Ee.DATA_MASK_001,(u,e)=>0==(1&u))],[Ee.DATA_MASK_010,new St(Ee.DATA_MASK_010,(u,e)=>e%3==0)],[Ee.DATA_MASK_011,new St(Ee.DATA_MASK_011,(u,e)=>(u+e)%3==0)],[Ee.DATA_MASK_100,new St(Ee.DATA_MASK_100,(u,e)=>0==(Math.floor(u/2)+Math.floor(e/3)&1))],[Ee.DATA_MASK_101,new St(Ee.DATA_MASK_101,(u,e)=>u*e%6==0)],[Ee.DATA_MASK_110,new St(Ee.DATA_MASK_110,(u,e)=>u*e%6<3)],[Ee.DATA_MASK_111,new St(Ee.DATA_MASK_111,(u,e)=>0==(u+e+u*e%3&1))]]);class An{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new j;this.bitMatrix=e}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=dt.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new j}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Re.getVersionForNumber(t);let r=0;const n=e-11;for(let o=5;o>=0;o--)for(let s=e-9;s>=n;s--)r=this.copyBit(s,o,r);let i=Re.decodeVersionInformation(r);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let o=5;o>=0;o--)for(let s=e-9;s>=n;s--)r=this.copyBit(o,s,r);if(null!==(i=Re.decodeVersionInformation(r))&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new j}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=St.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let o=!0;const s=new Uint8Array(t.getTotalCodewords());let a=0,A=0,h=0;for(let g=n-1;g>0;g-=2){6===g&&g--;for(let f=0;f<n;f++){const D=o?n-1-f:f;for(let y=0;y<2;y++)i.get(g-y,D)||(h++,A<<=1,this.bitMatrix.get(g-y,D)&&(A|=1),8===h&&(s[a++]=A,h=0,A=0))}o=!o}if(a!==t.getTotalCodewords())throw new j;return s}remask(){if(null===this.parsedFormatInfo)return;const e=St.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class Tr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new E;const n=t.getECBlocksForLevel(r);let i=0;const o=n.getECBlocks();for(const y of o)i+=y.getCount();const s=new Array(i);let a=0;for(const y of o)for(let Q=0;Q<y.getCount();Q++){const x=y.getDataCodewords(),K=n.getECCodewordsPerBlock()+x;s[a++]=new Tr(x,new Uint8Array(K))}const A=s[0].codewords.length;let h=s.length-1;for(;h>=0&&s[h].codewords.length!==A;)h--;h++;const g=A-n.getECCodewordsPerBlock();let f=0;for(let y=0;y<g;y++)for(let Q=0;Q<a;Q++)s[Q].codewords[y]=e[f++];for(let y=h;y<a;y++)s[y].codewords[g]=e[f++];const D=s[0].codewords.length;for(let y=g;y<D;y++)for(let Q=0;Q<a;Q++)s[Q].codewords[Q<h?y:y+1]=e[f++];return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(u){u[u.TERMINATOR=0]="TERMINATOR",u[u.NUMERIC=1]="NUMERIC",u[u.ALPHANUMERIC=2]="ALPHANUMERIC",u[u.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",u[u.BYTE=4]="BYTE",u[u.ECI=5]="ECI",u[u.KANJI=6]="KANJI",u[u.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",u[u.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",u[u.HANZI=9]="HANZI"}(pe||(pe={}));class Be{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,Be.FOR_BITS.set(n,this),Be.FOR_VALUE.set(e,this)}static forBits(e){const t=Be.FOR_BITS.get(e);if(void 0===t)throw new E;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){return e instanceof Be&&this.value===e.value}toString(){return this.stringValue}}Be.FOR_BITS=new Map,Be.FOR_VALUE=new Map,Be.TERMINATOR=new Be(pe.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Be.NUMERIC=new Be(pe.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Be.ALPHANUMERIC=new Be(pe.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Be.STRUCTURED_APPEND=new Be(pe.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Be.BYTE=new Be(pe.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Be.ECI=new Be(pe.ECI,"ECI",Int32Array.from([0,0,0]),7),Be.KANJI=new Be(pe.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Be.FNC1_FIRST_POSITION=new Be(pe.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Be.FNC1_SECOND_POSITION=new Be(pe.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Be.HANZI=new Be(pe.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rt{static decode(e,t,r,n){const i=new Mr(e);let o=new re;const s=new Array;let a=-1,A=-1;try{let h,g=null,f=!1;do{if(i.available()<4)h=Be.TERMINATOR;else{const D=i.readBits(4);h=Be.forBits(D)}switch(h){case Be.TERMINATOR:break;case Be.FNC1_FIRST_POSITION:case Be.FNC1_SECOND_POSITION:f=!0;break;case Be.STRUCTURED_APPEND:if(i.available()<16)throw new j;a=i.readBits(8),A=i.readBits(8);break;case Be.ECI:const D=rt.parseECIValue(i);if(null===(g=R.getCharacterSetECIByValue(D)))throw new j;break;case Be.HANZI:const y=i.readBits(4),Q=i.readBits(h.getCharacterCountBits(t));y===rt.GB2312_SUBSET&&rt.decodeHanziSegment(i,o,Q);break;default:const x=i.readBits(h.getCharacterCountBits(t));switch(h){case Be.NUMERIC:rt.decodeNumericSegment(i,o,x);break;case Be.ALPHANUMERIC:rt.decodeAlphanumericSegment(i,o,x,f);break;case Be.BYTE:rt.decodeByteSegment(i,o,x,g,s,n);break;case Be.KANJI:rt.decodeKanjiSegment(i,o,x);break;default:throw new j}}}while(h!==Be.TERMINATOR)}catch{throw new j}return new He(e,o.toString(),0===s.length?null:s,null===r?null:r.toString(),a,A)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new j;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let s=o/96<<8&4294967295|o%96;s+=s<959?41377:42657,n[i]=s>>8&255,n[i+1]=255&s,i+=2,r--}try{t.append(O.decode(n,G.GB2312))}catch(o){throw new j(o)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new j;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let s=o/192<<8&4294967295|o%192;s+=s<7936?33088:49472,n[i]=s>>8,n[i+1]=s,i+=2,r--}try{t.append(O.decode(n,G.SHIFT_JIS))}catch(o){throw new j(o)}}static decodeByteSegment(e,t,r,n,i,o){if(8*r>e.available())throw new j;const s=new Uint8Array(r);for(let A=0;A<r;A++)s[A]=e.readBits(8);let a;a=null===n?G.guessEncoding(s,o):n.getName();try{t.append(O.decode(s,a))}catch(A){throw new j(A)}i.push(s)}static toAlphaNumericChar(e){if(e>=rt.ALPHANUMERIC_CHARS.length)throw new j;return rt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new j;const o=e.readBits(11);t.append(rt.toAlphaNumericChar(Math.floor(o/45))),t.append(rt.toAlphaNumericChar(o%45)),r-=2}if(1===r){if(e.available()<6)throw new j;t.append(rt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let o=i;o<t.length();o++)"%"===t.charAt(o)&&(o<t.length()-1&&"%"===t.charAt(o+1)?t.deleteCharAt(o+1):t.setCharAt(o,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new j;const n=e.readBits(10);if(n>=1e3)throw new j;t.append(rt.toAlphaNumericChar(Math.floor(n/100))),t.append(rt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(rt.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new j;const n=e.readBits(7);if(n>=100)throw new j;t.append(rt.toAlphaNumericChar(Math.floor(n/10))),t.append(rt.toAlphaNumericChar(n%10))}else if(1===r){if(e.available()<4)throw new j;const n=e.readBits(4);if(n>=10)throw new j;t.append(rt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new j}}rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rt.GB2312_SUBSET=1;class Zr{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class ln{constructor(){this.rsDecoder=new Ut(be.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ce.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new An(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new Zr(!0)),i}catch(i){throw null!==n?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),o=Tr.getDataBlocks(i,r,n);let s=0;for(const h of o)s+=h.getNumDataCodewords();const a=new Uint8Array(s);let A=0;for(const h of o){const g=h.getCodewords(),f=h.getNumDataCodewords();this.correctErrors(g,f);for(let D=0;D<f;D++)a[A++]=g[D]}return rt.decode(a,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new P}for(let n=0;n<t;n++)e[n]=r[n]}}class yr extends B{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2;return new yr(n,i,(this.estimatedModuleSize+r)/2)}}class dr{constructor(e,t,r,n,i,o,s){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,i=new Int32Array(3),o=this.image;for(let s=0;s<t;s++){const a=n+(1&s?-Math.floor((s+1)/2):Math.floor((s+1)/2));i[0]=0,i[1]=0,i[2]=0;let A=e;for(;A<r&&!o.get(A,a);)A++;let h=0;for(;A<r;){if(o.get(A,a))if(1===h)i[1]++;else if(2===h){if(this.foundPatternCross(i)){const g=this.handlePossibleCenter(i,a,A);if(null!==g)return g}i[0]=i[2],i[1]=1,i[2]=0,h=1}else i[++h]++;else 1===h&&h++,i[h]++;A++}if(this.foundPatternCross(i)){const g=this.handlePossibleCenter(i,a,r);if(null!==g)return g}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new W}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let a=e;for(;a>=0&&i.get(t,a)&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&!i.get(t,a)&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<o&&i.get(t,a)&&s[1]<=r;)s[1]++,a++;if(a===o||s[1]>r)return NaN;for(;a<o&&!i.get(t,a)&&s[2]<=r;)s[2]++,a++;return s[2]>r||5*Math.abs(s[0]+s[1]+s[2]-n)>=2*n?NaN:this.foundPatternCross(s)?dr.centerFromEnd(s,a):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=dr.centerFromEnd(e,r),o=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(o)){const s=(e[0]+e[1]+e[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(s,o,i))return A.combineEstimate(o,i,s);const a=new yr(i,o,s);this.possibleCenters.push(a),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(a)}return null}}class Nr extends B{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n;return new Nr(i,o,(this.count*this.estimatedModuleSize+r)/n,n)}}class hn{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class lt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get($.TRY_HARDER),r=null!=e&&void 0!==e.get($.PURE_BARCODE),n=this.image,i=n.getHeight(),o=n.getWidth();let s=Math.floor(3*i/(4*lt.MAX_MODULES));(s<lt.MIN_SKIP||t)&&(s=lt.MIN_SKIP);let a=!1;const A=new Int32Array(5);for(let g=s-1;g<i&&!a;g+=s){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let f=0;for(let D=0;D<o;D++)if(n.get(D,g))1==(1&f)&&f++,A[f]++;else if(1&f)A[f]++;else if(4===f)if(lt.foundPatternCross(A)){if(!0!==this.handlePossibleCenter(A,g,D,r)){A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,f=3;continue}if(s=2,!0===this.hasSkipped)a=this.haveMultiplyConfirmedCenters();else{const y=this.findRowSkip();y>A[2]&&(g+=y-A[2]-s,D=o-1)}f=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,f=3;else A[++f]++;lt.foundPatternCross(A)&&!0===this.handlePossibleCenter(A,g,o,r)&&(s=A[0],this.hasSkipped&&(a=this.haveMultiplyConfirmedCenters()))}const h=this.selectBestPatterns();return B.orderBestPatterns(h),new hn(h)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const o=e[i];if(0===o)return!1;t+=o}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let o=0;const s=this.image;for(;e>=o&&t>=o&&s.get(t-o,e-o);)i[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&i[1]<=r;)i[1]++,o++;if(e<o||t<o||i[1]>r)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;const a=s.getHeight(),A=s.getWidth();for(o=1;e+o<a&&t+o<A&&s.get(t+o,e+o);)i[2]++,o++;if(e+o>=a||t+o>=A)return!1;for(;e+o<a&&t+o<A&&!s.get(t+o,e+o)&&i[3]<r;)i[3]++,o++;if(e+o>=a||t+o>=A||i[3]>=r)return!1;for(;e+o<a&&t+o<A&&s.get(t+o,e+o)&&i[4]<r;)i[4]++,o++;return!(i[4]>=r)&&(Math.abs(i[0]+i[1]+i[2]+i[3]+i[4]-n)<2*n&&lt.foundPatternCross(i))}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),s=this.getCrossCheckStateCount();let a=e;for(;a>=0&&i.get(t,a);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!i.get(t,a)&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&i.get(t,a)&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<o&&i.get(t,a);)s[2]++,a++;if(a===o)return NaN;for(;a<o&&!i.get(t,a)&&s[3]<r;)s[3]++,a++;if(a===o||s[3]>=r)return NaN;for(;a<o&&i.get(t,a)&&s[4]<r;)s[4]++,a++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-n)>=2*n?NaN:lt.foundPatternCross(s)?lt.centerFromEnd(s,a):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,o=i.getWidth(),s=this.getCrossCheckStateCount();let a=e;for(;a>=0&&i.get(a,t);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!i.get(a,t)&&s[1]<=r;)s[1]++,a--;if(a<0||s[1]>r)return NaN;for(;a>=0&&i.get(a,t)&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return NaN;for(a=e+1;a<o&&i.get(a,t);)s[2]++,a++;if(a===o)return NaN;for(;a<o&&!i.get(a,t)&&s[3]<r;)s[3]++,a++;if(a===o||s[3]>=r)return NaN;for(;a<o&&i.get(a,t)&&s[4]<r;)s[4]++,a++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-n)>=n?NaN:lt.foundPatternCross(s)?lt.centerFromEnd(s,a):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let o=lt.centerFromEnd(e,r),s=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],i),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],i)))){const a=i/7;let A=!1;const h=this.possibleCenters;for(let g=0,f=h.length;g<f;g++){const D=h[g];if(D.aboutEquals(a,s,o)){h[g]=D.combineEstimate(s,o,a),A=!0;break}}if(!A){const g=new Nr(o,s,a);h.push(g),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=lt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=lt.CENTER_QUORUM&&(e++,t+=o.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const o of this.possibleCenters)i+=Math.abs(o.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new W;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const a of this.possibleCenters){const A=a.getEstimatedModuleSize();n+=A,i+=A*A}r=n/e;let o=Math.sqrt(i/e-r*r);t.sort((a,A)=>{const h=Math.abs(A.getEstimatedModuleSize()-r),g=Math.abs(a.getEstimatedModuleSize()-r);return h<g?-1:h>g?1:0});const s=Math.max(.2*r,o);for(let a=0;a<t.length&&t.length>3;a++)Math.abs(t[a].getEstimatedModuleSize()-r)>s&&(t.splice(a,1),a--)}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,o)=>{if(o.getCount()===i.getCount()){const s=Math.abs(o.getEstimatedModuleSize()-r),a=Math.abs(i.getEstimatedModuleSize()-r);return s<a?1:s>a?-1:0}return o.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}lt.CENTER_QUORUM=2,lt.MIN_SKIP=3,lt.MAX_MODULES=57;class nr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get($.NEED_RESULT_POINT_CALLBACK);const t=new lt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new W("No pattern found in proccess finder.");const o=nr.computeDimension(t,r,n,i),s=Re.getProvisionalVersionForDimension(o),a=s.getDimensionForVersion()-7;let A=null;if(s.getAlignmentPatternCenters().length>0){const D=r.getX()-t.getX()+n.getX(),y=r.getY()-t.getY()+n.getY(),Q=1-3/a,x=Math.floor(t.getX()+Q*(D-t.getX())),K=Math.floor(t.getY()+Q*(y-t.getY()));for(let ge=4;ge<=16;ge<<=1)try{A=this.findAlignmentInRegion(i,x,K,ge);break}catch(he){if(!(he instanceof W))throw he}}const h=nr.createTransform(t,r,n,A,o),g=nr.sampleGrid(this.image,h,o);let f;return new J(g,f=null===A?[n,t,r]:[n,t,r,A])}static createTransform(e,t,r,n,i){const o=i-3.5;let s,a,A,h;return null!==n?(s=n.getX(),a=n.getY(),h=A=o-3):(s=t.getX()-e.getX()+r.getX(),a=t.getY()-e.getY()+r.getY(),A=o,h=o),Ze.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,A,h,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,a,r.getX(),r.getY())}static sampleGrid(e,t,r){return Ve.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=c.round(B.distance(e,t)/n),o=c.round(B.distance(e,r)/n);let s=Math.floor((i+o)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new W("Dimensions could be not found.")}return s}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,s=e-(r-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);let a=Math.floor(t-(n-t)*o);return o=1,a<0?(o=t/(t-a),a=0):a>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(a-t),a=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),(i+=this.sizeOfBlackWhiteBlackRun(e,t,s,a))-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let D=e;e=t,t=D,D=r,r=n,n=D}const o=Math.abs(r-e),s=Math.abs(n-t);let a=-o/2;const A=e<r?1:-1,h=t<n?1:-1;let g=0;const f=r+A;for(let D=e,y=t;D!==f;D+=A){if(1===g===this.image.get(i?y:D,i?D:y)){if(2===g)return c.distance(D,y,e,t);g++}if((a+=s)>0){if(y===n)break;y+=h,a-=o}}return 2===g?c.distance(r+A,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),o=Math.max(0,t-i),s=Math.min(this.image.getWidth()-1,t+i);if(s-o<3*e)throw new W("Alignment top exceeds estimated module size.");const a=Math.max(0,r-i),A=Math.min(this.image.getHeight()-1,r+i);if(A-a<3*e)throw new W("Alignment bottom exceeds estimated module size.");return new dr(this.image,o,a,s-o,A-a,e,this.resultPointCallback).find()}}class kt{constructor(){this.decoder=new ln}getDecoder(){return this.decoder}decode(e,t){let r,n;if(null!=t&&void 0!==t.get($.PURE_BARCODE)){const a=kt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),n=kt.NO_POINTS}else{const a=new nr(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),n=a.getPoints()}r.getOther()instanceof Zr&&r.getOther().applyMirroredCorrection(n);const i=new ee(r.getText(),r.getRawBytes(),void 0,n,te.QR_CODE,void 0),o=r.getByteSegments();null!==o&&i.putMetadata(ye.BYTE_SEGMENTS,o);const s=r.getECLevel();return null!==s&&i.putMetadata(ye.ERROR_CORRECTION_LEVEL,s),r.hasStructuredAppend()&&(i.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(ye.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new W;const n=this.moduleSize(t,e);let i=t[1],o=r[1],s=t[0],a=r[0];if(s>=a||i>=o)throw new W;if(o-i!=a-s&&(a=s+(o-i))>=e.getWidth())throw new W;const A=Math.round((a-s+1)/n),h=Math.round((o-i+1)/n);if(A<=0||h<=0)throw new W;if(h!==A)throw new W;const g=Math.floor(n/2);i+=g;const f=(s+=g)+Math.floor((A-1)*n)-a;if(f>0){if(f>g)throw new W;s-=f}const D=i+Math.floor((h-1)*n)-o;if(D>0){if(D>g)throw new W;i-=D}const y=new ce(A,h);for(let Q=0;Q<h;Q++){const x=i+Math.floor(Q*n);for(let K=0;K<A;K++)e.get(s+Math.floor(K*n),x)&&y.set(K,Q)}return y}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],o=e[1],s=!0,a=0;for(;i<n&&o<r;){if(s!==t.get(i,o)){if(5==++a)break;s=!s}i++,o++}if(i===n||o===r)throw new W;return(i-e[0])/7}}kt.NO_POINTS=new Array;class Ne{PDF417Common(){}static getBitCountSum(e){return c.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ne.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=Ae.binarySearch(Ne.SYMBOL_TABLE,262143&e);return t<0?-1:(Ne.CODEWORD_TABLE[t]-1)%Ne.NUMBER_OF_CODEWORDS}}Ne.NUMBER_OF_CODEWORDS=929,Ne.MAX_CODEWORDS_IN_BARCODE=Ne.NUMBER_OF_CODEWORDS-1,Ne.MIN_ROWS_IN_BARCODE=3,Ne.MAX_ROWS_IN_BARCODE=90,Ne.MODULES_IN_CODEWORD=17,Ne.MODULES_IN_STOP_PATTERN=18,Ne.BARS_IN_MODULE=8,Ne.EMPTY_INT_ARRAY=new Int32Array([]),Ne.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ne.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Fe{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=Fe.detect(r,n);return i.length||((n=n.clone()).rotate180(),i=Fe.detect(r,n)),new cn(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,o=!1;for(;n<t.getHeight();){const s=Fe.findVertices(t,n,i);if(null!=s[0]||null!=s[3]){if(o=!0,r.push(s),!e)break;null!=s[2]?(i=Math.trunc(s[2].getX()),n=Math.trunc(s[2].getY())):(i=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY()))}else{if(!o)break;o=!1,i=0;for(const a of r)null!=a[1]&&(n=Math.trunc(Math.max(n,a[1].getY()))),null!=a[3]&&(n=Math.max(n,Math.trunc(a[3].getY())));n+=Fe.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),o=new Array(8);return Fe.copyToResult(o,Fe.findRowsWithPattern(e,n,i,t,r,Fe.START_PATTERN),Fe.INDEXES_START_PATTERN),null!=o[4]&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Fe.copyToResult(o,Fe.findRowsWithPattern(e,n,i,t,r,Fe.STOP_PATTERN),Fe.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,o){const s=new Array(4);let a=!1;const A=new Int32Array(o.length);for(;n<t;n+=Fe.ROW_STEP){let g=Fe.findGuardPattern(e,i,n,r,!1,o,A);if(null!=g){for(;n>0;){const f=Fe.findGuardPattern(e,i,--n,r,!1,o,A);if(null==f){n++;break}g=f}s[0]=new B(g[0],n),s[1]=new B(g[1],n),a=!0;break}}let h=n+1;if(a){let g=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;h<t;h++){const D=Fe.findGuardPattern(e,f[0],h,r,!1,o,A);if(null!=D&&Math.abs(f[0]-D[0])<Fe.MAX_PATTERN_DRIFT&&Math.abs(f[1]-D[1])<Fe.MAX_PATTERN_DRIFT)f=D,g=0;else{if(g>Fe.SKIPPED_ROW_COUNT_MAX)break;g++}}h-=g+1,s[2]=new B(f[0],h),s[3]=new B(f[1],h)}return h-n<Fe.BARCODE_MIN_HEIGHT&&Ae.fill(s,null),s}static findGuardPattern(e,t,r,n,i,o,s){Ae.fillWithin(s,0,s.length,0);let a=t,A=0;for(;e.get(a,r)&&a>0&&A++<Fe.MAX_PIXEL_DRIFT;)a--;let h=a,g=0,f=o.length;for(let D=i;h<n;h++)if(e.get(h,r)!==D)s[g]++;else{if(g===f-1){if(Fe.patternMatchVariance(s,o,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return new Int32Array([a,h]);a+=s[0]+s[1],V.arraycopy(s,2,s,0,g-1),s[g-1]=0,s[g]=0,g--}else g++;s[g]=1,D=!D}return g===f-1&&Fe.patternMatchVariance(s,o,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE?new Int32Array([a,h-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,o=0;for(let A=0;A<n;A++)i+=e[A],o+=t[A];if(i<o)return 1/0;let s=i/o;r*=s;let a=0;for(let A=0;A<n;A++){let h=e[A],g=t[A]*s,f=h>g?h-g:g-h;if(f>r)return 1/0;a+=f}return a/i}}Fe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fe.MAX_AVG_VARIANCE=.42,Fe.MAX_INDIVIDUAL_VARIANCE=.8,Fe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fe.MAX_PIXEL_DRIFT=3,Fe.MAX_PATTERN_DRIFT=5,Fe.SKIPPED_ROW_COUNT_MAX=25,Fe.ROW_STEP=5,Fe.BARCODE_MIN_HEIGHT=10;class ct{constructor(e,t){if(0===t.length)throw new E;this.field=e;let r=t.length;if(r>1&&0===t[0]){let n=1;for(;n<r&&0===t[n];)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),V.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let o=t;t=r,r=o}let n=new Int32Array(r.length),i=r.length-t.length;V.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=this.field.add(t[o-i],r[o]);return new ct(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new E("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof ct?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new ct(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1);for(let s=0;s<r;s++){let a=t[s];for(let A=0;A<i;A++)o[s+A]=this.field.add(o[s+A],this.field.multiply(a,n[A]))}return new ct(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new ct(this.field,t)}multiplyScalar(e){if(0===e)return new ct(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new ct(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new E;if(0===t)return new ct(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new ct(this.field,n)}toString(){let e=new re;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class un{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new E;return this.logTable[e]}inverse(e){if(0===e)throw new ht;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class br extends un{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new ct(this,new Int32Array([0])),this.one=new ct(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new E;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new ct(this,r)}}br.PDF417_GF=new br(Ne.NUMBER_OF_CODEWORDS,3);class Yr{constructor(){this.field=br.PDF417_GF}decode(e,t,r){let n=new ct(this.field,e),i=new Int32Array(t),o=!1;for(let y=t;y>0;y--){let Q=n.evaluateAt(this.field.exp(y));i[t-y]=Q,0!==Q&&(o=!0)}if(!o)return 0;let s=this.field.getOne();if(null!=r)for(const y of r){let Q=this.field.exp(e.length-1-y),x=new ct(this.field,new Int32Array([this.field.subtract(0,Q),1]));s=s.multiply(x)}let a=new ct(this.field,i),A=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),a,t),h=A[0],g=A[1],f=this.findErrorLocations(h),D=this.findErrorMagnitudes(g,h,f);for(let y=0;y<f.length;y++){let Q=e.length-1-this.field.log(f[y]);if(Q<0)throw P.getChecksumInstance();e[Q]=this.field.subtract(e[Q],D[y])}return f.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let h=e;e=t,t=h}let n=e,i=t,o=this.field.getZero(),s=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let h=n,g=o;if(o=s,(n=i).isZero())throw P.getChecksumInstance();i=h;let f=this.field.getZero(),D=n.getCoefficient(n.getDegree()),y=this.field.inverse(D);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let Q=i.getDegree()-n.getDegree(),x=this.field.multiply(i.getCoefficient(i.getDegree()),y);f=f.add(this.field.buildMonomial(Q,x)),i=i.subtract(n.multiplyByMonomial(Q,x))}s=f.multiply(o).subtract(g).negative()}let a=s.getCoefficient(0);if(0===a)throw P.getChecksumInstance();let A=this.field.inverse(a);return[s.multiply(A),i.multiply(A)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)0===e.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw P.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let A=1;A<=n;A++)i[n-A]=this.field.multiply(A,t.getCoefficient(A));let o=new ct(this.field,i),s=r.length,a=new Int32Array(s);for(let A=0;A<s;A++){let h=this.field.inverse(r[A]),g=this.field.subtract(0,e.evaluateAt(h)),f=this.field.inverse(o.evaluateAt(h));a[A]=this.field.multiply(g,f)}return a}}class Wt{constructor(e,t,r,n,i){e instanceof Wt?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const o=null==t||null==r,s=null==n||null==i;if(o&&s)throw new W;o?(t=new B(0,n.getY()),r=new B(0,i.getY())):s&&(n=new B(e.getWidth()-1,t.getY()),i=new B(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Wt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){let a=r?this.topLeft:this.topRight,A=Math.trunc(a.getY()-e);A<0&&(A=0);let h=new B(a.getX(),A);r?n=h:o=h}if(t>0){let a=r?this.bottomLeft:this.bottomRight,A=Math.trunc(a.getY()+t);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let h=new B(a.getX(),A);r?i=h:s=h}return new Wt(this.image,n,i,o,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class gn{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ir{constructor(){this.buffer=""}static form(e,t){let r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(n,i,o,s,a,A){if("%%"===n)return"%";if(void 0===t[++r])return;n=s?parseInt(s.substr(1)):void 0;let h,g=a?parseInt(a.substr(1)):void 0;switch(A){case"s":h=t[r];break;case"c":h=t[r][0];break;case"f":h=parseFloat(t[r]).toFixed(n);break;case"p":h=parseFloat(t[r]).toPrecision(n);break;case"e":h=parseFloat(t[r]).toExponential(n);break;case"x":h=parseInt(t[r]).toString(g||16);break;case"d":h=parseFloat(parseInt(t[r],g||10).toPrecision(n)).toFixed(0)}h="object"==typeof h?JSON.stringify(h):(+h).toString(g);let f=parseInt(o),D=o&&o[0]+""=="0"?"0":" ";for(;h.length<f;)h=void 0!==i?h+D:D+h;return h})}format(e,...t){this.buffer+=ir.form(e,t)}toString(){return this.buffer}}class or{constructor(e){this.boundingBox=new Wt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<or.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&null!=(t=this.codewords[n])||(n=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(t=this.codewords[n]))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ir;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}or.MAX_NEARBY_DISTANCE=5;class sr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),(t=[]).push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ne.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class xr extends or{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=-1,A=1,h=0;for(let g=o;g<s;g++){if(null==t[g])continue;let f=t[g],D=f.getRowNumber()-a;if(0===D)h++;else if(1===D)A=Math.max(A,h),h=1,a=f.getRowNumber();else if(D<0||f.getRowNumber()>=e.getRowCount()||D>g)t[g]=null;else{let y,Q=(y=A>2?(A-2)*D:D)>=g;for(let x=1;x<=y&&!Q;x++)Q=null!=t[g-x];Q?t[g]=null:(a=f.getRowNumber(),h=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(null!=r){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.getCodewords(),a=-1;for(let A=i;A<o;A++){if(null==s[A])continue;let h=s[A];h.setRowNumberAsRowIndicatorColumn();let g=h.getRowNumber()-a;0===g||(1===g?a=h.getRowNumber():h.getRowNumber()>=e.getRowCount()?s[A]=null:a=h.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new sr,r=new sr,n=new sr,i=new sr;for(let s of e){if(null==s)continue;s.setRowNumberAsRowIndicatorColumn();let a=s.getValue()%30,A=s.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:r.setValue(3*a+1);break;case 1:i.setValue(a/3),n.setValue(a%3);break;case 2:t.setValue(a+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===i.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ne.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ne.MAX_ROWS_IN_BARCODE)return null;let o=new gn(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let i=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount())e[r]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class ar{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ne.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)null!=r[n]&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];null!=i&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){let s=this.detectionResultColumns[o].getCodewords()[r];null!=s&&(i=ar.adjustRowNumberIfValid(n,i,s),s.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){let s=this.detectionResultColumns[o].getCodewords()[r];null!=s&&(i=ar.adjustRowNumberIfValid(n,i,s),s.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),o=i;null!=this.detectionResultColumns[e+1]&&(o=this.detectionResultColumns[e+1].getCodewords());let s=new Array(14);s[2]=i[t],s[3]=o[t],t>0&&(s[0]=r[t-1],s[4]=i[t-1],s[5]=o[t-1]),t>1&&(s[8]=r[t-2],s[10]=i[t-2],s[11]=o[t-2]),t<r.length-1&&(s[1]=r[t+1],s[6]=i[t+1],s[7]=o[t+1]),t<r.length-2&&(s[9]=r[t+2],s[12]=i[t+2],s[13]=o[t+2]);for(let a of s)if(ar.adjustRowNumber(n,a))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new ir;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(null==this.detectionResultColumns[n]){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];null!=i?t.format(" %3d|%3d",i.getRowNumber(),i.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class Ar{constructor(e,t,r,n){this.rowNumber=Ar.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ar.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ar.BARCODE_ROW_UNKNOWN=-1;class Et{static initialize(){for(let e=0;e<Ne.SYMBOL_TABLE.length;e++){let t=Ne.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<Ne.BARS_IN_MODULE;n++){let i=0;for(;(1&t)===r;)i+=1,t>>=1;r=1&t,Et.RATIOS_TABLE[e]||(Et.RATIOS_TABLE[e]=new Array(Ne.BARS_IN_MODULE)),Et.RATIOS_TABLE[e][Ne.BARS_IN_MODULE-n-1]=Math.fround(i/Ne.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Et.getDecodedCodewordValue(Et.sampleBitCounts(e));return-1!==t?t:Et.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=c.sum(e),r=new Int32Array(Ne.BARS_IN_MODULE),n=0,i=0;for(let o=0;o<Ne.MODULES_IN_CODEWORD;o++)i+e[n]<=t/(2*Ne.MODULES_IN_CODEWORD)+o*t/Ne.MODULES_IN_CODEWORD&&(i+=e[n],n++),r[n]++;return r}static getDecodedCodewordValue(e){let t=Et.getBitValue(e);return-1===Ne.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=c.sum(e),r=new Array(Ne.BARS_IN_MODULE);if(t>1)for(let o=0;o<r.length;o++)r[o]=Math.fround(e[o]/t);let n=C.MAX_VALUE,i=-1;this.bSymbolTableReady||Et.initialize();for(let o=0;o<Et.RATIOS_TABLE.length;o++){let s=0,a=Et.RATIOS_TABLE[o];for(let A=0;A<Ne.BARS_IN_MODULE;A++){let h=Math.fround(a[A]-r[A]);if((s+=Math.fround(h*h))>=n)break}s<n&&(n=s,i=Ne.SYMBOL_TABLE[o])}return i}}Et.bSymbolTableReady=!1,Et.RATIOS_TABLE=new Array(Ne.SYMBOL_TABLE.length).map(u=>new Array(Ne.BARS_IN_MODULE));class Vr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Wr{static parseLong(e,t){return parseInt(e,t)}}class Hr extends I{}Hr.kind="NullPointerException";class dn{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new Hr;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new q;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class fn extends I{}class Cn extends dn{constructor(e=32){if(super(),this.count=0,e<0)throw new E("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new fn;t=X.MAX_VALUE}this.buf=Ae.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new q;this.ensureCapacity(this.count+r),V.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ae.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function jr(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let fr;function _t(u){if(void 0===fr&&(fr=jr()),null===fr)throw new Error("BigInt is not supported!");return fr(u)}!function(u){u[u.ALPHA=0]="ALPHA",u[u.LOWER=1]="LOWER",u[u.MIXED=2]="MIXED",u[u.PUNCT=3]="PUNCT",u[u.ALPHA_SHIFT=4]="ALPHA_SHIFT",u[u.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(De||(De={}));class H{static decode(e,t){let r=new re(""),n=R.ISO8859_1;r.enableDecoding(n);let i=1,o=e[i++],s=new Vr;for(;i<e[0];){switch(o){case H.TEXT_COMPACTION_MODE_LATCH:i=H.textCompaction(e,i,r);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:i=H.byteCompaction(o,e,n,i,r);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:i=H.numericCompaction(e,i,r);break;case H.ECI_CHARSET:R.getCharacterSetECIByValue(e[i++]);break;case H.ECI_GENERAL_PURPOSE:i+=2;break;case H.ECI_USER_DEFINED:i++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=H.decodeMacroBlock(e,i,s);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new j;default:i--,i=H.textCompaction(e,i,r)}if(!(i<e.length))throw j.getFormatInstance();o=e[i++]}if(0===r.length())throw j.getFormatInstance();let a=new He(null,r.toString(),null,t);return a.setOther(s),a}static decodeMacroBlock(e,t,r){if(t+H.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw j.getFormatInstance();let n=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<H.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)n[s]=e[t];r.setSegmentIndex(X.parseInt(H.decodeBase900toBase10(n,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new re;t=H.textCompaction(e,t,i),r.setFileId(i.toString());let o=-1;for(e[t]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let s=new re;t=H.textCompaction(e,t+1,s),r.setFileName(s.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let a=new re;t=H.textCompaction(e,t+1,a),r.setSender(a.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new re;t=H.textCompaction(e,t+1,A),r.setAddressee(A.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let h=new re;t=H.numericCompaction(e,t+1,h),r.setSegmentCount(X.parseInt(h.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let g=new re;t=H.numericCompaction(e,t+1,g),r.setTimestamp(Wr.parseLong(g.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let f=new re;t=H.numericCompaction(e,t+1,f),r.setChecksum(X.parseInt(f.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new re;t=H.numericCompaction(e,t+1,D),r.setFileSize(Wr.parseLong(D.toString()));break;default:throw j.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(-1!==o){let s=t-o;r.isLastSegment()&&s--,r.setOptionalData(Ae.copyOfRange(e,o,o+s))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),o=0,s=!1;for(;t<e[0]&&!s;){let a=e[t++];if(a<H.TEXT_COMPACTION_MODE_LATCH)n[o]=a/30,n[o+1]=a%30,o+=2;else switch(a){case H.TEXT_COMPACTION_MODE_LATCH:n[o++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,a=e[t++],i[o]=a,o++}}return H.decodeTextCompaction(n,i,o,r),t}static decodeTextCompaction(e,t,r,n){let i=De.ALPHA,o=De.ALPHA,s=0;for(;s<r;){let a=e[s],A="";switch(i){case De.ALPHA:if(a<26)A=String.fromCharCode(65+a);else switch(a){case 26:A=" ";break;case H.LL:i=De.LOWER;break;case H.ML:i=De.MIXED;break;case H.PS:o=i,i=De.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}break;case De.LOWER:if(a<26)A=String.fromCharCode(97+a);else switch(a){case 26:A=" ";break;case H.AS:o=i,i=De.ALPHA_SHIFT;break;case H.ML:i=De.MIXED;break;case H.PS:o=i,i=De.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}break;case De.MIXED:if(a<H.PL)A=H.MIXED_CHARS[a];else switch(a){case H.PL:i=De.PUNCT;break;case 26:A=" ";break;case H.LL:i=De.LOWER;break;case H.AL:i=De.ALPHA;break;case H.PS:o=i,i=De.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}break;case De.PUNCT:if(a<H.PAL)A=H.PUNCT_CHARS[a];else switch(a){case H.PAL:i=De.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}break;case De.ALPHA_SHIFT:if(i=o,a<26)A=String.fromCharCode(65+a);else switch(a){case 26:A=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}break;case De.PUNCT_SHIFT:if(i=o,a<H.PAL)A=H.PUNCT_CHARS[a];else switch(a){case H.PAL:i=De.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[s]);break;case H.TEXT_COMPACTION_MODE_LATCH:i=De.ALPHA}}""!==A&&n.append(A),s++}}static byteCompaction(e,t,r,n,i){let o=new Cn,s=0,a=0,A=!1;switch(e){case H.BYTE_COMPACTION_MODE_LATCH:let h=new Int32Array(6),g=t[n++];for(;n<t[0]&&!A;)switch(h[s++]=g,a=900*a+g,g=t[n++]){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:n--,A=!0;break;default:if(s%5==0&&s>0){for(let f=0;f<6;++f)o.write(Number(_t(a)>>_t(8*(5-f))));a=0,s=0}}n===t[0]&&g<H.TEXT_COMPACTION_MODE_LATCH&&(h[s++]=g);for(let f=0;f<s;f++)o.write(h[f]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!A;){let f=t[n++];if(f<H.TEXT_COMPACTION_MODE_LATCH)s++,a=900*a+f;else switch(f){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:n--,A=!0}if(s%5==0&&s>0){for(let D=0;D<6;++D)o.write(Number(_t(a)>>_t(8*(5-D))));a=0,s=0}}}return i.append(O.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,o=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let s=e[t++];if(t===e[0]&&(i=!0),s<H.TEXT_COMPACTION_MODE_LATCH)o[n]=s,n++;else switch(s){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,i=!0}(n%H.MAX_NUMERIC_CODEWORDS==0||s===H.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(H.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=_t(0);for(let i=0;i<t;i++)r+=H.EXP900[t-i-1]*_t(e[i]);let n=r.toString();if("1"!==n.charAt(0))throw new j;return n.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",H.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",H.EXP900=jr()?function(){let u=[];u[0]=_t(1);let e=_t(900);u[1]=e;for(let t=2;t<16;t++)u[t]=u[t-1]*e;return u}():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pe{constructor(){}static decode(e,t,r,n,i,o,s){let a,A=new Wt(e,t,r,n,i),h=null,g=null;for(let y=!0;;y=!1){if(null!=t&&(h=Pe.getRowIndicatorColumn(e,A,t,!0,o,s)),null!=n&&(g=Pe.getRowIndicatorColumn(e,A,n,!1,o,s)),null==(a=Pe.merge(h,g)))throw W.getNotFoundInstance();let Q=a.getBoundingBox();if(!y||null==Q||!(Q.getMinY()<A.getMinY()||Q.getMaxY()>A.getMaxY()))break;A=Q}a.setBoundingBox(A);let f=a.getBarcodeColumnCount()+1;a.setDetectionResultColumn(0,h),a.setDetectionResultColumn(f,g);let D=null!=h;for(let y=1;y<=f;y++){let Q,x=D?y:f-y;if(void 0!==a.getDetectionResultColumn(x))continue;Q=0===x||x===f?new xr(A,0===x):new or(A),a.setDetectionResultColumn(x,Q);let K=-1,ge=K;for(let he=A.getMinY();he<=A.getMaxY();he++){if((K=Pe.getStartColumn(a,x,he,D))<0||K>A.getMaxX()){if(-1===ge)continue;K=ge}let se=Pe.detectCodeword(e,A.getMinX(),A.getMaxX(),D,K,he,o,s);null!=se&&(Q.setCodeword(he,se),ge=K,o=Math.min(o,se.getWidth()),s=Math.max(s,se.getWidth()))}}return Pe.createDecoderResult(a)}static merge(e,t){if(null==e&&null==t)return null;let r=Pe.getBarcodeMetadata(e,t);if(null==r)return null;let n=Wt.merge(Pe.adjustBoundingBox(e),Pe.adjustBoundingBox(t));return new ar(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=Pe.getMax(t),n=0;for(let s of t)if(n+=r-s,s>0)break;let i=e.getCodewords();for(let s=0;n>0&&null==i[s];s++)n--;let o=0;for(let s=t.length-1;s>=0&&(o+=r-t[s],!(t[s]>0));s--);for(let s=i.length-1;o>0&&null==i[s];s--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,o){let s=new xr(t,n);for(let a=0;a<2;a++){let A=0===a?1:-1,h=Math.trunc(Math.trunc(r.getX()));for(let g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=A){let f=Pe.detectCodeword(e,0,e.getWidth(),n,h,g,i,o);null!=f&&(s.setCodeword(g,f),h=n?f.getStartX():f.getEndX())}}return s}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Pe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(i<1||i>Ne.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=Pe.createBarcodeMatrix(e);Pe.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array;for(let a=0;a<e.getBarcodeRowCount();a++)for(let A=0;A<e.getBarcodeColumnCount();A++){let h=t[a][A+1].getValue(),g=a*e.getBarcodeColumnCount()+A;0===h.length?r.push(g):1===h.length?n[g]=h[0]:(o.push(g),i.push(h))}let s=new Array(i.length);for(let a=0;a<s.length;a++)s[a]=i[a];return Pe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ne.toIntArray(r),Ne.toIntArray(o),s)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let o=new Int32Array(n.length),s=100;for(;s-- >0;){for(let a=0;a<o.length;a++)t[n[a]]=i[a][o[a]];try{return Pe.decodeCodewords(t,e,r)}catch(a){if(!(a instanceof P))throw a}if(0===o.length)throw P.getChecksumInstance();for(let a=0;a<o.length;a++){if(o[a]<i[a].length-1){o[a]++;break}if(o[a]=0,a===o.length-1)throw P.getChecksumInstance()}}throw P.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new sr;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let i of n.getCodewords())if(null!=i){let o=i.getRowNumber();if(o>=0){if(o>=t.length)continue;t[o][r].setValue(i.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,o=null;if(Pe.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodeword(r)),null!=o)return n?o.getEndX():o.getStartX();if(null!=(o=e.getDetectionResultColumn(t).getCodewordNearby(r)))return n?o.getStartX():o.getEndX();if(Pe.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),null!=o)return n?o.getEndX():o.getStartX();let s=0;for(;Pe.isValidBarcodeColumn(e,t-i);){t-=i;for(let a of e.getDetectionResultColumn(t).getCodewords())if(null!=a)return(n?a.getEndX():a.getStartX())+i*s*(a.getEndX()-a.getStartX());s++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,o,s,a){i=Pe.adjustCodewordStartColumn(e,t,r,n,i,o);let A,h=Pe.getModuleBitCount(e,t,r,n,i,o);if(null==h)return null;let g=c.sum(h);if(n)A=i+g;else{for(let y=0;y<h.length/2;y++){let Q=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=Q}i=(A=i)-g}if(!Pe.checkCodewordSkew(g,s,a))return null;let f=Et.getDecodedValue(h),D=Ne.getCodeword(f);return-1===D?null:new Ar(i,A,Pe.getCodewordBucketNumber(f),D)}static getModuleBitCount(e,t,r,n,i,o){let s=i,a=new Int32Array(8),A=0,h=n?1:-1,g=n;for(;(n?s<r:s>=t)&&A<a.length;)e.get(s,o)===g?(a[A]++,s+=h):(A++,g=!g);return A===a.length||s===(n?r:t)&&A===a.length-1?a:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,o){let s=i,a=n?-1:1;for(let A=0;A<2;A++){for(;(n?s>=t:s<r)&&n===e.get(s,o);){if(Math.abs(i-s)>Pe.CODEWORD_SKEW_SIZE)return i;s+=a}a=-a,n=!n}return s}static checkCodewordSkew(e,t,r){return t-Pe.CODEWORD_SKEW_SIZE<=e&&e<=r+Pe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw j.getFormatInstance();let n=1<<t+1,i=Pe.correctErrors(e,r,n);Pe.verifyCodewordCount(e,n);let o=H.decode(e,""+t);return o.setErrorsCorrected(i),o.setErasures(r.length),o}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+Pe.MAX_ERRORS||r<0||r>Pe.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return Pe.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw j.getFormatInstance();let r=e[0];if(r>e.length)throw j.getFormatInstance();if(0===r){if(!(t<e.length))throw j.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,--n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Pe.getCodewordBucketNumber(Pe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new ir;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}Pe.CODEWORD_SKEW_SIZE=2,Pe.MAX_ERRORS=3,Pe.MAX_EC_CODEWORDS=512,Pe.errorCorrection=new Yr;class ut{decode(e,t=null){let r=ut.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw W.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return ut.decode(e,t,!0)}catch(r){throw r instanceof j||r instanceof P?W.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=Fe.detectMultiple(e,t,r);for(const o of i.getPoints()){const s=Pe.decode(i.getBits(),o[4],o[5],o[6],o[7],ut.getMinCodewordWidth(o),ut.getMaxCodewordWidth(o)),a=new ee(s.getText(),s.getRawBytes(),void 0,o,te.PDF_417);a.putMetadata(ye.ERROR_CORRECTION_LEVEL,s.getECLevel());const A=s.getOther();null!=A&&a.putMetadata(ye.PDF417_EXTRA_METADATA,A),n.push(a)}return n.map(o=>o)}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?X.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(ut.getMaxWidth(e[0],e[4]),ut.getMaxWidth(e[6],e[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.max(ut.getMaxWidth(e[1],e[5]),ut.getMaxWidth(e[7],e[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(ut.getMinWidth(e[0],e[4]),ut.getMinWidth(e[6],e[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.min(ut.getMinWidth(e[1],e[5]),ut.getMinWidth(e[7],e[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))}reset(){}}class Cr extends I{}Cr.kind="ReaderException";class Xr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!=this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=null!=e&&void 0!==e.get($.TRY_HARDER),r=null==e?null:e.get($.POSSIBLE_FORMATS),n=new Array;if(null!=r){const i=r.some(o=>o===te.UPC_A||o===te.UPC_E||o===te.EAN_13||o===te.EAN_8||o===te.CODABAR||o===te.CODE_39||o===te.CODE_93||o===te.CODE_128||o===te.ITF||o===te.RSS_14||o===te.RSS_EXPANDED);i&&!t&&n.push(new qt(e,this.verbose)),r.includes(te.QR_CODE)&&n.push(new kt),r.includes(te.DATA_MATRIX)&&n.push(new Lt),r.includes(te.AZTEC)&&n.push(new Zt),r.includes(te.PDF_417)&&n.push(new ut),i&&t&&n.push(new qt(e,this.verbose))}0===n.length&&(t||n.push(new qt(e,this.verbose)),n.push(new kt),n.push(new Lt),n.push(new Zt),n.push(new ut),t&&n.push(new qt(e,this.verbose))),this.readers=n}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new Cr("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof Cr)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}var Or;!function(u){u[u.ERROR_CORRECTION=0]="ERROR_CORRECTION",u[u.CHARACTER_SET=1]="CHARACTER_SET",u[u.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",u[u.MIN_SIZE=3]="MIN_SIZE",u[u.MAX_SIZE=4]="MAX_SIZE",u[u.MARGIN=5]="MARGIN",u[u.PDF417_COMPACT=6]="PDF417_COMPACT",u[u.PDF417_COMPACTION=7]="PDF417_COMPACTION",u[u.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",u[u.AZTEC_LAYERS=9]="AZTEC_LAYERS",u[u.QR_VERSION=10]="QR_VERSION"}(Or||(Or={}));var At=Or;class Fr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new je(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const o=r.multiply(new je(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(o),r=o}}return t[e]}encode(e,t){if(0===t)throw new E("No error correction bytes");const r=e.length-t;if(r<=0)throw new E("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);V.arraycopy(e,0,i,0,r);let o=new je(this.field,i);const s=(o=o.multiplyByMonomial(t,1)).divide(n)[1].getCoefficients(),a=t-s.length;for(let A=0;A<a;A++)e[r+A]=0;V.arraycopy(s,0,e,r+a,s.length)}}class ot{constructor(){}static applyMaskPenaltyRule1(e){return ot.applyMaskPenaltyRule1Internal(e,!0)+ot.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i-1;o++){const s=r[o];for(let a=0;a<n-1;a++){const A=s[a];A===s[a+1]&&A===r[o+1][a]&&A===r[o+1][a+1]&&t++}}return ot.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++)for(let s=0;s<n;s++){const a=r[o];s+6<n&&1===a[s]&&0===a[s+1]&&1===a[s+2]&&1===a[s+3]&&1===a[s+4]&&0===a[s+5]&&1===a[s+6]&&(ot.isWhiteHorizontal(a,s-4,s)||ot.isWhiteHorizontal(a,s+7,s+11))&&t++,o+6<i&&1===r[o][s]&&0===r[o+1][s]&&1===r[o+2][s]&&1===r[o+3][s]&&1===r[o+4][s]&&0===r[o+5][s]&&1===r[o+6][s]&&(ot.isWhiteVertical(r,s,o-4,o)||ot.isWhiteVertical(r,s,o+7,o+11))&&t++}return t*ot.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(1===e[i][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++){const a=r[s];for(let A=0;A<n;A++)1===a[A]&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-o)/o)*ot.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:n=(1&(i=r*t))+i%3;break;case 6:n=(1&(i=r*t))+i%3&1;break;case 7:n=(i=r*t)%3+(r+t&1)&1;break;default:throw new E("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),o=e.getArray();for(let s=0;s<n;s++){let a=0,A=-1;for(let h=0;h<i;h++){const g=t?o[s][h]:o[h][s];g===A?a++:(a>=5&&(r+=ot.N1+(a-5)),a=1,A=g)}a>=5&&(r+=ot.N1+(a-5))}return r}}ot.N1=3,ot.N2=3,ot.N3=40,ot.N4=10;class Ir{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)Ae.fill(t,e)}equals(e){if(!(e instanceof Ir))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],o=t.bytes[r];for(let s=0,a=this.width;s<a;++s)if(i[s]!==o[s])return!1}return!0}toString(){const e=new re;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,o=this.width;i<o;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Ht{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new re;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ht.NUM_MASK_PATTERNS}}Ht.NUM_MASK_PATTERNS=8;class Je extends I{}Je.kind="WriterException";class Me{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){Me.clearMatrix(i),Me.embedBasicPatterns(r,i),Me.embedTypeInfo(t,n,i),Me.maybeEmbedVersionInfo(r,i),Me.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){Me.embedPositionDetectionPatternsAndSeparators(t),Me.embedDarkDotAtLeftBottomCorner(t),Me.maybeEmbedPositionAdjustmentPatterns(e,t),Me.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new oe;Me.makeTypeInfoBits(e,t,n);for(let i=0,o=n.getSize();i<o;++i){const s=n.get(n.getSize()-1-i),a=Me.TYPE_INFO_COORDINATES[i];if(r.setBoolean(a[0],a[1],s),i<8){const g=r.getWidth()-i-1;r.setBoolean(g,8,s)}else{const f=r.getHeight()-7+(i-8);r.setBoolean(8,f,s)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new oe;Me.makeVersionInfoBits(e,r);let n=17;for(let i=0;i<6;++i)for(let o=0;o<3;++o){const s=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,i,s)}}static embedDataBits(e,t,r){let n=0,i=-1,o=r.getWidth()-1,s=r.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);s>=0&&s<r.getHeight();){for(let a=0;a<2;++a){const A=o-a;if(!Me.isEmpty(r.get(A,s)))continue;let h;n<e.getSize()?(h=e.get(n),++n):h=!1,255!==t&&ot.getDataMaskBit(t,A,s)&&(h=!h),r.setBoolean(A,s,h)}s+=i}s+=i=-i,o-=2}if(n!==e.getSize())throw new Je("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-X.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new E("0 polynomial");const r=Me.findMSBSet(t);for(e<<=r-1;Me.findMSBSet(e)>=r;)e^=t<<Me.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Ht.isValidMaskPattern(t))throw new Je("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=Me.calculateBCHCode(n,Me.TYPE_INFO_POLY);r.appendBits(i,10);const o=new oe;if(o.appendBits(Me.TYPE_INFO_MASK_PATTERN,15),r.xor(o),15!==r.getSize())throw new Je("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Me.calculateBCHCode(e.getVersionNumber(),Me.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new Je("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Me.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Me.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Je;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Me.isEmpty(r.get(e+n,t)))throw new Je;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Me.isEmpty(r.get(e,t+n)))throw new Je;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=Me.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=Me.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Me.POSITION_DETECTION_PATTERN[0].length;Me.embedPositionDetectionPattern(0,0,e),Me.embedPositionDetectionPattern(e.getWidth()-t,0,e),Me.embedPositionDetectionPattern(0,e.getWidth()-t,e),Me.embedHorizontalSeparationPattern(0,7,e),Me.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),Me.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),Me.embedVerticalSeparationPattern(7,0,e),Me.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),Me.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,o=n.length;i!==o;i++){const s=n[i];if(s>=0)for(let a=0;a!==o;a++){const A=n[a];A>=0&&Me.isEmpty(t.get(A,s))&&Me.embedPositionAdjustmentPattern(A-2,s-2,t)}}}}Me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Me.VERSION_INFO_POLY=7973,Me.TYPE_INFO_POLY=1335,Me.TYPE_INFO_MASK_PATTERN=21522;class In{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class $e{constructor(){}static calculateMaskPenalty(e){return ot.applyMaskPenaltyRule1(e)+ot.applyMaskPenaltyRule2(e)+ot.applyMaskPenaltyRule3(e)+ot.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=$e.DEFAULT_BYTE_MODE_ENCODING;const i=null!==r&&void 0!==r.get(At.CHARACTER_SET);i&&(n=r.get(At.CHARACTER_SET).toString());const o=this.chooseMode(e,n),s=new oe;if(o===Be.BYTE&&(i||$e.DEFAULT_BYTE_MODE_ENCODING!==n)){const he=R.getCharacterSetECIByName(n);void 0!==he&&this.appendECI(he,s)}this.appendModeInfo(o,s);const a=new oe;let A;if(this.appendBytes(e,o,a,n),null!==r&&void 0!==r.get(At.QR_VERSION)){const he=Number.parseInt(r.get(At.QR_VERSION).toString(),10);A=Re.getVersionForNumber(he);const se=this.calculateBitsNeeded(o,s,a,A);if(!this.willFit(se,A,t))throw new Je("Data too big for requested version")}else A=this.recommendVersion(t,o,s,a);const h=new oe;h.appendBitArray(s);const g=o===Be.BYTE?a.getSizeInBytes():e.length;this.appendLengthInfo(g,A,o,h),h.appendBitArray(a);const f=A.getECBlocksForLevel(t),D=A.getTotalCodewords()-f.getTotalECCodewords();this.terminateBits(D,h);const y=this.interleaveWithECBytes(h,A.getTotalCodewords(),D,f.getNumBlocks()),Q=new Ht;Q.setECLevel(t),Q.setMode(o),Q.setVersion(A);const x=A.getDimensionForVersion(),K=new Ir(x,x),ge=this.chooseMaskPattern(y,t,A,K);return Q.setMaskPattern(ge),Me.buildMatrix(y,t,A,ge,K),Q.setMatrix(K),Q}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,Re.getVersionForNumber(1)),o=this.chooseVersion(i,e),s=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(s,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<$e.ALPHANUMERIC_TABLE.length?$e.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(R.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Be.KANJI;let r=!1,n=!1;for(let i=0,o=e.length;i<o;++i){const s=e.charAt(i);if($e.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return Be.BYTE;n=!0}}return n?Be.ALPHANUMERIC:r?Be.NUMERIC:Be.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=O.encode(e,R.SJIS)}catch{return!1}const r=t.length;if(r%2!=0)return!1;for(let n=0;n<r;n+=2){const i=255&t[n];if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,o=-1;for(let s=0;s<Ht.NUM_MASK_PATTERNS;s++){Me.buildMatrix(e,t,r,s,n);let a=this.calculateMaskPenalty(n);a<i&&(i=a,o=s)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Re.getVersionForNumber(r);if($e.willFit(e,n,t))return n}throw new Je("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new Je("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let o=0;o<4&&t.getSize()<r;++o)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let o=n;o<8;o++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let o=0;o<i;++o)t.appendBits(1&o?17:236,8);if(t.getSize()!==r)throw new Je("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,o){if(n>=r)throw new Je("Block ID too large");const s=e%r,a=r-s,A=Math.floor(e/r),h=A+1,g=Math.floor(t/r),f=g+1,D=A-g,y=h-f;if(D!==y)throw new Je("EC bytes mismatch");if(r!==a+s)throw new Je("RS blocks mismatch");if(e!==(g+D)*a+(f+y)*s)throw new Je("Total bytes mismatch");n<a?(i[0]=g,o[0]=D):(i[0]=f,o[0]=y)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Je("Number of bits and data bytes does not match");let i=0,o=0,s=0;const a=new Array;for(let h=0;h<n;++h){const g=new Int32Array(1),f=new Int32Array(1);$e.getNumDataBytesAndNumECBytesForBlockID(t,r,n,h,g,f);const D=g[0],y=new Uint8Array(D);e.toBytes(8*i,y,0,D);const Q=$e.generateECBytes(y,f[0]);a.push(new In(y,Q)),o=Math.max(o,D),s=Math.max(s,Q.length),i+=g[0]}if(r!==i)throw new Je("Data bytes does not match offset");const A=new oe;for(let h=0;h<o;++h)for(const g of a){const f=g.getDataBytes();h<f.length&&A.appendBits(f[h],8)}for(let h=0;h<s;++h)for(const g of a){const f=g.getErrorCorrectionBytes();h<f.length&&A.appendBits(f[h],8)}if(t!==A.getSizeInBytes())throw new Je("Interleaving error: "+t+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let o=0;o<r;o++)n[o]=255&e[o];new Fr(be.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=n[r+o];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new Je(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case Be.NUMERIC:$e.appendNumericBytes(e,r);break;case Be.ALPHANUMERIC:$e.appendAlphanumericBytes(e,r);break;case Be.BYTE:$e.append8BitBytes(e,r,n);break;case Be.KANJI:$e.appendKanjiBytes(e,r);break;default:throw new Je("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=$e.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=$e.getDigit(e.charAt(n));if(n+2<r){const o=$e.getDigit(e.charAt(n+1)),s=$e.getDigit(e.charAt(n+2));t.appendBits(100*i+10*o+s,10),n+=3}else if(n+1<r){const o=$e.getDigit(e.charAt(n+1));t.appendBits(10*i+o,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=$e.getAlphanumericCode(e.charCodeAt(n));if(-1===i)throw new Je;if(n+1<r){const o=$e.getAlphanumericCode(e.charCodeAt(n+1));if(-1===o)throw new Je;t.appendBits(45*i+o,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=O.encode(e,r)}catch(i){throw new Je(i)}for(let i=0,o=n.length;i!==o;i++)t.appendBits(n[i],8)}static appendKanjiBytes(e,t){let r;try{r=O.encode(e,R.SJIS)}catch(i){throw new Je(i)}const n=r.length;for(let i=0;i<n;i+=2){const o=(255&r[i])<<8&4294967295|255&r[i+1];let s=-1;if(o>=33088&&o<=40956?s=o-33088:o>=57408&&o<=60351&&(s=o-49472),-1===s)throw new Je("Invalid byte sequence");t.appendBits(192*(s>>8)+(255&s),13)}}static appendECI(e,t){t.appendBits(Be.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}$e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),$e.DEFAULT_BYTE_MODE_ENCODING=R.UTF8.getName();class jt{write(e,t,r,n=null){if(0===e.length)throw new E("Found empty contents");if(t<0||r<0)throw new E("Requested dimensions are too small: "+t+"x"+r);let i=qe.L,o=jt.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(At.ERROR_CORRECTION)&&(i=qe.fromString(n.get(At.ERROR_CORRECTION).toString())),void 0!==n.get(At.MARGIN)&&(o=Number.parseInt(n.get(At.MARGIN).toString(),10)));const s=$e.encode(e,i,n);return this.renderResult(s,t,r,o)}writeToDom(e,t,r,n,i=null){"string"==typeof e&&(e=document.querySelector(e));const o=this.write(t,r,n,i);e&&e.appendChild(o)}renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new ft;const o=i.getWidth(),s=i.getHeight(),a=o+2*n,A=s+2*n,h=Math.max(t,a),g=Math.max(r,A),f=Math.min(Math.floor(h/a),Math.floor(g/A)),D=Math.floor((h-o*f)/2),y=Math.floor((g-s*f)/2),Q=this.createSVGElement(h,g);for(let x=0,K=y;x<s;x++,K+=f)for(let ge=0,he=D;ge<o;ge++,he+=f)if(1===i.get(ge,x)){const se=this.createSvgRectElement(he,K,f,f);Q.appendChild(se)}return Q}createSVGElement(e,t){const r=document.createElementNS(jt.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(jt.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}jt.QUIET_ZONE_SIZE=4,jt.SVG_NS="http://www.w3.org/2000/svg";class $t{encode(e,t,r,n,i){if(0===e.length)throw new E("Found empty contents");if(t!==te.QR_CODE)throw new E("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new E(`Requested dimensions are too small: ${r}x${n}`);let o=qe.L,s=$t.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(At.ERROR_CORRECTION)&&(o=qe.fromString(i.get(At.ERROR_CORRECTION).toString())),void 0!==i.get(At.MARGIN)&&(s=Number.parseInt(i.get(At.MARGIN).toString(),10)));const a=$e.encode(e,o,i);return $t.renderResult(a,r,n,s)}static renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new ft;const o=i.getWidth(),s=i.getHeight(),a=o+2*n,A=s+2*n,h=Math.max(t,a),g=Math.max(r,A),f=Math.min(Math.floor(h/a),Math.floor(g/A)),D=Math.floor((h-o*f)/2),y=Math.floor((g-s*f)/2),Q=new ce(h,g);for(let x=0,K=y;x<s;x++,K+=f)for(let ge=0,he=D;ge<o;ge++,he+=f)1===i.get(ge,x)&&Q.setRegion(he,K,f,f);return Q}}$t.QUIET_ZONE_SIZE=4;class bt extends p{constructor(e,t,r,n,i,o,s,a){if(super(o,s),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+o>t||i+s>r)throw new E("Crop rectangle does not fit within image data.");a&&this.reverseHorizontal(o,s)}getRow(e,t){if(e<0||e>=this.getHeight())throw new E("Requested row is outside the image: "+e);const r=this.getWidth();return(null==t||t.length<r)&&(t=new Uint8ClampedArray(r)),V.arraycopy(this.yuvData,(e+this.top)*this.dataWidth+this.left,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return V.arraycopy(this.yuvData,i,n,0,r),n;for(let o=0;o<t;o++)V.arraycopy(this.yuvData,i,n,o*e,e),i+=this.dataWidth;return n}isCropSupported(){return!0}crop(e,t,r,n){return new bt(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/bt.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/bt.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const s=o*e;for(let a=0;a<e;a++)r[s+a]=4278190080|65793*(255&n[i+a*bt.THUMBNAIL_SCALE_FACTOR]);i+=this.dataWidth*bt.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/bt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/bt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const o=i+e/2;for(let s=i,a=i+e-1;s<o;s++,a--){const A=r[s];r[s]=r[a],r[a]=A}}}invert(){return new d(this)}}bt.THUMBNAIL_SCALE_FACTOR=2;class Pr extends p{constructor(e,t,r,n,i,o,s){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=s,4===e.BYTES_PER_ELEMENT){const a=t*r,A=new Uint8ClampedArray(a);for(let h=0;h<a;h++){const g=e[h];A[h]=((g>>16&255)+(g>>7&510)+(255&g))/4&255}this.luminances=A}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===i&&(this.dataHeight=r),void 0===o&&(this.left=0),void 0===s&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new E("Requested row is outside the image: "+e);const r=this.getWidth();return(null==t||t.length<r)&&(t=new Uint8ClampedArray(r)),V.arraycopy(this.luminances,(e+this.top)*this.dataWidth+this.left,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return V.arraycopy(this.luminances,i,n,0,r),n;for(let o=0;o<t;o++)V.arraycopy(this.luminances,i,n,o*e,e),i+=this.dataWidth;return n}isCropSupported(){return!0}crop(e,t,r,n){return new Pr(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new d(this)}}class zr extends R{static forName(e){return this.getCharacterSetECIByName(e)}}class vr{}vr.ISO_8859_1=R.ISO8859_1;class Jr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Kr{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class wn{constructor(e){this.previous=e}getPrevious(){return this.previous}}class er extends wn{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new er(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new er(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+X.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Lr extends er{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):e.appendBits(0===r?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new Lr(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function lr(u,e,t){return new er(u,e,t)}const En=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mn=new er(null,0,0),kr=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],$r=function(u){for(let e of u)Ae.fill(e,-1);return u[0][4]=0,u[1][4]=0,u[1][0]=28,u[3][4]=0,u[2][4]=0,u[2][0]=15,u}(Ae.createInt32Array(6,6));class Ft{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let o=kr[this.mode][e];n=lr(n,65535&o,o>>16),r+=o>>16}let i=2===e?4:5;return n=lr(n,t,i),new Ft(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=2===this.mode?4:5;return r=lr(r,$r[this.mode][e],n),r=lr(r,t,5),new Ft(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(4===this.mode||2===this.mode){let s=kr[r][0];t=lr(t,65535&s,s>>16),n+=s>>16,r=0}let o=new Ft(t,r,this.binaryShiftByteCount+1,n+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=new Lr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ft(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(kr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Ft.calculateBinaryShiftCost(e)-Ft.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;null!==n;n=n.getPrevious())t.unshift(n);let r=new oe;for(const n of t)n.appendTo(r,e);return r}toString(){return G.format("%s bits=%d bytes=%d",En[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Ft.INITIAL_STATE=new Ft(mn,0,0,0);const _r=function(u){const e=G.getCharCode(" "),t=G.getCharCode("."),r=G.getCharCode(",");u[0][e]=1;const n=G.getCharCode("Z"),i=G.getCharCode("A");for(let f=i;f<=n;f++)u[0][f]=f-i+2;u[1][e]=1;const o=G.getCharCode("z"),s=G.getCharCode("a");for(let f=s;f<=o;f++)u[1][f]=f-s+2;u[2][e]=1;const a=G.getCharCode("9"),A=G.getCharCode("0");for(let f=A;f<=a;f++)u[2][f]=f-A+2;u[2][r]=12,u[2][t]=13;const h=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let f=0;f<h.length;f++)u[3][G.getCharCode(h[f])]=f;const g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let f=0;f<g.length;f++)G.getCharCode(g[f])>0&&(u[4][G.getCharCode(g[f])]=f);return u}(Ae.createInt32Array(5,256));class hr{constructor(e){this.text=e}encode(){const e=G.getCharCode(" "),t=G.getCharCode("\n");let r=Kr.singletonList(Ft.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let i,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case G.getCharCode("\r"):i=o===t?2:0;break;case G.getCharCode("."):i=o===e?3:0;break;case G.getCharCode(","):i=o===e?4:0;break;case G.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(r=hr.updateStateListForPair(r,n,i),n++):r=this.updateStateListForChar(r,n)}return Kr.min(r,(n,i)=>n.getBitCount()-i.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return hr.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],i=_r[e.getMode()][n]>0,o=null;for(let s=0;s<=4;s++){let a=_r[s][n];if(a>0){if(null==o&&(o=e.endBinaryShift(t)),!i||s===e.getMode()||2===s){const A=o.latchAndAppend(s,a);r.push(A)}if(!i&&$r[e.getMode()][s]>=0){const A=o.shiftAndAppend(s,a);r.push(A)}}}if(e.getBinaryShiftByteCount()>0||0===_r[e.getMode()][n]){let s=e.addBinaryShiftChar(t);r.push(s)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(4,r)),4!==e.getMode()&&n.push(i.shiftAndAppend(4,r)),3===r||4===r){let o=i.latchAndAppend(2,16-r).latchAndAppend(2,1);n.push(o)}if(e.getBinaryShiftByteCount()>0){let o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(o)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(o=>o!==i))}n&&t.push(r)}return t}}class Ge{constructor(){}static encodeBytes(e){return Ge.encode(e,Ge.DEFAULT_EC_PERCENT,Ge.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,i,o,s,a,A=new hr(e).encode(),h=X.truncDivision(A.getSize()*t,100)+11,g=A.getSize()+h;if(r!==Ge.DEFAULT_AZTEC_LAYERS){if(n=r<0,(i=Math.abs(r))>(n?Ge.MAX_NB_BITS_COMPACT:Ge.MAX_NB_BITS))throw new E(G.format("Illegal value %s for layers",r));let se=(o=Ge.totalBitsInLayer(i,n))-o%(s=Ge.WORD_SIZE[i]);if((a=Ge.stuffBits(A,s)).getSize()+h>se)throw new E("Data to large for user specified layer");if(n&&a.getSize()>64*s)throw new E("Data to large for user specified layer")}else{s=0,a=null;for(let se=0;;se++){if(se>Ge.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(i=(n=se<=3)?se+1:se,g>(o=Ge.totalBitsInLayer(i,n)))continue;null!=a&&s===Ge.WORD_SIZE[i]||(s=Ge.WORD_SIZE[i],a=Ge.stuffBits(A,s));let ve=o-o%s;if(!(n&&a.getSize()>64*s)&&a.getSize()+h<=ve)break}}let f,D=Ge.generateCheckWords(a,o,s),y=a.getSize()/s,Q=Ge.generateModeMessage(n,i,y),x=(n?11:14)+4*i,K=new Int32Array(x);if(n){f=x;for(let se=0;se<K.length;se++)K[se]=se}else{f=x+1+2*X.truncDivision(X.truncDivision(x,2)-1,15);let se=X.truncDivision(x,2),ve=X.truncDivision(f,2);for(let Oe=0;Oe<se;Oe++){let mt=Oe+X.truncDivision(Oe,15);K[se-Oe-1]=ve-mt-1,K[se+Oe]=ve+mt+1}}let ge=new ce(f);for(let se=0,ve=0;se<i;se++){let Oe=4*(i-se)+(n?9:12);for(let mt=0;mt<Oe;mt++){let ke=2*mt;for(let Ke=0;Ke<2;Ke++)D.get(ve+ke+Ke)&&ge.set(K[2*se+Ke],K[2*se+mt]),D.get(ve+2*Oe+ke+Ke)&&ge.set(K[2*se+mt],K[x-1-2*se-Ke]),D.get(ve+4*Oe+ke+Ke)&&ge.set(K[x-1-2*se-Ke],K[x-1-2*se-mt]),D.get(ve+6*Oe+ke+Ke)&&ge.set(K[x-1-2*se-mt],K[2*se+Ke])}ve+=8*Oe}if(Ge.drawModeMessage(ge,n,f,Q),n)Ge.drawBullsEye(ge,X.truncDivision(f,2),5);else{Ge.drawBullsEye(ge,X.truncDivision(f,2),7);for(let se=0,ve=0;se<X.truncDivision(x,2)-1;se+=15,ve+=16)for(let Oe=1&X.truncDivision(f,2);Oe<f;Oe+=2)ge.set(X.truncDivision(f,2)-ve,Oe),ge.set(X.truncDivision(f,2)+ve,Oe),ge.set(Oe,X.truncDivision(f,2)-ve),ge.set(Oe,X.truncDivision(f,2)+ve)}let he=new Jr;return he.setCompact(n),he.setSize(f),he.setLayers(i),he.setCodeWords(y),he.setMatrix(ge),he}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new oe;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=Ge.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=Ge.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=X.truncDivision(r,2);if(t)for(let o=0;o<7;o++){let s=i-3+o;n.get(o)&&e.set(s,i-5),n.get(o+7)&&e.set(i+5,s),n.get(20-o)&&e.set(s,i+5),n.get(27-o)&&e.set(i-5,s)}else for(let o=0;o<10;o++){let s=i-5+o+X.truncDivision(o,5);n.get(o)&&e.set(s,i-7),n.get(o+10)&&e.set(i+7,s),n.get(29-o)&&e.set(s,i+7),n.get(39-o)&&e.set(i-7,s)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Fr(Ge.getGF(r)),o=X.truncDivision(t,r),s=Ge.bitsToWords(e,r,o);i.encode(s,o-n);let a=t%r,A=new oe;A.appendBits(0,a);for(const h of Array.from(s))A.appendBits(h,r);return A}static bitsToWords(e,t,r){let n,i,o=new Int32Array(r);for(n=0,i=e.getSize()/t;n<i;n++){let s=0;for(let a=0;a<t;a++)s|=e.get(n*t+a)?1<<t-a-1:0;o[n]=s}return o}static getGF(e){switch(e){case 4:return be.AZTEC_PARAM;case 6:return be.AZTEC_DATA_6;case 8:return be.AZTEC_DATA_8;case 10:return be.AZTEC_DATA_10;case 12:return be.AZTEC_DATA_12;default:throw new E("Unsupported word size "+e)}}static stuffBits(e,t){let r=new oe,n=e.getSize(),i=(1<<t)-2;for(let o=0;o<n;o+=t){let s=0;for(let a=0;a<t;a++)(o+a>=n||e.get(o+a))&&(s|=1<<t-1-a);(s&i)===i?(r.appendBits(s&i,t),o--):s&i?r.appendBits(s,t):(r.appendBits(1|s,t),o--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ge.DEFAULT_EC_PERCENT=33,Ge.DEFAULT_AZTEC_LAYERS=0,Ge.MAX_NB_BITS=32,Ge.MAX_NB_BITS_COMPACT=4,Ge.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Er{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let o=vr.ISO_8859_1,s=Ge.DEFAULT_EC_PERCENT,a=Ge.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(At.CHARACTER_SET)&&(o=zr.forName(i.get(At.CHARACTER_SET).toString())),i.has(At.ERROR_CORRECTION)&&(s=X.parseInt(i.get(At.ERROR_CORRECTION).toString())),i.has(At.AZTEC_LAYERS)&&(a=X.parseInt(i.get(At.AZTEC_LAYERS).toString()))),Er.encodeLayers(e,t,r,n,o,s,a)}static encodeLayers(e,t,r,n,i,o,s){if(t!==te.AZTEC)throw new E("Can only encode AZTEC, but got "+t);let a=Ge.encode(G.getBytes(e,i),o,s);return Er.renderResult(a,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new ft;let i=n.getWidth(),o=n.getHeight(),s=Math.max(t,i),a=Math.max(r,o),A=Math.min(s/i,a/o),h=(s-i*A)/2,g=(a-o*A)/2,f=new ce(s,a);for(let D=0,y=g;D<o;D++,y+=A)for(let Q=0,x=h;Q<i;Q++,x+=A)n.get(Q,D)&&f.setRegion(x,y,A,A);return f}}S.ArgumentException=T,S.ArithmeticException=ht,S.AztecCode=Jr,S.AztecCodeReader=Zt,S.AztecCodeWriter=Er,S.AztecDecoder=l,S.AztecDetector=Qt,S.AztecDetectorResult=ie,S.AztecEncoder=Ge,S.AztecHighLevelEncoder=hr,S.AztecPoint=We,S.BarcodeFormat=te,S.Binarizer=Y,S.BinaryBitmap=M,S.BitArray=oe,S.BitMatrix=ce,S.BitSource=Mr,S.BrowserAztecCodeReader=class extends L{constructor(u=500){super(new Zt,u)}},S.BrowserBarcodeReader=class extends L{constructor(u=500,e){super(new qt(e),u,e)}},S.BrowserCodeReader=L,S.BrowserDatamatrixCodeReader=class extends L{constructor(u=500){super(new Lt,u)}},S.BrowserMultiFormatReader=class extends L{constructor(u=null,e=500){const t=new Xr;t.setHints(u),super(t,e)}decodeBitmap(u){return this.reader.decodeWithState(u)}},S.BrowserPDF417Reader=class extends L{constructor(u=500){super(new ut,u)}},S.BrowserQRCodeReader=class extends L{constructor(u=500){super(new kt,u)}},S.BrowserQRCodeSvgWriter=jt,S.CharacterSetECI=R,S.ChecksumException=P,S.Code128Reader=ue,S.Code39Reader=at,S.DataMatrixDecodedBitStreamParser=vt,S.DataMatrixReader=Lt,S.DecodeHintType=$,S.DecoderResult=He,S.DefaultGridSampler=Xe,S.DetectorResult=J,S.EAN13Reader=Yt,S.EncodeHintType=At,S.Exception=I,S.FormatException=j,S.GenericGF=be,S.GenericGFPoly=je,S.GlobalHistogramBinarizer=_e,S.GridSampler=xe,S.GridSamplerInstance=Ve,S.HTMLCanvasElementLuminanceSource=w,S.HybridBinarizer=ae,S.ITFReader=ze,S.IllegalArgumentException=E,S.IllegalStateException=ft,S.InvertedLuminanceSource=d,S.LuminanceSource=p,S.MathUtils=c,S.MultiFormatOneDReader=qt,S.MultiFormatReader=Xr,S.MultiFormatWriter=class{encode(u,e,t,r,n){let i;if(e!==te.QR_CODE)throw new E("No encoder available for format "+e);return i=new $t,i.encode(u,e,t,r,n)}},S.NotFoundException=W,S.OneDReader=tt,S.PDF417DecodedBitStreamParser=H,S.PDF417DecoderErrorCorrection=Yr,S.PDF417Reader=ut,S.PDF417ResultMetadata=Vr,S.PerspectiveTransform=Ze,S.PlanarYUVLuminanceSource=bt,S.QRCodeByteMatrix=Ir,S.QRCodeDataMask=St,S.QRCodeDecodedBitStreamParser=rt,S.QRCodeDecoderErrorCorrectionLevel=qe,S.QRCodeDecoderFormatInformation=dt,S.QRCodeEncoder=$e,S.QRCodeEncoderQRCode=Ht,S.QRCodeMaskUtil=ot,S.QRCodeMatrixUtil=Me,S.QRCodeMode=Be,S.QRCodeReader=kt,S.QRCodeVersion=Re,S.QRCodeWriter=$t,S.RGBLuminanceSource=Pr,S.RSS14Reader=it,S.RSSExpandedReader=ne,S.ReaderException=Cr,S.ReedSolomonDecoder=Ut,S.ReedSolomonEncoder=Fr,S.ReedSolomonException=pt,S.Result=ee,S.ResultMetadataType=ye,S.ResultPoint=B,S.StringUtils=G,S.UnsupportedOperationException=F,S.VideoInputDevice=N,S.WhiteRectangleDetector=Se,S.WriterException=Je,S.ZXingArrays=Ae,S.ZXingCharset=zr,S.ZXingInteger=X,S.ZXingStandardCharsets=vr,S.ZXingStringBuilder=re,S.ZXingStringEncoding=O,S.ZXingSystem=V,Object.defineProperty(S,"__esModule",{value:!0})}),(()=>{"use strict";var S,p,we={d:(p,d)=>{for(var w in d)we.o(d,w)&&!we.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:d[w]})},o:(p,d)=>Object.prototype.hasOwnProperty.call(p,d),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},U={};we.r(U),we.d(U,{Html5Qrcode:()=>_e,Html5QrcodeScanner:()=>ae,Html5QrcodeSupportedFormats:()=>S}),(p=S||(S={}))[p.QR_CODE=0]="QR_CODE",p[p.AZTEC=1]="AZTEC",p[p.CODABAR=2]="CODABAR",p[p.CODE_39=3]="CODE_39",p[p.CODE_93=4]="CODE_93",p[p.CODE_128=5]="CODE_128",p[p.DATA_MATRIX=6]="DATA_MATRIX",p[p.MAXICODE=7]="MAXICODE",p[p.ITF=8]="ITF",p[p.EAN_13=9]="EAN_13",p[p.EAN_8=10]="EAN_8",p[p.PDF_417=11]="PDF_417",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var v,I,T=new Map([[S.QR_CODE,"QR_CODE"],[S.AZTEC,"AZTEC"],[S.CODABAR,"CODABAR"],[S.CODE_39,"CODE_39"],[S.CODE_93,"CODE_93"],[S.CODE_128,"CODE_128"],[S.DATA_MATRIX,"DATA_MATRIX"],[S.MAXICODE,"MAXICODE"],[S.ITF,"ITF"],[S.EAN_13,"EAN_13"],[S.EAN_8,"EAN_8"],[S.PDF_417,"PDF_417"],[S.RSS_14,"RSS_14"],[S.RSS_EXPANDED,"RSS_EXPANDED"],[S.UPC_A,"UPC_A"],[S.UPC_E,"UPC_E"],[S.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function E(p){return Object.values(S).includes(p)}(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.URL=1]="URL"})(v||(v={})),function(p){p[p.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",p[p.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(I||(I={}));var M,P=function(){function p(){}return p.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",p.SCAN_DEFAULT_FPS=2,p.DEFAULT_DISABLE_FLIP=!1,p}(),Y=function(){function p(d,w){this.format=d,this.formatName=w}return p.prototype.toString=function(){return this.formatName},p.create=function(d){if(!T.has(d))throw d+" not in html5QrcodeSupportedFormatsTextMap";return new p(d,T.get(d))},p}(),V=function(){function p(){}return p.createFromText=function(d){return{decodedText:d,result:{text:d}}},p.createFromQrcodeResult=function(d){return{decodedText:d.text,result:d}},p}();!function(p){p[p.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",p[p.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",p[p.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(M||(M={}));var q=function(){function p(){}return p.createFrom=function(d){return{errorMessage:d,type:M.UNKWOWN_ERROR}},p}(),fe=function(){function p(d){this.verbose=d}return p.prototype.log=function(d){this.verbose&&console.log(d)},p.prototype.warn=function(d){this.verbose&&console.warn(d)},p.prototype.logError=function(d,w){(this.verbose||!0===w)&&console.error(d)},p.prototype.logErrors=function(d){if(0===d.length)throw"Logger#logError called without arguments";this.verbose&&console.error(d)},p}();function Ae(p){return null==p}var X,oe,z=function(){function p(){}return p.codeParseError=function(d){return"QR code parse error, error = "+d},p.errorGettingUserMedia=function(d){return"Error getting userMedia, error = "+d},p.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},p.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},p.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},p.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},p}(),$=function(){function p(){}return p.scanningStatus=function(){return"Scanning"},p.idleStatus=function(){return"Idle"},p.errorStatus=function(){return"Error"},p.permissionStatus=function(){return"Permission"},p.noCameraFoundErrorStatus=function(){return"No Cameras"},p.lastMatch=function(d){return"Last Match: "+d},p.codeScannerTitle=function(){return"Code Scanner"},p.cameraPermissionTitle=function(){return"Request Camera Permissions"},p.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},p.scanButtonStopScanningText=function(){return"Stop Scanning"},p.scanButtonStartScanningText=function(){return"Start Scanning"},p.textIfCameraScanSelected=function(){return"Scan an Image File"},p.textIfFileScanSelected=function(){return"Scan using camera directly"},p}(),j=function(){function p(){}return p.isMediaStreamConstraintsValid=function(d,w){if("object"!=typeof d)return w.logError("videoConstraints should be of type object, the object passed is of type "+typeof d+".",!0),!1;for(var k=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),b=0,L=Object.keys(d);b<L.length;b++){var ee=L[b];if(k.has(ee))return w.logError(ee+" is not supported videoConstaints.",!0),!1}return!0},p}(),R=function(){function p(d,w,N){if(this.formatMap=new Map([[S.QR_CODE,ZXing.BarcodeFormat.QR_CODE],[S.AZTEC,ZXing.BarcodeFormat.AZTEC],[S.CODABAR,ZXing.BarcodeFormat.CODABAR],[S.CODE_39,ZXing.BarcodeFormat.CODE_39],[S.CODE_93,ZXing.BarcodeFormat.CODE_93],[S.CODE_128,ZXing.BarcodeFormat.CODE_128],[S.DATA_MATRIX,ZXing.BarcodeFormat.DATA_MATRIX],[S.MAXICODE,ZXing.BarcodeFormat.MAXICODE],[S.ITF,ZXing.BarcodeFormat.ITF],[S.EAN_13,ZXing.BarcodeFormat.EAN_13],[S.EAN_8,ZXing.BarcodeFormat.EAN_8],[S.PDF_417,ZXing.BarcodeFormat.PDF_417],[S.RSS_14,ZXing.BarcodeFormat.RSS_14],[S.RSS_EXPANDED,ZXing.BarcodeFormat.RSS_EXPANDED],[S.UPC_A,ZXing.BarcodeFormat.UPC_A],[S.UPC_E,ZXing.BarcodeFormat.UPC_E],[S.UPC_EAN_EXTENSION,ZXing.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=w,this.logger=N;var k=this.createZXingFormats(d),b=new Map;b.set(ZXing.DecodeHintType.POSSIBLE_FORMATS,k),this.hints=b}return p.prototype.decodeAsync=function(d){var w=this;return new Promise(function(N,k){try{N(w.decode(d))}catch(b){k(b)}})},p.prototype.decode=function(d){var w=new ZXing.MultiFormatReader(this.verbose,this.hints),N=new ZXing.HTMLCanvasElementLuminanceSource(d),k=new ZXing.BinaryBitmap(new ZXing.HybridBinarizer(N)),b=w.decode(k);return{text:b.text,format:Y.create(this.toHtml5QrcodeSupportedFormats(b.format))}},p.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(w,N,k){d.set(w,N)}),d},p.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have "+d;return this.reverseFormatMap.get(d)},p.prototype.createZXingFormats=function(d){for(var w=[],N=0,k=d;N<k.length;N++){var b=k[N];this.formatMap.has(b)?w.push(this.formatMap.get(b)):this.logger.logError(b+" is not supported byZXingHtml5QrcodeShim")}return w},p}(),F=function(){function p(d,w,N){if(this.formatMap=new Map([[S.QR_CODE,"qr_code"],[S.AZTEC,"aztec"],[S.CODABAR,"codabar"],[S.CODE_39,"code_39"],[S.CODE_93,"code_93"],[S.CODE_128,"code_128"],[S.DATA_MATRIX,"data_matrix"],[S.ITF,"itf"],[S.EAN_13,"ean_13"],[S.EAN_8,"ean_8"],[S.PDF_417,"pdf417"],[S.UPC_A,"upc_a"],[S.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!p.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=w,this.logger=N;var k=this.createBarcodeDetectorFormats(d);if(this.detector=new BarcodeDetector(k),!this.detector)throw"BarcodeDetector detector not supported"}return p.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},p.prototype.decodeAsync=function(d){return w=this,b=function(){var L,ee;return function(de,te){var me,Ce,le,Ee,pe={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return Ee={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(Ee[Symbol.iterator]=function(){return this}),Ee;function De(ye){return function(He){return function(Te){if(me)throw new TypeError("Generator is already executing.");for(;pe;)try{if(me=1,Ce&&(le=2&Te[0]?Ce.return:Te[0]?Ce.throw||((le=Ce.return)&&le.call(Ce),0):Ce.next)&&!(le=le.call(Ce,Te[1])).done)return le;switch(Ce=0,le&&(Te=[2&Te[0],le.value]),Te[0]){case 0:case 1:le=Te;break;case 4:return pe.label++,{value:Te[1],done:!1};case 5:pe.label++,Ce=Te[1],Te=[0];continue;case 7:Te=pe.ops.pop(),pe.trys.pop();continue;default:if(!((le=(le=pe.trys).length>0&&le[le.length-1])||6!==Te[0]&&2!==Te[0])){pe=0;continue}if(3===Te[0]&&(!le||Te[1]>le[0]&&Te[1]<le[3])){pe.label=Te[1];break}if(6===Te[0]&&pe.label<le[1]){pe.label=le[1],le=Te;break}if(le&&pe.label<le[2]){pe.label=le[2],pe.ops.push(Te);break}le[2]&&pe.ops.pop(),pe.trys.pop();continue}Te=te.call(de,pe)}catch(je){Te=[6,je],Ce=0}finally{me=le=0}if(5&Te[0])throw Te[1];return{value:Te[0]?Te[1]:void 0,done:!0}}([ye,He])}}}(this,function(de){switch(de.label){case 0:return[4,this.detector.detect(d)];case 1:if(!(L=de.sent())||0===L.length)throw"No barcode or QR code detected.";return[2,{text:(ee=this.selectLargestBarcode(L)).rawValue,format:Y.create(this.toHtml5QrcodeSupportedFormats(ee.format))}]}})},new((k=void 0)||(k=Promise))(function(L,ee){function de(Ce){try{me(b.next(Ce))}catch(le){ee(le)}}function te(Ce){try{me(b.throw(Ce))}catch(le){ee(le)}}function me(Ce){var le;Ce.done?L(Ce.value):(le=Ce.value,le instanceof k?le:new k(function(Ee){Ee(le)})).then(de,te)}me((b=b.apply(w,[])).next())});var w,k,b},p.prototype.selectLargestBarcode=function(d){for(var w=null,N=0,k=0,b=d;k<b.length;k++){var L=b[k],ee=L.boundingBox.width*L.boundingBox.height;ee>N&&(N=ee,w=L)}if(!w)throw"No largest barcode found";return w},p.prototype.createBarcodeDetectorFormats=function(d){for(var w=[],N=0,k=d;N<k.length;N++){var b=k[N];this.formatMap.has(b)?w.push(this.formatMap.get(b)):this.logger.warn(b+" is not supported byBarcodeDetectorDelegate")}return{formats:w}},p.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have "+d;return this.reverseFormatMap.get(d)},p.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(w,N,k){d.set(w,N)}),d},p}(),O=function(){function p(d,w,N,k){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=w,this.decoder=!0===k.useBarCodeDetectorIfSupported&&F.isSupported()?new F(d,w,N):new R(d,w,N)}return p.prototype.decodeAsync=function(d){var w=this,N=performance.now();return this.decoder.decodeAsync(d).finally(function(){if(w.verbose){var k=performance.now()-N;w.executionResults.push(k),w.executions++,w.possiblyFlushPerformanceReport()}})},p.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var d=0,w=0,N=this.executionResults;w<N.length;w++)d+=N[w];console.log(d/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},p}(),G=function(){function p(){}return p.createExperimentalFeaturesConfig=function(d){return d?(!0!==d.useBarCodeDetectorIfSupported&&(d.useBarCodeDetectorIfSupported=!1),d):{useBarCodeDetectorIfSupported:!1}},p}(),re=(X=function(p,d){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,N){w.__proto__=N}||function(w,N){for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(w[k]=N[k])})(p,d)},function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function w(){this.constructor=p}X(p,d),p.prototype=null===d?Object.create(d):(w.prototype=d.prototype,new w)}),ce=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return re(d,p),d.DEFAULT_WIDTH=300,d.DEFAULT_WIDTH_OFFSET=2,d.FILE_SCAN_MIN_HEIGHT=300,d.MIN_QR_BOX_SIZE=50,d.SHADED_LEFT=1,d.SHADED_RIGHT=2,d.SHADED_TOP=3,d.SHADED_BOTTOM=4,d.SHADED_REGION_CLASSNAME="qr-shaded-region",d.VERBOSE=!1,d.BORDER_SHADER_DEFAULT_COLOR="#ffffff",d.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",d}(P),W=function(){function p(d,w){this.logger=w,this.fps=ce.SCAN_DEFAULT_FPS,d?(d.fps&&(this.fps=d.fps),this.disableFlip=!0===d.disableFlip,this.qrbox=d.qrbox,this.aspectRatio=d.aspectRatio,this.videoConstraints=d.videoConstraints):this.disableFlip=ce.DEFAULT_DISABLE_FLIP}return p.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?j.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},p.prototype.isShadedBoxEnabled=function(){return!Ae(this.qrbox)},p.create=function(d,w){return new p(d,w)},p}(),_e=function(){function p(d,w){if(this.element=null,this.canvasElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,!document.getElementById(d))throw"HTML Element with id="+d+" not found";var N;this.elementId=d,this.verbose=!1,"boolean"==typeof w?this.verbose=!0===w:w&&(this.verbose=!0===w.verbose,N=w.experimentalFeatures),this.logger=new fe(this.verbose),this.qrcode=new O(this.getSupportedFormats(w),this.verbose,this.logger,G.createExperimentalFeaturesConfig(N)),this.shouldScan=!0,this.isScanning=!1}return p.prototype.start=function(d,w,N,k){if(!d)throw"cameraIdOrConfig is required";if(!N||"function"!=typeof N)throw"qrCodeSuccessCallback is required and should be a function.";k||(k=this.verbose?this.logger.log:function(){});var b=W.create(w,this.logger);this.clearElement();var L=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?L=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var ee=L,de=b.isShadedBoxEnabled(),te=document.getElementById(this.elementId),me=te.clientWidth?te.clientWidth:ce.DEFAULT_WIDTH;if(te.style.position="relative",this.shouldScan=!0,this.element=te,de){var Ce=b.qrbox;if(Ce<ce.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' is "+ce.MIN_QR_BOX_SIZE+"px.";if(Ce>me)throw"'config.qrbox' should not be greater than the width of the HTML element."}var le=this;return new Promise(function(Ee,pe){var De=ee?b.videoConstraints:le.createVideoConstraints(d);if(De)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia({audio:!1,video:De}).then(function(He){le.onMediaStreamReceived(He,b,ee,me,N,k).then(function(Te){le.isScanning=!0,Ee(null)}).catch(pe)}).catch(function(He){pe(z.errorGettingUserMedia(He))});else if(navigator.getUserMedia){if("string"!=typeof d)throw z.onlyDeviceSupportedError();navigator.getUserMedia({video:De},function(He){le.onMediaStreamReceived(He,b,ee,me,N,k).then(function(Te){le.isScanning=!0,Ee(null)}).catch(function(Te){pe(z.errorGettingUserMedia(Te))})},function(He){pe(z.errorGettingUserMedia(He))})}else pe(z.cameraStreamingNotSupported());else pe("videoConstraints should be defined")})},p.prototype.stop=function(){var d=this;return this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout),new Promise(function(w,N){var k=function(){d.localMediaStream=null,d.element&&(d.element.removeChild(d.videoElement),d.element.removeChild(d.canvasElement)),function(){if(d.element)for(;d.element.getElementsByClassName(ce.SHADED_REGION_CLASSNAME).length;){var ee=d.element.getElementsByClassName(ce.SHADED_REGION_CLASSNAME)[0];d.element.removeChild(ee)}}(),d.isScanning=!1,d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),w()};d.localMediaStream||k();var b=d.localMediaStream.getVideoTracks().length,L=0;d.localMediaStream.getVideoTracks().forEach(function(ee){d.localMediaStream.removeTrack(ee),ee.stop(),++L>=b&&k()})})},p.prototype.scanFile=function(d,w){return this.scanFileV2(d,w).then(function(N){return N.decodedText})},p.prototype.scanFileV2=function(d,w){var N=this;if(!(d&&d instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ae(w)&&(w=!0),this.isScanning)throw"Close ongoing scan before scanning a file.";return new Promise(function(k,b){N.possiblyCloseLastScanImageFile(),N.clearElement(),N.lastScanImageFile=URL.createObjectURL(d);var L=new Image;L.onload=function(){var ee=L.width,de=L.height,te=document.getElementById(N.elementId),me=te.clientWidth?te.clientWidth:ce.DEFAULT_WIDTH,Ce=Math.max(te.clientHeight?te.clientHeight:de,ce.FILE_SCAN_MIN_HEIGHT),le=N.computeCanvasDrawConfig(ee,de,me,Ce);if(w){var Ee=N.createCanvasElement(me,Ce,"qr-canvas-visible");Ee.style.display="inline-block",te.appendChild(Ee);var pe=Ee.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=me,pe.canvas.height=Ce,pe.drawImage(L,0,0,ee,de,le.x,le.y,le.width,le.height)}var De=N.createCanvasElement(le.width,le.height);te.appendChild(De);var ye=De.getContext("2d");if(!ye)throw"Unable to get 2d context from canvas";ye.canvas.width=le.width,ye.canvas.height=le.height,ye.drawImage(L,0,0,ee,de,0,0,le.width,le.height);try{N.qrcode.decodeAsync(De).then(function(He){k(V.createFromQrcodeResult(He))}).catch(b)}catch(He){b("QR code parse error, error = "+He)}},L.onerror=b,L.onabort=b,L.onstalled=b,L.onsuspend=b,L.src=URL.createObjectURL(d)})},p.prototype.clear=function(){this.clearElement()},p.getCameras=function(){if(navigator.mediaDevices)return p.getCamerasFromMediaDevices();var d=MediaStreamTrack;if(MediaStreamTrack&&d.getSources)return p.getCamerasFrmoMediaStreamTrack();var w=z.unableToQuerySupportedDevices();return function(){if("https:"===location.protocol)return!0;var N=location.host.split(":")[0];return"127.0.0.1"===N||"localhost"===N}()||(w=z.insecureContextCameraQueryError()),Promise.reject(w)},p.prototype.getRunningTrackCapabilities=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getCapabilities()},p.prototype.applyVideoConstraints=function(d){var w=this;if(!d)throw"videoConstaints is required argument.";if(!j.isMediaStreamConstraintsValid(d,this.logger))throw"invalid videoConstaints passed, check logs for more details";if(null===this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(N,k){"aspectRatio"in d?k("Chaning 'aspectRatio' in run-time is not yet supported."):w.localMediaStream.getVideoTracks()[0].applyConstraints(d).then(function(b){N(b)}).catch(function(b){k(b)})})},p.getCamerasFromMediaDevices=function(){return new Promise(function(d,w){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(N){navigator.mediaDevices.enumerateDevices().then(function(k){for(var b=[],L=0,ee=k;L<ee.length;L++){var de=ee[L];"videoinput"===de.kind&&b.push({id:de.deviceId,label:de.label})}(function(te){for(var me=0,Ce=te.getVideoTracks();me<Ce.length;me++){var le=Ce[me];le.enabled=!1,le.stop(),te.removeTrack(le)}})(N),d(b)}).catch(function(k){w(k.name+" : "+k.message)})}).catch(function(N){w(N.name+" : "+N.message)})})},p.getCamerasFrmoMediaStreamTrack=function(){return new Promise(function(d,w){MediaStreamTrack.getSources(function(N){for(var k=[],b=0,L=N;b<L.length;b++){var ee=L[b];"video"===ee.kind&&k.push({id:ee.id,label:ee.label})}d(k)})})},p.prototype.getSupportedFormats=function(d){if(!d||"boolean"==typeof d||!d.formatsToSupport)return[S.QR_CODE,S.AZTEC,S.CODABAR,S.CODE_39,S.CODE_93,S.CODE_128,S.DATA_MATRIX,S.MAXICODE,S.ITF,S.EAN_13,S.EAN_8,S.PDF_417,S.RSS_14,S.RSS_EXPANDED,S.UPC_A,S.UPC_E,S.UPC_EAN_EXTENSION];if(!Array.isArray(d.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===d.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var N=[],k=0,b=d.formatsToSupport;k<b.length;k++){var L=b[k];E(L)?N.push(L):this.logger.warn("Invalid format: "+L+" passed in config, ignoring.")}if(0===N.length)throw"None of formatsToSupport match supported values.";return N},p.prototype.setupUi=function(d,w,N){var k=N.qrbox;k>w&&this.logger.warn("[Html5Qrcode] config.qrboxsize is greater than video height. Shading will be ignored");var b=N.isShadedBoxEnabled()&&k<=w,L={x:0,y:0,width:d,height:w},ee=b?this.getShadedRegionBounds(d,w,k):L,de=this.createCanvasElement(ee.width,ee.height),te=de.getContext("2d");te.canvas.width=ee.width,te.canvas.height=ee.height,this.element.append(de),b&&this.possiblyInsertShadingElement(this.element,d,w,k),this.qrRegion=ee,this.context=te,this.canvasElement=de},p.prototype.scanContext=function(d,w){var N=this;return this.qrcode.decodeAsync(this.canvasElement).then(function(k){return d(k.text,V.createFromQrcodeResult(k)),N.possiblyUpdateShaders(!0),!0}).catch(function(k){N.possiblyUpdateShaders(!1);var b=z.codeParseError(k);return w(b,q.createFrom(b)),!1})},p.prototype.foreverScan=function(d,w,N){var k=this;if(this.shouldScan&&this.localMediaStream){var b=this.videoElement,L=b.videoWidth/b.clientWidth,ee=b.videoHeight/b.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(b,this.qrRegion.x*L,this.qrRegion.y*ee,this.qrRegion.width*L,this.qrRegion.height*ee,0,0,this.qrRegion.width,this.qrRegion.height);var le=function(){k.foreverScanTimeout=setTimeout(function(){k.foreverScan(d,w,N)},k.getTimeoutFps(d.fps))};this.scanContext(w,N).then(function(Ee){Ee||!0===d.disableFlip?le():(k.context.translate(k.context.canvas.width,0),k.context.scale(-1,1),k.scanContext(w,N).finally(function(){le()}))}).catch(function(Ee){k.logger.logError("Error happend while scanning context",Ee),le()})}},p.prototype.onMediaStreamReceived=function(d,w,N,k,b,L){var ee=this,de=this;return new Promise(function(te,me){var Ce=function(){var Ee=ee.createVideoElement(k);de.element.append(Ee),Ee.onabort=me,Ee.onerror=me,Ee.onplaying=function(){de.setupUi(Ee.clientWidth,Ee.clientHeight,w),de.foreverScan(w,b,L),te(null)},Ee.srcObject=d,Ee.play(),de.videoElement=Ee};if(de.localMediaStream=d,N||!w.aspectRatio)Ce();else{var le={aspectRatio:w.aspectRatio};d.getVideoTracks()[0].applyConstraints(le).then(function(Ee){return Ce()}).catch(function(Ee){de.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",Ee]),Ce()})}})},p.prototype.createVideoConstraints=function(d){if("string"==typeof d)return{deviceId:{exact:d}};if("object"==typeof d){var w="facingMode",N={user:!0,environment:!0},k="exact",b=function(me){if(me in N)return!0;throw"config has invalid 'facingMode' value = '"+me+"'"},L=Object.keys(d);if(1!==L.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+L.length+" keys";var ee=Object.keys(d)[0];if(ee!==w&&"deviceId"!==ee)throw"Only 'facingMode' and 'deviceId'  are supported for 'cameraIdOrConfig'";if(ee!==w){var de=d.deviceId;if("string"==typeof de)return{deviceId:de};if("object"==typeof de){if(k in de)return{deviceId:{exact:de.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof de}var te=d.facingMode;if("string"==typeof te){if(b(te))return{facingMode:te}}else{if("object"!=typeof te)throw"Invalid type of 'facingMode' = "+typeof te;if(!(k in te))throw"'facingMode' should be string or object with exact as key.";if(b(te.exact))return{facingMode:{exact:te.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof d},p.prototype.computeCanvasDrawConfig=function(d,w,N,k){if(d<=N&&w<=k)return{x:(N-d)/2,y:(k-w)/2,width:d,height:w};var b=d,L=w;return d>N&&(w*=N/d,d=N),w>k&&(d*=k/w,w=k),this.logger.log("Image downsampled from "+b+"X"+L+" to "+d+"X"+w+"."),this.computeCanvasDrawConfig(d,w,N,k)},p.prototype.clearElement=function(){if(this.isScanning)throw"Cannot clear while scan is ongoing, close it first.";var d=document.getElementById(this.elementId);d&&(d.innerHTML="")},p.prototype.createVideoElement=function(d){var w=document.createElement("video");return w.style.width=d+"px",w.muted=!0,w.setAttribute("muted","true"),w.playsInline=!0,w},p.prototype.possiblyUpdateShaders=function(d){this.qrMatch!==d&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(w){w.style.backgroundColor=d?ce.BORDER_SHADER_MATCH_COLOR:ce.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=d)},p.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},p.prototype.createCanvasElement=function(d,w,N){var k=d,b=w,L=document.createElement("canvas");return L.style.width=k+"px",L.style.height=b+"px",L.style.display="none",L.id=Ae(N)?"qr-canvas":N,L},p.prototype.getShadedRegionBounds=function(d,w,N){if(N>d||N>w)throw"'config.qrbox' should not be greater than the width and height of the HTML element.";return{x:(d-N)/2,y:(w-N)/2,width:N,height:N}},p.prototype.possiblyInsertShadingElement=function(d,w,N,k){if(!(w-k<1||N-k<1)){var b=document.createElement("div");if(b.style.position="absolute",b.style.borderLeft=(w-k)/2+"px solid #0000007a",b.style.borderRight=(w-k)/2+"px solid #0000007a",b.style.borderTop=(N-k)/2+"px solid #0000007a",b.style.borderBottom=(N-k)/2+"px solid #0000007a",b.style.boxSizing="border-box",b.style.top="0px",b.style.bottom="0px",b.style.left="0px",b.style.right="0px",b.id=""+ce.SHADED_REGION_CLASSNAME,w-k<11||N-k<11)this.hasBorderShaders=!1;else{var L=40;this.insertShaderBorders(b,L,5,-5,0,!0),this.insertShaderBorders(b,L,5,-5,0,!1),this.insertShaderBorders(b,L,5,k+5,0,!0),this.insertShaderBorders(b,L,5,k+5,0,!1),this.insertShaderBorders(b,5,45,-5,-5,!0),this.insertShaderBorders(b,5,45,k+5-L,-5,!0),this.insertShaderBorders(b,5,45,-5,-5,!1),this.insertShaderBorders(b,5,45,k+5-L,-5,!1),this.hasBorderShaders=!0}d.append(b)}},p.prototype.insertShaderBorders=function(d,w,N,k,b,L){var ee=document.createElement("div");ee.style.position="absolute",ee.style.backgroundColor=ce.BORDER_SHADER_DEFAULT_COLOR,ee.style.width=w+"px",ee.style.height=N+"px",ee.style.top=k+"px",L?ee.style.left=b+"px":ee.style.right=b+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(ee),d.appendChild(ee)},p.prototype.getTimeoutFps=function(d){return 1e3/d},p}();!function(p){p[p.STATUS_DEFAULT=0]="STATUS_DEFAULT",p[p.STATUS_SUCCESS=1]="STATUS_SUCCESS",p[p.STATUS_WARNING=2]="STATUS_WARNING"}(oe||(oe={}));var ae=function(){function p(d,w,N){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=d,this.config=this.createConfig(w),this.verbose=!0===N,!document.getElementById(d))throw"HTML Element with id="+d+" not found";this.currentScanType=I.SCAN_TYPE_CAMERA,this.sectionSwapAllowed=!0,this.logger=new fe(this.verbose)}return p.prototype.render=function(d,w){var N=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(ee,de){if(d)d(ee,de);else{if(N.lastMatchFound===ee)return;N.lastMatchFound=ee,N.setHeaderMessage($.lastMatch(ee),oe.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(ee,de){N.setStatus($.scanningStatus()),w&&w(ee,de)};var k,L=document.getElementById(this.elementId);if(!L)throw"HTML Element with id="+this.elementId+" not found";L.innerHTML="",this.createBasicLayout(L),this.html5Qrcode=new _e(this.getScanRegionId(),{formatsToSupport:(k=this.config).formatsToSupport,experimentalFeatures:k.experimentalFeatures,verbose:this.verbose})},p.prototype.clear=function(){var d=this;return this.html5Qrcode?new Promise(function(w,N){d.html5Qrcode?d.html5Qrcode.isScanning&&d.html5Qrcode.stop().then(function(k){var b;d.html5Qrcode&&(d.html5Qrcode.clear(),(b=document.getElementById(d.elementId))&&(b.innerHTML="",d.resetBasicLayout(b))),w()}).catch(function(k){d.verbose&&d.logger.logError("Unable to stop qrcode scanner",k),N(k)}):w()}):Promise.resolve()},p.prototype.createConfig=function(d){return d?(d.fps||(d.fps=P.SCAN_DEFAULT_FPS),d):{fps:P.SCAN_DEFAULT_FPS}},p.prototype.createBasicLayout=function(d){d.style.position="relative",d.style.padding="0px",d.style.border="1px solid silver",this.createHeader(d);var w=document.createElement("div"),N=this.getScanRegionId();w.id=N,w.style.width="100%",w.style.minHeight="100px",w.style.textAlign="center",d.appendChild(w),this.insertCameraScanImageToScanRegion();var k=document.createElement("div"),b=this.getDashboardId();k.id=b,k.style.width="100%",d.appendChild(k),this.setupInitialDashboard(k)},p.prototype.resetBasicLayout=function(d){d.style.border="none"},p.prototype.setupInitialDashboard=function(d){this.createSection(d),this.createSectionControlPanel(),this.createSectionSwap()},p.prototype.createHeader=function(d){var w=document.createElement("div");w.style.textAlign="left",w.style.margin="0px",w.style.padding="5px",w.style.fontSize="20px",w.style.borderBottom="1px solid rgba(192, 192, 192, 0.18)",d.appendChild(w);var N=document.createElement("span"),k=document.createElement("a");k.innerText=$.codeScannerTitle(),k.href=P.GITHUB_PROJECT_URL,N.appendChild(k),w.appendChild(N);var b=document.createElement("span");b.id=this.getStatusSpanId(),b.style.float="right",b.style.padding="5px 7px",b.style.fontSize="14px",b.style.background="#dedede6b",b.style.border="1px solid #00000000",b.style.color="rgb(17, 17, 17)",w.appendChild(b),this.setStatus($.idleStatus());var L=document.createElement("div");L.id=this.getHeaderMessageContainerId(),L.style.display="none",L.style.fontSize="14px",L.style.padding="2px 10px",L.style.marginTop="4px",L.style.borderTop="1px solid #f6f6f6",w.appendChild(L)},p.prototype.createSection=function(d){var w=document.createElement("div");w.id=this.getDashboardSectionId(),w.style.width="100%",w.style.padding="10px",w.style.textAlign="left",d.appendChild(w)},p.prototype.createSectionControlPanel=function(){var d=document.getElementById(this.getDashboardSectionId()),w=document.createElement("div");d.appendChild(w);var N=document.createElement("div");N.id=this.getDashboardSectionCameraScanRegionId(),N.style.display=this.currentScanType===I.SCAN_TYPE_CAMERA?"block":"none",w.appendChild(N);var k=document.createElement("div");k.style.textAlign="center";var b=document.createElement("button");b.innerText=$.cameraPermissionTitle();var L=this;b.addEventListener("click",function(){b.disabled=!0,L.setStatus($.permissionStatus()),L.setHeaderMessage($.cameraPermissionRequesting()),_e.getCameras().then(function(me){L.setStatus($.idleStatus()),L.resetHeaderMessage(),me&&0!==me.length?(N.removeChild(k),L.renderCameraSelection(me)):L.setStatus($.noCameraFoundErrorStatus(),oe.STATUS_WARNING)}).catch(function(me){b.disabled=!1,L.setStatus($.idleStatus()),L.setHeaderMessage(me,oe.STATUS_WARNING)})}),k.appendChild(b),N.appendChild(k);var ee=document.createElement("div");ee.id=this.getDashboardSectionFileScanRegionId(),ee.style.textAlign="center",ee.style.display=this.currentScanType===I.SCAN_TYPE_CAMERA?"none":"block",w.appendChild(ee);var de=document.createElement("input");de.id=this.getFileScanInputId(),de.accept="image/*",de.type="file",de.style.width="200px",de.disabled=this.currentScanType===I.SCAN_TYPE_CAMERA;var te=document.createElement("span");te.innerText=" Select Image",ee.appendChild(de),ee.appendChild(te),de.addEventListener("change",function(me){if(!L.html5Qrcode)throw"html5Qrcode not defined";null!=me&&null!=me.target&&L.currentScanType===I.SCAN_TYPE_FILE&&0!==me.target.files.length&&L.html5Qrcode.scanFileV2(me.target.files[0],!0).then(function(le){L.resetHeaderMessage(),L.qrCodeSuccessCallback(le.decodedText,le)}).catch(function(le){L.setStatus($.errorStatus(),oe.STATUS_WARNING),L.setHeaderMessage(le,oe.STATUS_WARNING),L.qrCodeErrorCallback(le,q.createFrom(le))})})},p.prototype.renderCameraSelection=function(d){var w=this,N=document.getElementById(this.getDashboardSectionCameraScanRegionId());N.style.textAlign="center";var k=document.createElement("span");k.innerText="Select Camera ("+d.length+")  ",k.style.marginRight="10px";var b=document.createElement("select");b.id=this.getCameraSelectionId();for(var L=0,ee=d;L<ee.length;L++){var de=ee[L],te=de.id,me=null==de.label?te:de.label,Ce=document.createElement("option");Ce.value=te,Ce.innerText=me,b.appendChild(Ce)}k.appendChild(b),N.appendChild(k);var le=document.createElement("span"),Ee=document.createElement("button");Ee.innerText=$.scanButtonStartScanningText(),le.appendChild(Ee);var pe=document.createElement("button");pe.innerText=$.scanButtonStopScanningText(),pe.style.display="none",pe.disabled=!0,le.appendChild(pe),N.appendChild(le),Ee.addEventListener("click",function(De){var ye;b.disabled=!0,Ee.disabled=!0,w.showHideScanTypeSwapLink(!1),w.html5Qrcode.start(b.value,(ye=w.config,{fps:ye.fps,qrbox:ye.qrbox,aspectRatio:ye.aspectRatio,disableFlip:ye.disableFlip,videoConstraints:ye.videoConstraints}),w.qrCodeSuccessCallback,w.qrCodeErrorCallback).then(function(Te){pe.disabled=!1,pe.style.display="inline-block",Ee.style.display="none",w.setStatus($.scanningStatus())}).catch(function(Te){w.showHideScanTypeSwapLink(!0),b.disabled=!1,Ee.disabled=!1,w.setStatus($.idleStatus()),w.setHeaderMessage(Te,oe.STATUS_WARNING)})}),pe.addEventListener("click",function(De){if(!w.html5Qrcode)throw"html5Qrcode not defined";pe.disabled=!0,w.html5Qrcode.stop().then(function(ye){w.showHideScanTypeSwapLink(!0),b.disabled=!1,Ee.disabled=!1,pe.style.display="none",Ee.style.display="inline-block",w.setStatus($.idleStatus()),w.insertCameraScanImageToScanRegion()}).catch(function(ye){pe.disabled=!1,w.setStatus($.errorStatus(),oe.STATUS_WARNING),w.setHeaderMessage(ye,oe.STATUS_WARNING)})})},p.prototype.createSectionSwap=function(){var d=this,w=$.textIfCameraScanSelected(),N=$.textIfFileScanSelected(),k=document.getElementById(this.getDashboardSectionId()),b=document.createElement("div");b.style.textAlign="center";var L=document.createElement("a");L.style.textDecoration="underline",L.id=this.getDashboardSectionSwapLinkId(),L.innerText=this.currentScanType===I.SCAN_TYPE_CAMERA?w:N,L.href="#scan-using-file",L.addEventListener("click",function(){d.sectionSwapAllowed?(d.setStatus($.idleStatus()),d.resetHeaderMessage(),d.getFileScanInput().value="",d.sectionSwapAllowed=!1,d.currentScanType===I.SCAN_TYPE_CAMERA?(d.clearScanRegion(),d.getFileScanInput().disabled=!1,d.getCameraScanRegion().style.display="none",d.getFileScanRegion().style.display="block",L.innerText=N,d.currentScanType=I.SCAN_TYPE_FILE,d.insertFileScanImageToScanRegion()):(d.clearScanRegion(),d.getFileScanInput().disabled=!0,d.getCameraScanRegion().style.display="block",d.getFileScanRegion().style.display="none",L.innerText=w,d.currentScanType=I.SCAN_TYPE_CAMERA,d.insertCameraScanImageToScanRegion()),d.sectionSwapAllowed=!0):d.verbose&&d.logger.logError("Section swap called when not allowed")}),b.appendChild(L),k.appendChild(b)},p.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},p.prototype.setStatus=function(d,w){w||(w=oe.STATUS_DEFAULT);var N=this.getStatusSpan();switch(N.innerText=d,w){case oe.STATUS_SUCCESS:N.style.background="#6aaf5042",N.style.color="#477735";break;case oe.STATUS_WARNING:N.style.background="#cb243124",N.style.color="#cb2431";break;default:N.style.background="#eef",N.style.color="rgb(17, 17, 17)"}},p.prototype.setHeaderMessage=function(d,w){w||(w=oe.STATUS_DEFAULT);var N=this.getHeaderMessageDiv();switch(N.innerText=d,N.style.display="block",w){case oe.STATUS_SUCCESS:N.style.background="#6aaf5042",N.style.color="#477735";break;case oe.STATUS_WARNING:N.style.background="#cb243124",N.style.color="#cb2431";break;default:N.style.background="#00000000",N.style.color="rgb(17, 17, 17)"}},p.prototype.showHideScanTypeSwapLink=function(d){!0!==d&&(d=!1),this.sectionSwapAllowed=d,this.getDashboardSectionSwapLink().style.display=d?"inline-block":"none"},p.prototype.insertCameraScanImageToScanRegion=function(){var d=this,w=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return w.innerHTML="<br>",void w.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(N){w.innerHTML="<br>",w.appendChild(d.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.3",this.cameraScanImage.src="data:image/gif;base64,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L25zLmFkb2JlLmNvbS94bXAvMS4wL0R5bmFtaWNNZWRpYS8iCiAgICB4bWxuczpzdERpbT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL0RpbWVuc2lvbnMjIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFkNzgwZGNmLWVkZTctZWU0My04N2E0LTdlMTg3YThlYTI3NSIKICAgeG1wTU06RG9jdW1lbnRJRD0iZDMxNDk3ZmItM2Y1Zi0yMzkwLTFlZDEtYjU3NDAwMDAwMDVmIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NTdiYmYyOTgtY2M5Ny02MzRlLWE4MjAtODFiMjAxY2RmZjllIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTEyLTA1VDA5OjEzOjIyKzA1OjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0xMi0wNVQwOToxMzoyMiswNTowMCIKICAgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBBZnRlciBFZmZlY3RzIENDIDIwMTggKFdpbmRvd3MpIgogICB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0xMi0wNVQwOToxMjo1MCswNTowMCIKICAgZGM6Zm9ybWF0PSLQkNC90LjQvNC40YDQvtCy0LDQvdC90YvQuSBHSUYiCiAgIGJvZHltb3Zpbjpwcm9qZWN0X2lkPSJvZWU3ZTRyM2gwaGtjZTdiODgzMyIKICAgeG1wRE06dmlkZW9GcmFtZVJhdGU9IjI1LjAwMDAwMCIKICAgeG1wRE06dmlkZW9GaWVsZE9yZGVyPSJQcm9ncmVzc2l2ZSIKICAgeG1wRE06dmlkZW9QaXhlbEFzcGVjdFJhdGlvPSIxLzEiCiAgIHhtcERNOnN0YXJ0VGltZVNjYWxlPSIyNSIKICAgeG1wRE06c3RhcnRUaW1lU2FtcGxlU2l6ZT0iMSI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSI5YWE0NzI4ZC1iYWU1LTAyMDEtMjM4MC0zZTlhMDAwMDAwOGMiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDVUMDk6MTM6MjIrMDU6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYTA2OGRlZi1hY2NhLTM5NDgtODM1Yi02MWQ1MmU2NWI3NDIiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMDgtMzBUMDE6Mzg6MTErMDM6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFmdGVyIEVmZmVjdHMgQ0MgMjAxOCAoV2luZG93cykiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZThjY2QxNzEtNWFkZC01MzRmLWIyZjgtODc0NzNhOGMxYWJmIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTA4LTMwVDAxOjM4OjMxKzAzOjAwIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBBZnRlciBFZmZlY3RzIENDIDIwMTggKFdpbmRvd3MpIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ZmVmYzVhNC00YWY3LTVhNGYtYjJiYS1hMWRkYTM1YWRkMTQiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMDgtMzBUMDI6MDY6MjcrMDM6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFmdGVyIEVmZmVjdHMgQ0MgMjAxOCAoV2luZG93cykiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249ImRlcml2ZWQiCiAgICAgIHN0RXZ0OnBhcmFtZXRlcnM9InNhdmVkIHRvIG5ldyBsb2NhdGlvbiIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjg3ZmQwYS00Njc2LTQ2NDMtOWZlYS03Mjk2NzllYmVhY2YiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMDgtMzBUMDI6MDY6NTYrMDM6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFmdGVyIEVmZmVjdHMgQ0MgMjAxOCAoV2luZG93cykiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTBmZDdiYzMtNDllMy1hNzRjLWI0Y2UtNzI5NjYxM2NjMmYwIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTA4LTMwVDAyOjA3OjA3KzAzOjAwIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBBZnRlciBFZmZlY3RzIENDIDIwMTggKFdpbmRvd3MpIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMWZlOTE3MC1lYTQ1LTcyNDItOGVmNy1mMzQyNTU0ZWEwN2UiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMDgtMzBUMDI6MDc6MDcrMDM6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFmdGVyIEVmZmVjdHMgQ0MgMjAxOCAoV2luZG93cykiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjJjN2ViNzEtMGJhZC03OTRiLWI4ZTAtMWVhZTkzOTM3Njk2IgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTA4LTMwVDAyOjI2OjIzKzAzOjAwIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBBZnRlciBFZmZlY3RzIENDIDIwMTggKFdpbmRvd3MpIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ZDFlN2UzNi1kZWVjLWJmNDYtOGE0Mi1kODE4YzBlMjc5YjIiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMTM6NDk6MDIrMDU6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA1Y2RkNWI3LTM0MGMtOGM0ZC1hMWUyLTlkYWJlMjg0OTA0MyIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNFQxMzo0OTowMiswNTowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozYmY3YjIzNi1kNTI3LTA0NGUtYTlkMS00MjUzY2FlZGM0N2MiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMTM6NDk6MjMrMDU6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxYTc1YTU2LTMyZGMtYmU0OS1hZWFkLWFjMmQ5YjNkZjJiMiIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNFQxMzo0OToyMyswNTowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OTJiYmEyYy1iMjljLWNjNDgtOTI1My0wOGE0ODYwZTY5ZDAiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDVUMDk6MDE6MzArMDU6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYwZTI3MTZlLWU5ZTAtYWE0ZS05ZjcwLTQxNTdjNmNlMGZlYSIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNVQwOToxMzoxMSswNTowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iL2NvbnRlbnQiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Y2I2NjE4ZDItOTcwMC01NTRjLWI5ZTktNmEzYWUxM2Q5NGYyIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTEyLTA1VDA5OjEzOjExKzA1OjAwIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjlkZWU2YWY2LWQ1ZWYtMzg0My04MjY5LTQyMGY1ODFlMjdlZiIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNVQwOToxMzoyMiswNTowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZDc4MGRjZi1lZGU3LWVlNDMtODdhNC03ZTE4N2E4ZWEyNzUiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDVUMDk6MTM6MjIrMDU6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9tZXRhZGF0YSIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDx4bXBNTTpEZXJpdmVkRnJvbQogICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MzNkMjZhMi1iN2I4LTA3NGItODhkNy1iOGE1OGM5ZmQwYzUiCiAgICBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjczM2QyNmEyLWI3YjgtMDc0Yi04OGQ3LWI4YTU4YzlmZDBjNSIKICAgIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTA2OGRlZi1hY2NhLTM5NDgtODM1Yi02MWQ1MmU2NWI3NDIiLz4KICAgPHhtcE1NOkluZ3JlZGllbnRzPgogICAgPHJkZjpCYWc+CiAgICAgPHJkZjpsaQogICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjRkOTdmOTNlLWIwZjEtZjU0NC1iZmMxLWFmZThhMzEyNjkzZCIKICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICBzdFJlZjp0b1BhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICBzdFJlZjptYXNrTWFya2Vycz0iTm9uZSIvPgogICAgPC9yZGY6QmFnPgogICA8L3htcE1NOkluZ3JlZGllbnRzPgogICA8eG1wTU06UGFudHJ5PgogICAgPHJkZjpCYWc+CiAgICAgPHJkZjpsaT4KICAgICAgPHJkZjpEZXNjcmlwdGlvbgogICAgICAgZGM6Zm9ybWF0PSJhcHBsaWNhdGlvbi92bmQuYWRvYmUuYWZ0ZXJlZmZlY3RzLmNvbXAiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRkOTdmOTNlLWIwZjEtZjU0NC1iZmMxLWFmZThhMzEyNjkzZCI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+cG9ydHJhaXQtbW9kZS1zY2FubmluZzwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8eG1wTU06SW5ncmVkaWVudHM+CiAgICAgICA8cmRmOkJhZz4KICAgICAgICA8cmRmOmxpCiAgICAgICAgIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjBlNWU0MmUtM2U1NS0zYTQ1LTlkZDYtZjY1YzFlNzAxMDRhIgogICAgICAgICBzdFJlZjpmcm9tUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOnRvUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICAgPHJkZjpsaQogICAgICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmFjZDllMjg3LWZjMzEtMWQ0Ni1hNzdmLTQ1NjQ1ZmFhNWUwYyIKICAgICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQyODU3NjgwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjp0b1BhcnQ9InRpbWU6MTA1ODQwMDAwMDBmMjU0MDE2MDAwMDAwZDI4NTc2ODAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICAgPHJkZjpsaQogICAgICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmQwMDE4YzVkLWU2MDEtZWM0NS1hZWQ5LTdhZTNjZTViNmIzZCIKICAgICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjp0b1BhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjptYXNrTWFya2Vycz0iTm9uZSIvPgogICAgICAgIDxyZGY6bGkKICAgICAgICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplODdiN2UyOC02NTQ5LTM5NGEtODNjOS05ZjdkOTUyNDJjNmUiCiAgICAgICAgIHN0UmVmOmZyb21QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6bWFza01hcmtlcnM9Ik5vbmUiLz4KICAgICAgICA8cmRmOmxpCiAgICAgICAgIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZThlY2VkNGMtNWVjZi0xNTQ1LWI3ZGYtNmViNmMwNjQxNGZiIgogICAgICAgICBzdFJlZjpmcm9tUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOnRvUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICA8L3JkZjpCYWc+CiAgICAgIDwveG1wTU06SW5ncmVkaWVudHM+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgIDwvcmRmOmxpPgogICAgIDxyZGY6bGk+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24KICAgICAgIGRjOmZvcm1hdD0iYXBwbGljYXRpb24vdm5kLmFkb2JlLmFmdGVyZWZmZWN0cy5sYXllciIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjBlNWU0MmUtM2U1NS0zYTQ1LTlkZDYtZjY1YzFlNzAxMDRhIj4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5wYXBlcjwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMubGF5ZXIiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFjZDllMjg3LWZjMzEtMWQ0Ni1hNzdmLTQ1NjQ1ZmFhNWUwYyI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+bGluZS1zY2FubmluZzwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMubGF5ZXIiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmQwMDE4YzVkLWU2MDEtZWM0NS1hZWQ5LTdhZTNjZTViNmIzZCI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+bWFzazwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMubGF5ZXIiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU4N2I3ZTI4LTY1NDktMzk0YS04M2M5LTlmN2Q5NTI0MmM2ZSI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+ZnJhbWU8L3JkZjpsaT4KICAgICAgIDwvcmRmOkFsdD4KICAgICAgPC9kYzp0aXRsZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgPC9yZGY6bGk+CiAgICAgPHJkZjpsaT4KICAgICAgPHJkZjpEZXNjcmlwdGlvbgogICAgICAgZGM6Zm9ybWF0PSJhcHBsaWNhdGlvbi92bmQuYWRvYmUuYWZ0ZXJlZmZlY3RzLmxheWVyIgogICAgICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplOGVjZWQ0Yy01ZWNmLTE1NDUtYjdkZi02ZWI2YzA2NDE0ZmIiPgogICAgICA8ZGM6dGl0bGU+CiAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPkJhY2tncm91bmQ8L3JkZjpsaT4KICAgICAgIDwvcmRmOkFsdD4KICAgICAgPC9kYzp0aXRsZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgPC9yZGY6bGk+CiAgICA8L3JkZjpCYWc+CiAgIDwveG1wTU06UGFudHJ5PgogICA8eG1wRE06dmlkZW9GcmFtZVNpemUKICAgIHN0RGltOnc9IjUwIgogICAgc3REaW06aD0iNTAiCiAgICBzdERpbTp1bml0PSJwaXhlbCIvPgogICA8eG1wRE06ZHVyYXRpb24KICAgIHhtcERNOnZhbHVlPSIyOSIKICAgIHhtcERNOnNjYWxlPSIxLzI1Ii8+CiAgIDx4bXBETTpzdGFydFRpbWVjb2RlCiAgICB4bXBETTp0aW1lRm9ybWF0PSIyNVRpbWVjb2RlIgogICAgeG1wRE06dGltZVZhbHVlPSIwMDowMDowMDowMCIvPgogICA8eG1wRE06YWx0VGltZWNvZGUKICAgIHhtcERNOnRpbWVWYWx1ZT0iMDA6MDA6MDA6MDAiCiAgICB4bXBETTp0aW1lRm9ybWF0PSIyNVRpbWVjb2RlIi8+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAOw=="},p.prototype.insertFileScanImageToScanRegion=function(){var d=this,w=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return w.innerHTML="<br>",void w.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(N){w.innerHTML="<br>",w.appendChild(d.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.3",this.fileScanImage.src="data:image/gif;base64,R0lGODlhMgAyAPcAAPv7+wMDA/Pz8xMTE+Pj4zMzM0NDQyMjI1NTU4ODg6Ojo5OTk7Ozs3Nzc2NjY9PT0wsLC8PDwxsbG0tLSzs7O1tbW+vr6ysrK2tra5ubm7u7u4uLi6urq8vLy9vb23t7ewAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQEBAD/ACwAAAAAMgAyAAAI/QAvBBhIsKDBgwgPXgDAsKFDhwkjSoz4sGLDgRYzarQoAOPGiwEaWhhJsqTJkyYZWvD4EYBHgRNjDlzYMWRLlzZl6gy50mZLjyxvWuwJoOeCCAI+AvX5UMCHAzMVJK1YE0BNghImNFDQoeLSoVANSuj6kGjPCRIUPvxasUKACxwsENiQ9gBVjEStRsiAoUAACWtzMmVY04NDARACkBWJsaaCB1MBKAhAITDDoAwfBBhQkUIABk3xGjzwAMCHABgs46yomfNDqBrKiqY8YKACABMCZFCNuejAyFYHEggdsiqAxKXT7oYo+G6A4Yyfy+aJkUDjggY+MDDeu8Pfimn9IxD3HVLDWwDeIdTGyvZw4g8OGwSAAJx88JAbAiAAkCGAAQAPZJBbYs1VlMB5DaW1gHP2uZUAAPJNYAFDCwSQW4FNJcYBhZvVZx9Rfm1oAEHDIRDAgRg+dOB/AIy4IINVJWZYWgPNGEAE7T3EAWUMjbhhRWbVONtmAFgXAHeDMcSBXxUw5MBfG0x42Gw7FgAAjrXtN5mVOVrQwHoXSCnAiANVYJhK150YQJP91bYBABigttqcAGiwHgQPPpRBWAH8WFVPJr4ZZ2LihTinRx4kdkAGHjakgWeKfTjTZwBASp10bLm1301xTnDffcIBsF5l5gF2aAAjIYcSSpqh6v3BkBCQF0ADABzY5Kk7TSQrqQSJGMCLHvmVa0Q0EeQAABUONCFylyUp1Ec9/QrnQHZpFmuzz2Z7VWyQNlkhi3Rm21K0yw60oIMgiStUTZwZGUByAcTW7Kr01lvSq/7VOVCsRkY27L9y5pdvlQ7BBLBOXT154rSpVYQjtQh8wEFp6lokbGx+3QbkBOsZdEEFCXBwproEClATdBkRMFkABXRcUAEVbMAAyhvhu1CpLRFcJAMbOFAAgQVBQIEDG2hAc0MMDJTagZtuFKcBFD/kAQMJVGBwQQNQgMECGkwo8G25vbiRiftOkIAGjQLgAQcJIHA1QQOsN1xii2lEwAcGcgA9UAENcHD0Qw8o8AECfEprrbgdLFABjVhVsEDUGnWgwHL9gasuARz0ZRAEBpydtkNuwVdxUxokMIHeLGOgwN8MQQXa6Bo9oHjhfyGwwGI9fQ67QxZw0ICwBHH+wWkL7S6uBhtwbFDDxlccYAVQiVdRQAAh+QQEBAD/ACwAAAAAAQABAAAIBAAvBAQAIfkEBAQA/wAsAAAAACcAJQAACP0AKwQYSHAghIMIEypEOECCw4cSKAgAAOBAwYsYM2q82IGihAARBFgQKdIDAQImUZ5MyfLkg5cdHsQcEKAjgI82KercybOnT4oWbQYFIJDgwqMKGzqUeLOmR6cfN0rN2HFo06ogLVhYudKDV5MtUXqQibPph5BDy/pUYEDCAAocflZ0apFgWas8J2CUkHNn2Y8UPv51ynNDgAEbOnj4QFPCRJ5DhwqITNhvgLg6BXxk0HNwYgE0HwAIzVPAQAs8EQRY0DmA6KgGA3gYLbv0wJ56M/SEUJt3AZo0Z/OezXM45AAaeganLdz4cp40IxSvrNP4cAIBrNfeaeE2TwqX/ZXXDq7h8PjtO2li2JlhoOjpwmUb1k5854IAEnaCd+BzeXAH2Z1XX3oB6AZAeQEQ4BN9BZgX34A63VcARQKt15+AvDmH3k7lXUCRagbu1hty2dHXUwd6UUBRAwEckMFjBM5Gk4T+bbhAXQO8JwB42WGgYHUjsliBiQB4UFcADvyo0wZRQcAZRTXqtYGGs1nw0QAfKNmTAhcMZJN2FjGwnHEsUoCaXDphEIABUJ43EAFUztUXmqYFMJF22QGAp1FIHTWQQwPJOJCKy/E41aHZ3TkQf8YBIIBIW6kkaVgsjRXTmTStBsCbaHaKJkHJnebpqD0RhJqopKa66WEAYBcvwJmqjjrogRv12adSEC0KwAYNIuprRtLx9ygDBB0wQQMLaOCVSpR2JRNML51ZQEAAIfkEBAQA/wAsAAAAACcAJQAACP0AIxyQQFDCgQsIEVJYuNDAhIcPK0iUiKFixQYfEngAACBBgI8gQ4ocSZJkA44fAlR40IFlBA0RXjJgwGGmgpsZFGRYsGADzwRAM34oEAADR49GOSpdyrSpU6Upk0YFIPBgwgsMG0KMOLGCxQYEOhZFGeBkypJo0ZodCwBDgA8AGqiMCTNCzbs4c+7s+TMBUbhyJ0Sw4BZu4acWFlSYgEHD07ZvIYOUCzhy0wgDRBbo4JRy3AADi0Y+zJRA5gIJFLgNAGEj08OHBRz2zDSlgaUEKJRt6lkugg4CHATYAEA4caYTAixgmiHAhKbCExQPWWE4gOrHl+rmwNx5U+zT/SVkNj49u9LkGWoHcADdOngI4MEzFX5yaXLzHMEbJ6DSOnmmRDHAlEfszefecBr0t1x1yzFlQAAILGXBAZYtxeB1w23gXADpoddUggGExVFzA4hoH4cAIMBhdR6qmF5TusHFEYX4ceQiAOgRdaOHTTHwkQAAKBCABEA21SKHEGyY3o1OfWQBAAuo9NSOAXikJI4oNiVkAEA2dwFnRqKoolsFPMidmUt5gEFmlglAVAAFZFAkR2g+qGIF2wGQJ0erBTCAAq+BdACYAKCpm24b5IkmhnAqMCduDSQZAJiKDhkAA4YGwJ2PEAj4GEcCqFgAnZrqCVJupaIp36dKZbagUaWsARCgrENekORBWVGw1QQITJQZAhhIcKmpAVAAwAUBOJZcWsyKFMGxH7GHrGMAPBDTSzLRZBNOOvHk0wIJZNTgm8sRRS2r6DaFbLLQnpvuu7QG8OS08NaL7AAAECAsofWiS+GoGgg7QEFWIVRArrv22pVFFyUZ4QYPNisxWoCy98ADzX0kAQUOfKAAB3cxcJNO3X67AVDhJtBAA+MGBAAh+QQEBAD/ACwAAAAAMgAyAAAI/QABfKBAcMIEBBUqOMCA4YPDDRAzZFDAgQMDDRoidOjgoaMFCwIAiBxJsiSEAChTqlzJsiVLCSVjjkRJUYGCDAsgJvjQoKcDhQcnGCBY4MKBowMgDFBpQWZMlE2dSp06M0DUqQJQhvxwMOHChg8jTqx4UcNGjh5CAoBKFUDWAG5dyp17AIAFlG3t4r0bYIHfBIB7YvhZAYFBAwYKKD4q4SRcvgo6UCUQAAIAypadCtAw0YNUvnpVHkDwgcNVkR4qA0idOeYCxygrSI7JejVKCktVTihZG7PMBSgPCE2pIaZv35c1LKAQAEHJBwFgdogeU8DJDCM7TAhQ93mAAQD9oEPg8GAkhgAfSk6HCR1mSQ3USb49HZ469JQQmjJXoJ769O4kKRDAbiYF4BlJ6wEwHQQFoOTZUgqoJRJ8FwBAYUwcBEBBSXxJKFIEAVQI4gW18YXSBQ5INiIAK5YEonsjMcBdTCuOmGEBFlYmQUoGACAjjvDhWFIGAfSI4HcxXUhhAgFUAABwuxGAQAAO+KghABluWBJwBXgoIHglybihmFNuAMB5TgJgQADYZWmlliRRxiZJS1VZkptZXhAAAwAwBxcAS0kmYI+DyvTBgCMROYCHImXYY5YoEQDASeCl9qeAu2Eqk6URiLRUAjJpKiBzlvGV6ZUAELmbqk5th/0dcjGxSmSDQKIEagMBYCAScE7yKpMAzL1aGX0iEekckQdQ+SRKxe0n0gZNLpvmSBFgsNQAkgLQIAQNlEcStE5Cu6OZ51k1qYHPRgvuSA/4GeKBdq2JEgLZSrvsSc0iKd5ITOra74c88hkTA34O4C2TVTIZKaBFptqwSIf6m6tbOyIAr1MRNFghAP8eqhpfZjqA3kgRCzTxjXm5lWxxJSuMI4gBdNogB+aNjOtoehbAkEMJQLSARBRxgNGUGHQgcnq4KgtcAAK8Ve956Xk819QqpVcuuUi+SNJ5oArAAU5/7SSYAz8dhFhiRTE2wADFJZ3vhlCSJLKZKdcNQAUL/i+VHt6gjoQ33XbnJfJjKHWarMAiTblA4CnjXRd8TM9H0pTYMd7WdnCrBh+AIm13AAUGGJRQBQyB1fMGP48lNEYbPdARARZs5+R5ODI5rUh4U627XIszV2WZJW3GQNLfXUABAg58gEEDgxVmGGIUFFWABAdIsDZ+5S1F846dykTABDu+NEEDGXTAaF4dynl+SXI6YED4K0kwfvnru4iXjBtPNR2YdkWQAQbva4n8yGc+18zoUHaaCpG444AFzGYkAvBfAwIoPvJFQADncc6aKqe/ZK1EZxnwlnwkSMGW8CdQKbMAAxIwgdzghwIN4MDFINiBDDQAfClxHV4sRwAOVkwQNigZwAQ+wABiiUQAGwHAqCwXkwcoAAMNih8CNqCB9eFKV0yUSgcW4AA9reQADXygs7LYlghuAAEeVInOTjJDMrZFhSx0oWrcmMUeTnBxdMyjUwICACH5BAQEAP8ALAAAAAAxADEAAAj9AAEQcFDBAYYGHzZsyJCBAwcNGjo88EDAggAAGDNq3Mix44IAIEOKHEkyAIQBEi5coEBhwoSCBz103JggAIUNHz5gcOAAAQIDFApcOCBhAISSSEFimKnxQ4ClTGdaIEDgwYMIERhwUJBhwQYKT6NibBDgg8AECRc2fBhBIkWLYjE6bRAXQ1kAZJMihSAh5cqWFWSSNSvWQYANAAxT4IlgAlChRI/qDYnY8AEMCyJYmFnhMIDOC6IK2CxAAFWrWDkwAFuZJIQJFzUiCJABwATaHQV8kAASQoPNHWeHnl2hwYQDIR9svK3ANm6OYEk25zi79u3aGC2AjJ0RLAcABv0CfN+4IYAEBhcZFAApc2P47+EvYJAZwTz0AAwAgM2/8UKA6RmFh9hG3oEXkgMAZBDAAQwQoNF6GgDgX4QbHdVeRoNxBCEA6/lnVl4gDUAhchFIGECJFQbgoEadJcDRhCb619xtFPgXgIsAINdBjgHsuBFvKGaEHH8a6cjjAD3yGKF//CGpnJMcQakRkj5qxNuOvG0HAEibgbQikjKBuREBXG603nhTBhAmSBIA4AFIAHQQwAAZebmlihwhV4FGNeGZokySGQAAB3MmGICgGJVZ5kYMFCrkXRwpqhQA5RWAVwB0ASAAnJsGMBOS2H0EAXcaaRlSaJ3tCdZ02nna/epM5U2A0XrYbfRqqwFECFZtUpIJgUAmzaQgArPm2tGtITl41ERwYvTmr89yFIEDR+E42wVoZuQrsMG+SqilGMnZ5gP2ZbQAcpNmZ6MEA2JELp3kBmBpfb/WhGC49omb0W0gIRBkRh9IdsGK5I4L0p4KWnpbaBhpEMAFANQH8aUQJABcbgkgOXF9B0QMkotk7QlkRg5b6jDErSoXFwHI1Saxx+I5l0Gr3BFKAQCNSqCTeQqopkFbE1lwMUbD4myT0QEoR6LDHWdEqKCNTuYaX7xBUOPRUWvKZXnEZqSgrJQ2sFMFjRlQQAEHHDAAklITqwCc5P7aokYfdR2XRqX+eeDBAx1EoAEDCiiwmYJtEgoxk3QHsOfdjJu7IAA17WlnRvY2bnl5N3e2gZx0NhWW5YzXROyZb9+sEVkHVIABBh8ksMECGfTMQEQd6C303U4huKxdmQIstV4nSXDABQVQYMAECFTgIZmehlcrRgIosEB0vQlPPGRqS/b7x0wDsOxMHSBgI0kSGICZBg6OpncHfTMAuPQLuG7BRxMwHxdvCjlAAdsjQVBABQngwANIxRHeNQpcTOlUAxqUnQgooAHiQ4oEJtCAzAzNeZETC656Yz4FVMlNHNiA/vgnEv9VYANIisDC4vKABVRgPSS5gAM2oBmNWCACGTAOukZiAeRdUKhxD3igAUjIJgR8gAEXysgDOJAABxTAATQD3ZgYkAAE7DAkEDBfBlS2kfq0SYoJjMACnFgSGW5AAxepGxiBKEQimoc3hFkj6AhARSuKhEhyXKMAxNiuPPqRKQEBACH5BAQEAP8ALAAAAAAwADAAAAj9AAEAyNDgQ4IFGRQw0BChgwcCFgRKnEixosWKAgJo3MixYwAIEg5coGBgQgUHGAxuSMiBYQcBFyVa0IjBQQUEBigUOCBhgMefQDVKiCnQw0eiAgUQ8PAgQgQGChQsSJCggQMHOA3s1Ij0QYChABhk4NCyg0MLEZFaNAoBaYcABwB4DaoRpEiSJlGqTEhAboABHohqCHABwGAIOXf2pBuUAoAIHA9MaABzIoMAji8XuKjUQ4cIGqBmmJoAA4YKBQJsHvyRIweKHAIYABB79loMOwskiHk5M2YABCL4jEAxQ4AJA49bZACh44AMFhUol14grca0EhcEqABAO4KKFv2aI+DQIYMEjQwqGkdu/LfRABgWdJC4IYADAPXvU6zveCIG5RRpx512v13G0XwAfABfggtSVEEAu000WGEUJbCghdt1p5qCATwgUAMBfAAAiCJShEAA0E0U22YUKYgBgyGOGEADBHAl0H+7/VfiRA5AWGEA31FEoowBKADABChOKNGDGwDQY5MOzmhiAFDySKWTGhF3QQAa1BckACcuACaKFW2pwY/6TcQkAA8GEJFGHvS4I5JGIpniRCdSWJRPVUp0InQnBgAcVxQE8JpABhgKQKKHTvReXwJZKAF2EiVqZKJxQRZXcx4KlFp6n1pUaAMCEdCckRUV+lqhjq1X/aOgEm2pJZcWDTaAQAr2V1FqZ6bGnYtKSnRAAPMNiyBFXt2KZYQVDUvcsCKeuIGXE/kUmE+dSiQAB4myCCIF2U503nznQfepnBM1F5i6EsXZ3FedWjCsbGdWG8C1ARCnbqGoCnQdAP8mp9EAlE0kQJvHYadRXwvPFIAAnGqrkQAZPWyYRhQ0WtEDbbIIsJsfWwCZBK9O5DAAJwOQGrNEdXCemBWjzJV0BgRb1FGvKtBeBB54YEFlF2k2qKAnW+gAtRJ5NdR7dEEwgAQXFEDBBAic9NEGFrbFFptUoivRW2B9gMAEWl1wwADvMtbRUMkCoKqqEhKmlgAWEPDAZwz+iJUB1g1YhQAC0I0MgE8dRCyR0GolThFkF1T8Hmy/KS45bZi9NcBgcU203uSS1xYbBUhn99VeCrTU0EOUSi7dBBZWoGOAanMEEtQUTF2B6x98sAFCHDDwn9Uf8EuRAFj/BMHxsdPlAL/YBt3AeUFJQAECDRyk8wIbfNBATWOXfQAD5xmIFJIJeKABQQhckPbaFDiQgAIdpO6voXITtaVGBVSQAAeBBZfBB6jxyU8GkL8PKAA0H/EOUjJQgPVt5AL6459ALNABBSRgedD7SQG8phYCMGADDmjgTyC4v8Ak5QEc2AAGDDAvDAiPc6X6YAgdqBESSnAifTEcDCviQRAmitAjNnyIjXbYQRn+0COZIyLnCNCl5b2LO0qMInAiADQpWpEiAQEAIfkEBAQA/wAsAAAAAC8ALwAACP0AAQDQ8GHDhgwcGGjo8ICABYEQI0qcSLHigQAYM2rMCEHCgQIUJiCogKFBgoMKOGiI8MCDBQEVIw4IMBKBAQoXDgyAsLGnz54SYMbESCCmAAseHkTQwEBBhg0JGmBwgGAChQIHJMzE6CEmAIwPOyRc6MGh17NfAzysKAAjgLY/A3S8AFIkyQ8nM6RcuBajBAoVNkwk4JZwgAI5d8ZdHOAAAAs9GUj0EGAAAMqWJQog4KHDUg4KFkCVSvXmBbkACEPooIBnB4kdAkgAEHs2RQELrE5YIHTig8oAfmcGKzFCgAsAjCOf6EHCRgkZKMZ2HDtAar8GFkBkcHhg94mn/S9sYLDAeQAFEzUc927duEaIHAJQABB/vkTuQSEKaPA9Ivf53EEAgALyLdAYRAROMGAACkr0QQAVTIaaRPEZQJ9sACQQgAMGNgiAgQh8SNNE/H0gkXATZcAgACoi50AAUQWAAUQbbAhAjQ5MpGGOERFYwEQGRmjgfBMEkAECAWgn0IMzMqnjiBFhIOOTOWqo4GkaYAlRiQBwKZEBRkpEoIUOBtAAAA/myNNvARQl0IsJACBlnBJJ6Zh+BdhYZwAmSvkBZAFQZh1EFQQgWKGCTeYagnK9JtGLgsFZm3rLCYRkdJdShOSMAl1Ep0SFahcqdwV0GBGY6KFKkXswqSj9wVoSFRmdrCBKeSZEFAQgWa6STQSXQBpyOhGYHABALH8NyBqRllrC9mJmNRbgpkR5SlYtkgtcpEFEF73WrX4fmAdBrxZcRJOjEJ0WAQBY5hpfmzIF8AAAzs070FY0dQWRBUViVEFvzr0W8EwBSsRTVwcHx9MBC8BaHJj9zdTVTGzGV6lAxBGHZIRoRTBTokQBwJNxENQYon4YCQCXAuoFEMFLaFGKsVppcXeAnxEB+tZiEAxwwAUUGDBBBQ40gBdGHLz7GEYqGgBmdBCptqRVWGnFWFwCGrbjRetCVNtZFhDwgGcMcJDBAgl80IADFUxgAGIzUgbBiw/SDJFxd/yipXdEtYFZo4ARybz34Mk15ml/AtVH+ODq5cknhGLKlpcCCjHkUm+Lk4oR3ZFfLZdHQBswUkkFLbBXBB14UGOuf52n2QYQey67RnlSEHBFGhQ6gO08fyR0TVVddYEEPNFkvN0UPThABR+kxEAGCThgwGlYX2CAAwkoEEFX/OnulYE97V5BAhx0QEAH5DWAQAH4xvWifTF5wMAGGBhgXvgUOLABBw+o7IEG0JOeuTYHucU9gAMbcADvfCKB643HXo/pQAfgtLjbiCUBFaBA+zQigQlgYAEMyFOxKogWAbDmAxVg30/QRULCWSACCvjA+iBwAMy18IY4zKFXAgIAIfkEBAQA/wAsAAAAAC0ALQAACP0AAQDg0ODDhgUZODDQ0OGBBwsCBEqcSLGixYkBMmrcyBHCAAkXChiYgMABhgYJNmRIqCFCBw8RLQrIiMFBhQkGChQ4MAACx59AOUq4aCHjRYkCLBB40CECAw4KFmxI0KAmApwFLkgwatFDAAgCNSRc2PDh0bMACGSkUGEBxQcBhnoNmtHjgQsUKEyoYPJDygwKOBAAMFfjYIkRAhwA0OFr3gs8fdKlW4BxgAEZMsYUmPgCAA0BPFdMurSDhqdRp1Z1gIBCaACd4UJ4sJlDAAoAGNy+SKABBbwbNlMEXRn0hcQaEwi0bWBggOYVNUjWiNmibdzXFXz1iUBg5gkA/b6P9mmAQ4QMWwMwqKgdfPsFARA0CNBAIPwKAO5XhF95IobnFWXW3XfzNYBAAG4BkEAADijIYEUOBPABRYktRtEGAeCHIV8BJFCAegJ9EAAGDpJIUYQbDPcaRQuSuKADBgSgwAABPCDQfBP+NyFFOl4YX0Ui1hfkBeppJlCEyv2nHI8jUnTgjv5JCICONNo2gEQVBJBililS9OF6E20IoZYAIJmRdv0BcGAGagbAJkVZiiYQAVtBKdGBbmW5III/ChSjAgD8WdFcHkiE4QAWVLQmABNIGFeBErnGAQCSWhRjfQBYQOObFFV6aQAF4CnRhxoAQKpFoIHlYJqdguj92n8TfCnRAQFEAACttg761Y1SWkRkqURm6QCNNgq0VQcAHFsRA42KJiIFxVJEK7K0PmmkQDQWmq1EBGAg2QDIZkprABOUOhGxyT7n6JUSZTSYu8tpBAEGiSJ1YEYIbOZToT4RKSKrGSUaMGwZFQDoRR3cm+bAGW01X3cCFRVAply5ZudRHWyV4kwBCMBxRhFimtauasmoXa0eEFDvUbpVJjEAH8eHoERegVXyZBCAhNcEe9X01QILglXzZbIK1NhQAHyAgAEGXKAVjZMFdeXQPNWImGJowUyABw9EcJoCGQD9QQM2Le1WYzTG2LFExGXtdkWJ0dgou/Hi9vbdubbFJTOr2kGHt9u60XggxN4p5hdCHHDA0EsQ/V243PRNlFnUG30Ukl4IVHCSQYgvJKJPriUokAAbQE356UERCSaFIDvgQKymT/bRXSE5rVV66MLdUagYJLDA7xtg0NoF09EVu3ATJVBBAbF3dAECGGzAgEsRcLAA2RNcEDutdKP1AAMZKE1B8xtB8Hz0DHQQEQEdMICm4xN5AL745Mt7/uDwoyV/+K3VL3L+d9uf0gwQLQAacCIBAQAh+QQEBAD/ACwAAAAALAAsAAAI/QABCGjgAEODDxs2ZFDAgYGGDh08ELAgAIDFixgzasTIIIDHjyBDgoQAQcKBCwUoTJhQoeDBhAQ2KghwIEGDBhUqIJhgoECBAxIGQBBJVOSEjRkCHN24UYAFAh4edIjAgIGCDAs22GxAIQAEBAoyLghQQWDCBQs5aHj4QKIFpkyTepSQcQNZAGOLiiRp8gIFlQhaNvCAN8AFwxkTBMAA4ANNnRMo+AQqVK9IxooNBJCwgcPFBgEaNA4N16JTqFI1VL26QDPmAF0/ZrAI+gOA2kwVFJjboOJG3KC7XpAQICwABwESHE++EbnI2RoxBLAtffeHAwEiWKwQYAMA7t79M3YMsMCDAA6HA3TQCP57gN0bhj6wiCDA7PrQMU5gjrG+7YzcLeAednn5tt9sB2qEnQZ13ZURfgDUR6BXF2nmWVeeZYTdehg5xlhGFgKg2QDk0XTRbgwA0FWKGWEIInkaudjVUHYZcGIADO7GoIYBsHgRdj7emONHjpVlEXbaIamRRzH1B2NGh2mX3mKkWUTceldqtNtSFnHgkXYZZUmcV/UJaBGJhKGpkQYUVhgAAhsRN9+YB7ho0VCE4bkRduGN12RGapL4XpYWefSWoUi9Z9F+om3EJAAfaRZAkwJ4VJGlG3lJgUUhOhrAoR7tF8BFFngEQKmjZvRAAsQ5sP3deztiVOmos74ZwAAXEWCqrqlaxMBuofpmQXoH5HeqqaiSpahFukIAgAdtLudRARleNNBHBbwFQLPPflQflx1sBsAD4gJg12KEMWVBA0NdYBG5uELrUX2uWhQuXfeeiWNpuWI3G7l0keuRZspZxKa7Edy6gWMDqBVBB21ZoG1GMx2V8AEAJDxtcRexWUDGlu01gAQXoHQrApoh/BGQF2lqUQIYOIAAypJdcMAAgoY8MADj3RrAfBbNZCO/sj71wAMRqMaBAgsskMB8XoI0cVJcEm31RXIN5exFdhl59ddyEYcx1w5+fXVe2G16kWIHGPRBAgpl0JAGD3vgAUVfjytGU9kA6K3zXhKQnJIBLFXgdmyHNWpaA2P+7XhIfMbp0QEpTTDzTj3d/DhIxFXrpGUDXDCBAw3A3fTCGKBcgARDgUQimBsREAEHG+BkwAGt6yUBBQhgsIECGjxAANJsTmq2aQ9okAHMCKweMgQXSOrb8XAR0AEDC3xQgQEX5D4X9eAL5IEGCmwAe/joZxQQACH5BAQEAP8ALAAAAAArACsAAAj9AAEwMDBhQoUKGDA0+PBhw4YMGRRwYKBBQ4cODzwQsGABgMePIEMCMBCgpMmTKFOqDABhgAQJFygQEEkhAIYMCzYkSPAhoQMHCBAYMEChQIEDLyFAWGmygIaQBQI8FUm1qkcBFggQ8PCgw4GSCKBKFYhQ4YcEDiFKpGgRo0aOVKMGqBDyawQAF5jqTQnhQse8LCk0+CghQAcAhR0wbIDhJ4KCFChcuHDgwIABS1Me/npyJuIADz6HrkogQoSOIgUIIFD4cOG5JQV4HBDAAwDatkV2kFvSQW6RuG+X/MDy41Lbx0U+yFzZJAeqwWkHIC7hY8mO12kGQCAbQASSA/26gyw50yTxAtYDYFcf0kJ2kIXvhsxuskEAA1djC4gd8kGAAdo9N18AspmEwVweuRcAAAoq959I8YW034IKwjYYgyVhuKCE/H1EQIcfNVghAgFs4JEHxaEIgW4PgvQhgSF9uOKL9wWQwYnFySiSBgEcgJpHL3rmYY5NBcCAR/5V10EA1Um4VAIgkXSAgwD6V5JdHi1ZXZJULRAAekiWdFh/TAJgpXSeRRDABd71SJWCAk4QwARULTnlkkx2yCObe1Z14AcelfQbSH3y2GNxHvGInqJVOTBdoAEICZKabKq5ZpkecRAABQJtGuMCcslXkwQb/Jipp5peCiYAmnLa/WqIjpY0gIAM1lQSBuIx4KmuX875UQa+KuArAKyVJEECpnqUwWsS5CYsfsL2SpeyvgJLJwA1XTCVVRwUxiYA1gIQbVQXAuAlXV6GtWR4VoEkwFfPARsWsJea6NEGCHp5AAYkXYDWQxlwMJEGEVzkgUbEYQAAvnThe+iN9wbggLl7VXwSusYa+VHCyuqUQAMN/FRBUERJRtkBLalkInH/GbaxTe3G7G5WniXQ2Ud/yqyzSPaZJF7OOwcNwIElrfiRo/YKrTPRbn5UwZoTIFCBAwkxhNYCEAlMUcEdHMyReE43BRLTFlusVFImXXsVBq8plVnZZU8cUs8qQQATBQRNBaX3BAYUcIEEb5+0VLkfCZDBBg1U0PdrFQ9wAAUIKPaQRBPJmbTMAngQAQMZfKz433AHoIDS7WYeAQedJ24A6CaNSfrrFhz8+uxWBQQAIfkEBAQA/wAsAAAAACoAKgAACP0ABUy4QJCCQQMTElZY6ACDww8QE2yYmKGiAg4YGWjQYAGAR48dAogcSbKkyZMnBzz4CCDkgAgaGHBgoKBmhgULJib4kKABBp8OKjhAgCChAQMUChwQiYGlhgAXWEqdSrUqgAgiKwj4iDWqAAQHE05YKNQhBog8J26omOEih45YR1bw+DRqXJR4URoA8HRkVAAMAhTgG+AATZs4J0Z0CFQo0YQXBBMOgCDAXsABKADgkNnqgw0fNnSwGlhzYMqUPXI23Xnq15ITRk9dvVnkhAAOVHemPfV2gAkNKouUzbI05t8BGnhU8BsA8wlTQ0Lw8PHB7cssnzsXaSBAAo8Z/Zprl5ogNUuXU8NDZ545wALwzdVPbRDgg1QPASBM1R4eagAF8CEAQHgCkoebVE8dkJ54IkXGgEcLBDBXhHNJFZ5mLJVXIUsUArCBSBIEEIFHH85V4lQYJCdVYINJdWKEAQwQwEoeSghAh1LRh51HDrTGoY0fjkSAR+U1VWR0ImnwEX7/TVVebkGKtBUAR34QQFNTVXAgj5ZRVSVJH1lp5JVUhRQAdUyOOJWYVI40QJgqsklVZErWVdWXIinoUYr20WffVB6EOCJWAwyJYn0A0CdSi4kiyidLAmTQnWQeFSASAkqy5Gej3H306KaqhSiSA1MC8JpIFFC3p6MjFQj9QI/fwQpffg3QKFUHwkFAY4rfpTjqRz1uAICWwhIg0gelVuUBBVB5ROyrIynnbADCBlvjhlZ9FOJo1mop0nfTCqvlARSEeAECZJl1VkRqMVuBAsxWO9J7Ht2WAQC+5qUvSfcK16RHld0rAAME23RTTgkk/EEDPmEgVAWPTYDQkL4F8GC9Adyb7cZW+asmAN0ByPHIUlVsK7MckKyyR8yKZCjIAaS8MsmTBsASsxJcUIBBFIiF7kJmNYCWRBRZhBEHGkQm0s37Nq3vmx9Z0ONJEFRtNQT5OU2Snh8JdIEEWGst0gA5U4AQug1hUBmGVlngQQcacJABaA5PQMEBohs6vePMUxHgAUwKZNCT2gYoJYHGfCeu+OJVBQQAIfkEBAQA/wAsAAAAACgAKAAACP0AFQyAAGGAhIMID1xYyLAAhYcQDUyYSBFBhQoTHgDYWCGAx48gQ4ocObLARgAOAnwg8KBlB5cdImiIIFMmAw4Mbt5UkEEBT54LCgSQoEAAgI4bTipdyrQp044ekyIFoOAAwoMKGS50CPGhRIoTKhBA+fEDWakk06pdcDQAhABJEQRg2/HDywcdYs7cqwGn3509FQilG2DAXAByMwCYEEBxUw8fDFBAoMHp4saX3yq4rDhxUwUiL3Ro6lnuWw6cUy/t4BFBBg4NPEIYu5SxYsZvGSDG7HlpSgdKLVAIkIBpabcBIqS2zfRCAN1KEwQAXhszY4+jmfdWeiDA6OjT/Y3z/ujh8mbGm5cKhX6yY/Hq5z+ONRAA9XDU1ZMqFZpe6X0Aw3lkAYD1AUAffkoZppFSGKjE1IEGfrTRf/+pF0AFSnnwlmP+FRhgABtBCOFSDHhk1EYfBHDAiUqJKNuEHhbYHFwbWaBZUxR6JAGMqI24FGgQbLRBACY15aKKMOo2HHtKCeDRRtJh4NSSBAZwwUbOVZYlUwJIFyQAQx5Q2YxaekTBRkJVlqZSEcjlkWMCBHjABiwCsKZQARiAZQBljimAmyoqp1QDbw0lKABbOhfABHuqySeMi47JlAUJSIAdmo/iiaGdj24J2gDfWQaAAB2diWinHlG35Zroibqq1Ftj3elRA3sq55xBOmalFVddGWCYRG+V6SAAlo5Gn1rIhqRRd8Rt1N13LsE0U00R5KTTTRz8xNOYlh5GrHeuhusUs44VK+65SnWL37PotsssdOa2e2633Mp2VUJabdWVV2BNZFGh33Wb7MBpLSgAswSTRFBBAzTcsEflbSTAAxr0pcACGyTQAAYOIDCBAQUccIBhCQcwoLxcEuDBAzYBpXEDDuiH8sxKBQQAIfkEBAQA/wAsAAAAACcAJwAACP0AEQQYSLBgQQgIEypcyFAAAAADDEqcSLEigocQAjywIICjx44dLXggQGBkSZImU6LMGKADgIweHsqcSbOmzZkRW0IMEFNgRYZAExZwyPLBS547KyqdGDNnTJhHNwoAGfLkSJUnS0Jl2RRpxJg2F1AYMKAAh5s7uwawcPQp0poGJEpwWXPrQLZQv9b8EGBAhgceEkSUYFNvTrZ6odKUEIDBTAGMNdRFyhKj17cyLQx0OHNCgAw1DQ+07BZs5tE04yqY7DbAQ9GmZQ4kQDNihNCXIZBui5uuzIxGadrVzVvvTAIBiM8s0Bh31wGvKWP+HaDBzAUDY+/OSLj49IfY/bs/ZG7d+U7ovBULD7AaAIO7Nu0eiN5V+8MNAQo8FPjhpuj56X33kAYBXPCQZ6DFJx2AeQkYgWcGPNRAAAdkwBlOl+mXFm8PCbDBAQNJAJYAcSXnAG3UuaVhg2A9AOJADrB1HWPJOUbfThrOBoCOFkQ0QAIy2sQBczrtGABtA0VoJFvwYRCAAReiBYCTSsI30AQPWbkWAIz5JiUAAqCmJZZLGvlTUAgNlOaWA11UJpFLxdlXlgG4CR+YVHFUFVZ8ksQZjHQG+eWgNAFaJqGIyhaAA4Em6uhA5d3pKKGQ0iknmphWepScnE60wUMeYFABAhVMYIABFBRQwAUXHCAegQQDQJBTpwlOStNUFpTkwQMdRBCBBgwEa+uwNAUEACH5BAQEAP8ALAAAAAAmACYAAAj9AC8EGEiwoMGDCBECAJCwocOGCwcunEixosWLFAVIZBhgooWPIEOKHClyoYWNGwU+XDnwAgCNHTlGZEkTwMmYKGNi3Enxps2cMzEK+HCgpQIBF2G+BCrTooWiBiV0cCrRZ9ONFSsEuMDBAoENEgIcsKjUKtOMAz1khBBgak+JSq/qnPggwACLFAIwqFiWKVa6di0W1VDRp1mcc00ORDoRJgG+cP0mXhrgsceBli93PBy0YocAEiyGjQB5s2SybD9QbBAAAmPNlDv/nZhgK8WwC8hWPY06AIeFC+y+hs25qcXaBhYaCJBbd8e4ZytyCEBBue+LhnlLLxCgwkIHoIA3WCj9E3Fnkw0GtBz/cvnACmoVP9euQX3rBBYzQL0eu/hGD2wdkMFwFWmQV1vlJSjXQlohwBNFGAQwQWzQIfYRWw+QRFJdAVjgwW7mcUTTSgpuxN2IDrlU4YMsYlRcizAutGKMMb5II4sVaqjjjiF9iBiKQP4Y5Ig3FmnkkRQFBAAh+QQEBAD/ACwAAAAAJgAmAAAI/QARBBhIsGBBCAgTKlzIUACAAQYjSpxIEQEACAEeWBCwsSNHjhY8ECAgkuTIkihPYgzQAaMHADBjypxJs2ZMiCwhvhRIkaHPhAUcrnzg8iHFoxNf4vRQFKNGAR9BmhSZ0iTJpgM96DT6suYCCgMGFOBgk6vRABawdp1pIKKEDjWxoi26deaHAAMyPPCQAKKEmltxWthadKaEAAxkCjisgabciwGURp5pYaBDmRMCZKAZeCDkl4VjVg5As60Cx5NXmq0rcyCBmRAjcJ4MEcLn27BZznSKGnQA23QnyyTwm2YBxLMlDzAbOibGBjIXZO0N+W/wtTGl/415HHpyo8v91cYNcBoAg4EWxvs+sFr4zA0BCsAU+MFmZ/biaWoIcAFm5s3qQYYfbe7FFEFmBsDUQAAHZHCZTJ3JR5h7AmxwwEASdCVAW7858JpzqcV3W10PXDiQA+lFd9hvicEUIQCuwRjAa4PhlUCKNXFwnG4yvjZQgujJmB4GARjwYFkAEJmgkDJOwGSQh8GFZEwCePZkAE4GidRPCQ2EkJYBWBTkjkiViRdMA4mJFkxQbRSVBRZYVVVVl53I5JR41mRnkHn2GdOea/rp50DQ8SlonoTKaCaXjCa6kpmQRrQBAB5gUAECFUxggAEUFFDABRccIIEEA0CAU6QAHqoYRyR58AtABxFEoAEDtMIUEAAh+QQEBAD/ACwAAAAAJwAnAAAI/QAVDIAAYYCEgwgPXFjIsACFhxANTJhIEUGFChMeAABQIYDHjyBDihw5ssBGBwE+EHjAskPLDhE0RIgZkwEHBjZtKsigYOfOBQUCSFAgoOOGjUiTKl3KNGlHjxuMAlBwAOFBhQwXOoT4UCLFCRUIAEDp8QPKo09JqiW5gGMACAE2IAjQtuMHlw86wJTJV8PNvzp5KghaN8AAunMzAJgQQDFTDx8MUECgoenixpfhKmCsODFTBSIvdGDqeS5cDpwvO07awSOCDBwaeIQgVmlqxnAZlMasFKWDpBYoBEiwdDfcCLd5J70QgIHSBAF+28bM2GOH1J6VHggwOil06Un9d3v0wFjBZfNKgzp3Onxp+cseCRgIwAGA8PrTjyYNij7pffsfBUcfAPPhl9RhGiWFQUpLFUjgRwDW9196AVSQlAdwrYbUf8J59GB9DirFgEcCIPVBAAeUqJSD870V4YtLMaefBZoxxaFHErwYolKgQbDRBgGYxBSLHh0AoHPCraeUAB4CAB0GTSUJYAAXAMBcZVcuJQB0PgIA5AGVxRgAlh5RAEBQlaGZVARzeeSYAB0esIGKG6kZVAAGWDmmnmEK0CaKESjVAFxCBbpRlswFMAGfZ+455QRhLmVBAhJYV+eed1qoZpagDdCdZQAUFYCZjCb6W5ZqvgdqUnCJZaCnRw3oGShzBuGIVVZbcWXAYRLBRSaDlY7W4lrEgqTRdu1t111LL8lEUwQ45WQTBz7tFGaldAEQ7KrcNoWsYtt2Ky5S2Nan7LjoIutcuOh2i21l2EJgVUJZacVVV19NZBGho2Fb7L9qaSQAsgCTRFBBAySc8HgbCfCABn4psMAGCTSAgQMITGBAAQcccFjBAVjQrpYEePBATT9V3IAD+gUEACH5BAQEAP8ALAAAAAAoACgAAAj9AAVMuECQgkEDExJWWOgAg8MPEBNsmJihogIOGBlo0GABgMcOAUKKHEmypEmTAx58DDAgggYGHBgomJlhwYKJCT4kaICBp4MKDhAgSGjAAIUCB0Ji8KghwAWPUKNKnUo1aoSQFQQAuPpUAIKDCScsBOoQA0SdEzdUzHCRQ8erIis0fQr3pN2TBgA0FXmBQYACegMckEnT5sSIDn0CFZrwwt/AARAEMOCXAgAOASxXfbDhw4YOVQFUFh1SMgLMlkdP9UpyAuipqC+HnBDAQezYU2kHmNBAcsjXUUf73R2ggYLdAI5PmAoSggeoD2jnlao8eUgDARJkQF5daoLIUv1BDpi6ffnxzAEWlAewXmqDAB+keggAYWr17U4DKNiOgD1477VJ1dQB5HEXkmMMLBBABQAoyKBU22kG1XcPRuUgABuEJEEAEWTIoIdTYVCcVH4BJhWICrIUAGcLNtiie5NJ5UBmU12YoUgEfLeUjsyFpAFU8+k31XcOYDiSADx+EMBSU1UQoEczTgfgUkqKBICSOy5JFUgBPBdkBFRhCcB3IY2nZANXakmVYz/OVVWSIhEoYnzvxTeVBxuCedUABFA1JwDvhQRYnQD8CZUAGWD3mEcFlPZjVIQGGuOfhHrEwYYhOaCVR6yFRMFzHv0pYmkAzJhAqdl5hB8EDajE+pxvELgq4qmjBjjjBgA4iSsBIX2waWgeUOCUR7qiGhKaxd5qZIWhQbUhaMo6GdKpxTp5AAUbXoDAWGWZFVFawlaggLC4zhjSAgDQlkGhd7Vb0rq+CSnZugIwYC9NNd2UwL4fNMATBkBVwNgECPWpWwAMpBvAus02HFq8YGKngMMU5yaSSsJyUPHGHgkbUp/YacxxxYoG0HEAElxQgEEUhLXtQmU1cJZEFFmEEQcaOBbSye72fNd4AFhgbkkQFG00BPT5PBKBnA4kAdJKl5kyBQht2xAGkkk4lQUedKABBxl0BvAEFByAqc9SjiwVAR64tN9OWBuAlAQMBwQAIfkEBAQA/wAsAAAAACoAKgAACP0AATAwMGFChQoYMDT48GHDhgwZFHBgoEFDhw4PPBCwYAGAx48gQxoIQLKkyZMoUwaAMECChAsUCISkEABDhgUbEiT4kNCBAwQIDBigUKDAAZcQIKgsWUADyAIBnIacSjWkAAsECHh40OEASQRPowpEqPBDAocQJVK0iFEjR6pQA1QA6TUCgAtL86KEcKEj3pUUGniUEKADAMIOGDbA4BNBQQoULlw4cGDAAKUoDXs1KZPwg8MBPlclECFCx6kCBBAgbJiwXJICAAwI4EE2baod4pJ0UJvq7NqzA3xY6VFpbeNTH2CmXJKD79vBh0vwSLJj9ak0EcQGEGHkgO0g/UnKLDm8APUA1tGHtHAdJGG7Ia+XbBDAAAABsPEHAO/xQYAB2AXgXHz7AVASBnIBwF4ACpKU3H9TvWeVgwu+JtiCDTI4YYEfEQDbehSWhEAAGwDgAXEnQjBVBxCC5CGHHRL3Yn0BZGCijMSFpEEAB5zm0YsyuYgjSVAxAIB/07E4nVVKJQDSSAc8CKB/JNUFgJJHBrBkSAsEYF5/JBkWEpJZ/icedwFcgGaUUy044AQBTIAbj1eS5FpsO6qZZ1UIfnBebzqmCcCOPOa4o3mHVuWAcOcFGVIEgkKappYecRAABQJdGhIBC8QFH00SbOBjpZpaOumXlmKa6kcWLEr90gADKkgTSRiAx4Cmt3oZp0cZ7KrArgCsZmcCo/LqmgS9/Wrfr7rOBUCvckLrEU0XSFUVABwQpuazvhIZgGAAdDlXl2Cx+N21IAnglXO9gtXrpCUCsEGCXR6AwUgXnPVQBhxMpEEEF3mg0XAYyJvgvIXaaLAD4erlsEnj2hmAkQAQzGtOCTTQgE8VADVUZJMdwFJKJQ5nppgWo6vyR1dl5VECnHnU58o0T0VfSdvNXPPOACBIkooeLRovzzT7TKdHFaQ5AQIVOJAQQ2ctAFG/FAHcgcAc8Yc0Ux8Z/fDDSSFVkpweCYCBa0lh9vXXDIN0c0oQvEQBQUDVPYEBBUNcIIHaJikFLssZbNBABXi75vAAB1CAQGIPSTQRnEOrLIAHETCQQcaE6712AAoQfe3kEXBw+eAGaF6SmJ57boHAIAUEACH5BAQEAP8ALAAAAAArACsAAAj9AAEIaOAAQ4MPGzZkUMCBgYYOHTwQsCAAgMWLGDNqvMgggMePIEOChABBwoELBShMmFCh4MGEBDQqCHAgQYMGFSogmGCgQIEDEgZAEElU5ASNGQIc3bhRgAUCHh50iMCAgYIMCzbYbEAhAAQECjAuCFBBYMIFCzloePhAogWmTJN6lIBxA1kAY4uKJGnyAgWVCFo28IA3wAXDGBMEwADgA02dEyj4BCpUr0jGig0EkLCBg8UGARo0Dg3XolOoUjVUvbpAM+YAXT9mAAD6A+0AtjcqKDC3QcWNtW93vSAhQFgHARIAQK5cI3KRszViwA1gOu8PBwJEAFAhwAbu3v01dgywwIMADocDdNDY/Xt33huGPgCAIMDs+tExTkiesX5ujN0tAF52eVW032wHapSdBhnZVVZ/9tFHE3leWaSZZ115llF262HkGGMZXQiAZgNQeIBFvDEAQFcqZpRhiORp9GJXQ9llAIoBMMgbgxsG0OJF2f140Y4A8OaRYw9mt52SGnkUE0b1CZjRYdultxhpABS3npYa8baURRx4tF1GXBbnVZQWlUiYmhppUOFFmiGwUXHzmXnAiwAMRZieG2X3HQDjPZkRmyUGUACXAHj0lqIbJVWARfuJtpGTiXqkWQAxCeBRRZtuFCYFFgagYZMBLOrRfgFYZIFHAKya/WpGDyRQnAMWvccjRpqmmmsA9Q1gEQGsAvuqRQwYqdRvFqR3QH6tsuoqWYb+WqEHby73UQGjmgaaRwW8BQCwEABArUf1LdXBZgA8gC4Adi1GGFMWNDDUBRap6+u4vAZAKwDn0tVvmjmWdhEB2c2mLl3qWsofAG7SG0EAA2zg2ABqRdBBWxZ4m9FMRz184sPcGmeRm4+CbNlIA0hwAUoQI6CZwx8FCSZsFiWAgQMIuCzZBQcMUOjJlgL6UYnzATDTjQLj+tQDD0SgGgcKLLBAAvOFCZK3SX2Z9NYXyTVUuBY5yPXYFslV3Ilh30U213llB2rNNBn0QQIKZdCQBhaQe+ABRWMrNuGDAPgN9F4SqJySASxVIHdsh0kqUANmDi55SH5qZGdKE+S8U089Tw5ScdlaVJ9lA1wwgQMN0C21xBi4fOhQIJU4pkYERMDBBjgZcADseklAAQIYbKCABg8Q0LSbmK4twAMaZGAzAoeeDMEFl/62NlMEdMDAAh9UYMAFvM91/fgCeKCBAhvMDkBAACH5BAQEAP8ALAAAAAAsACwAAAj9AAEA4NDgw4YFGTgw0NDhgQcLAgRKnEixokWJATJq3MgRwgAJFwoYmIDAAYYGCTZkSKghQgcPESsKyIjBQYUJBgoUODAAAsefQDlKsGgh40WJAiwQeNAhAgMOChZsSNCgJgKcBS5IMFrRQwAIAjUkXNjw4dGzAAhkpFBhwcQHAYZ6DZrR44ELFChMqGDyQ8oMCjgQADBX42CBEQIcANDha94LPH3SpVuAcYABGTLGBJD4AgANATzLVMpUw9OoU6s6QEAhNOfQcCE8iMkhAAUADGxfJNCAAt4NmymCrgz6QmKNCQYGMKCceUUNkjVitlj7dnUFX30iAJB5AvcA3v0pCvBpgEOEDFsDMKiI3Xv7BQEQNAjQAAD8CvYD4KcIv/JEDMtVlNl23c3XAAIBuJVAAA4AsGCDFDkQwAcUJbYYRRvoB0CGfAWQQAHqAfBBABg4SGJFEm4gnGsULVjigwYEoMAAATwAwHwUAkghRTpiGF9FI9YX5AXqaQaAhMkBmByPJ06E4I7/TQiAjjTWNoBAFQSgYpYqUgTiehNxiKKWR3qYEXb+IZgBAGpWlKVoAhGwFZQSIehWlgsm+CMAMSrAp4xdZeSBRBkOYEFFbU4wYVwGCtQaBwA8alGM9QFgAY1rViQppQEUYKdAIGoAQKgWgQaWif5pGmJrAE7w/aVABwQQAQCxzhroqTheRKSoRGbpAI02ArBVB8IGQCxFDCgq2ogUBEtRrMTG+qSRANA4qLUSEYCBZAMca0Gs4Ik6EbDFxjjilQJlNJi6AtVWFwaHIoVgRghs5tOgPhE5YqoZHdrva536eVEH8/IbgL9x0bdnUQFYylVrdB7VwVYqzhSAABZnJGGlaoGllozYyeoBAfEelVtlDAOQcXwJCuSVx5PVBRJeE+xV01cLLAjWy5e9atlQIiJggAEXaEVjzEBdyTNPNSKmGFoqE+DBAxGYpkAGOX/QgE1Cu9UYjTFeHFanUJddUWI0KoqucreZ7TZuCSOYKnbOvV12bjSsIridQJkd4BdCHHDA0EsQ2c33ZeDRJ1FmSEsHUgF6IVDBSQYBvtCIPrXmlkACbHB046D/RCSYEx3nwOmufj7ZR3eFVLRW6ZFbYUeeYpDAArhvgAFrF0RHl+rBSZRABQWo3tEFCGCwAQMuRcDBAltPcIHqsa591gMMZPABa8ZvBAHyyjPQQUQEdMAAmoZL5EH221PQvUbfJ693+metrz33QFVKv9v2b2+AswAICAAh+QQEBAD/ACwAAAAALQAtAAAI/QABANDwYcOGDBwYaOjwgIAFgRAjSpxIceKBABgzaswIQcKBAhQmIKiAoUGCgwo4aIjwwIMFARUFDggwEoEBChcODICwsafPnhJgUsRIIKYACx4eRNDAQEGGDQkaYHCAYAKFAgckzMTooSLGhx0SLvTgMKZZiF8pCsAIYO3PAB0vgBRJ8sPJDCkXPgSAUQKFChsiEmA7OECBnDvfKg5wAICFngwgeggwAMDkyhIFEPDQYSkHBQugSqV68wJcAIMhdFDAswPEDgEkAIAtW+0CqxMWCJ34gDKA3pjTCowQ4AIA4sYnepCwUUIGirAbww6Auq+BBQAYGB64faLpCxv9GCxgHkDBRA3FuVMnrhEAhwAU3MOfqD0oRAENukfUHl87BAAKwLcAYwAGMEGBB0r0QQAVSDTZfxK9Z4B8siUQgAMDHjggAgBsOFF+H0gE3EQZGAhAicY5EEBUAWAAwAYXvhijRBY6IFGABUw0YIMDxjdBABkgEAB2C7pY5EQWchgRBi0iGaOFB5qmgZQAgFhlACFKZACQNwYwoYIBNADAgjby1FsARamYAABMrikRk43dV8CMS2LJJpaPBTAZdQBUEEBgfgbmYGsQBajaRCoGpiZt6CUn5HOPUiSkiwJd5KZEfmKXqXYFZCjQluaBShF7MJUowV4S/ficqhsyKf0mABQEEFmskU3klkAWUjrRlhwAwGt+DagqEJVUStSBipjBWEBRE80ZmbNCLnCRBpUG4NpFrgkkwAfkQVCrBRfRlC1EpkUAgJSxvoemTAE8AABz7g60FU1dQWTBjxhVsBtzrvE7k38Q8dSVwL/xdMACqEoUwZb6zdTVTGe+lxxfATyUlpANnnXcTIISBQBPxEEAo5JuCeCWAugFEMFLGjcqUFoYaXcAk1nm2ZZiEAxwwAUUGDBBBQ40YBdGHKjrGEYlGrDlc9VB+IFVWGm12Fv/FVbjRebOFttZFhDwQGcMcJDBAgl80IADFUxgwGEuPqjighUPR6DGdBsb25Yw7ULI3cR1103cAZbq9158ffeN3pxYMlhobHcpoBBDLu1WeHaGYfT24lPD5RHPBoxUUkEL5BVBBx7AGKtf5d23AcOZt67RnBTwe56fA8SO80c+11TVVRdIwBNNwMc90YIDVPBBSgxkkIADBphG9QUGOJCAAhF0lR/tFQ3YU+0VJMBBBwR0IF4DCBQw71sqEk6RBwxsgIEB5G1PgQMbcPCAyR5ooDzz4VqueN8P4MAGHGA7n0ggeuGJl2M6cKwVTS4zYUlABShwPo1IYAIYWAAD5tSrB5pFAKv5QAXM95NxebBuFoiAAj5QPggcQHIBAQAh+QQEBAD/ACwAAAAALwAvAAAI/QABAMjQ4EOCBRkUMNAQoYMHAhYESpxIsaJFigICaNzIsWMACBIOXKBgYEIFBxgMbkjIgWEHARcFWtCIwUEFBAYoFDggYYDHn0A1SogJwMNHogIFEPDwIEIEBgoULEiQoIEDBzgN7NRI9EGAoQAYZODQsoNDCxGRWjQKgWiHAAcAeA2qEaRIkiZRqkxIQG6AAR5iaghwAcBgCDl39qQblAKACBwPTGgAUyKDAI4vF7io1EOHCBqgZpiaAAOGCgUCbB78kSOHiRwCGAAQe/ZaDDsLJIh5OTNmAAQi+IwwMUOACQOPW2QAoeOADBYVKJdeIK3GtAIXBKgAQDuCihb9miPg0CGDBI0MKhpHbvy30QAYFnQQuCGAAwD171Os73giBuUUaceddr9dxtF8H8AHQIIYVFRBALtNNFhhFCWgoIXbdadaggE8AEADAXzwYYgVIRAAdLCpVhGDC2okIogNEMAVAP/t9p+IFDkAYYUBfEcRiC9qpAAAE5w4oUAPbgCAjkpS9GADFJnY5ERMLqkRcRcEoEF9Ppq4AAAmojhRlhrwqN9ESQLwYAARaeSBjjgWOWSRYkpkIoUCeeDTlHaeCCZXMgYAAAUBvAaAAYUemihF7/UlkIUSYCcRokMiGhdkcTXnIQCppdepRYRCCVxzQ1ZE6GuEOrZeoBJlif2llhYNNoBACfZXUWplpsYdg0cKdEAA8/06X0VezWplhBX9StyvIkrJpUQ+BebTphIJwAGim41IAbUTnTffedB1CqdEzQVWrkRvNvfVphb8KluZE0ULwHAAlEtoqQBcly+bArX3F2UTCbDmcdhp1JfBMwUggKZJaSRARgobphEFhlr0wJrZ7tsmm5BJwKpMXCUsUGrIunXelxADILJ0BvRa1FGBKtBeBB54YEFlF2kGXMhcWejAswJ5NdR7dEEwgAQXFEDBBAic9NEGFrbFlpoBbDCuQG+B9QECE2h1wQEDqMtYR0MVO2ihp0rkckwCWEDAA58xIFYGUDdgFQII/kDX8bzAMiyQzmoFThFkF0D8Xoq2Ci54bBS8NcBgcUm0nuKU18Y40Nl9tZcCLTX0kKSKSzeBhRXcOBGBY9clAdIULF1B6R98sAFCHDDwn9Mf3Bsw1D9B4HvqdDlw77TLNXBeUBJQgEADB8m8wAYfNFAT114fwMB5BhJVZAIeaEAQAheITTYFDiSgQAegC6RRbHhalKVGBVSQAAeBBZfBB6j59NMA8X+gAGgf8Q5RMlAA8W3kAvKjn0w6oIAECO94PynA1ZBCAAZYrYA/QeD8ApOUB3BgAxgwgLswoDvKCaSCFzSgRjSowIn0xW8mrAgKHYBBj7DwITOKoVpmWEOPFUROhyYkwJaEpy7uAPGIJ4wAziQSEAAh+QQEBAD/ACwAAAAAMAAwAAAI/QABEHBQwQGGBh82bMiQgQMHDRo6PPBAwIIAABgzatzIkeOCACBDihxJMgCEARIuXKBAYcKEggc9dNSYIACFDR8+YHDgAAECAxQKXDggYQCEkkhBYpiZ8UOApUxnWiBA4MGDCBEYcFCQYcEGCk+jAmgQ4IPABAkXNnwYQSJFi2IxOm0gFkPZsUmTQpCQcmXLCjLJmo3qIMAGAIUp8EQwAahQokfzhjxc+ACGBREsdKxgGADnBVEFaBYggKpVrBwYgKVMEsKEixkRBMgAYMLsjgI+SAAJoYHmjrJBy67QYMKBkA802lZQ+zZHsCSZc5RN2zZtjBZAwsYIlgMAAwH9vG/cEEACg4sMCoCUuRG8d/AXMMiMUH4jWAYA7nO8EEB6RvCH2RfedyE5AEAGARzAAAEZqacBAPw9uNFR7GUkGEcOAqAef2aRFdIADx4XAYQBjDhhAAxqxFkC+wXwIH/8MWcbBfwFwOJxHQCAI0e7mZjRcfhttONxAwSQ43EvBoBfkckxyZGTGhWZ40a75bibdgCApBlIDBYpk5cbEaDlRuqJF2UAX4IkAQAegARABwEMgBGXWaLI0XEV0ETniTJFZgAAHMR5YAB/1rllAL9pxICgP97F0ZghLUVeAXjRJYCblwYwU5HXfQTBdhphGRJonOUJFnPZaZrqTORNgP2RetdttGqqLuZ3m5NiQiCQSTMhiMCrtXI0a0gMHjWRm2zy2qauG0XgwFEsAiDbBWZmlOuuvK4aKKVv1vdAfRktcJxSGVlQowQBYvStnN8GQCl9utZkYLdrwrkmRraBhICPTUV2QYrfrtlunghSahtoAGgQwAUA0McwXhAkkChHAiRQ5MP0HdAwSCySlWePGClMqcIMp5pcXAQcR5vDGw9oXaqwBUoBAItKoFN5CqSmQVsTWTDxoL8uOvOiASQnosIaYxTon0RLNhIEe+0GAY020YypluT9ihGCrgKwQQM7VcCYAQUUcMABAxTp9K8KuPmtriuGG4DWcWlEmgce/jzQQQQaMKCAApohuGagDPMXJAAf5Vn34nJrXFOeewIgL+OUkzczZxvAKWdTYVG+eE2/ltn2zBYmWAEGGHyQwAYLZJAzAxF1gLfPdTtloLF20cW503qhdMAFBVBgwAQIVMChmJqCFysAAiiwAHS8SfB72UOhHRnvHCMNgLEddYBAjSRJYMBlGjAoGt4d7M2A384vsLoFH02AvFi7KeQABWo/XUAFCXDwAKgcyd2iuDWTTDVgQdiJgAIa8D2kSGACDcDMxJT3uKjQijfjU8CUMOIBDmzgfvkTCQT2t4EiReBgYnnAAiqgHpJcwAEbyIxGLBCBDBRnXCOxAJIo94AFVRoghGpCwAcYUKGMPIADCXBAARwAM89phAAMSAACcBgSCIwvAydrFriciJsILECJJXnhBjRwkY/QjYsp9CEQy7ObwaCRclCUIhUP90YuCsCL6dJIQAAAIfkEBAQA/wAsAAAAADEAMQAACP0AAXygQHDCBAQVKjjAgOGDww0QM2RQwIEDAw0aInTo4KGjBQsCAIgcSZIkhAAoU6pcybIlSwklY4pESVGBggwLICb40KCnA4UHJxggWODCgaMDIAxQaUFmSZRNnUqdOhIqVQEoQ344mHBhw4cRJ1a8qGEjRw8hAVidijUAgLYu47o8AMACSqp179oNsKBvgr89MfysgMCgAQMFEh+VcNLtXgUdphIIAAHA5MpOBWiY6EHq3rwqDyD4wCGqSA+UAaDGHHNBY5QVIsdcrRolhaUqJ5CkfVnmApQHhKbUELN3b8saFlAIgIDkgwAwO0CPKeBkhpEdJgSgW/L5AADP/SFweDASQ4APJKXDfA6zpIbpJNuaFskevEoITZcrSD9dOneSCgSgW0kndcZfdJQVgFJnSymQFgDvXQBhABKWxEEAFJS014MiRUAhAB5eQNteKF3gQAchgvhhSR62NxID28WUYogXFjAhBBKkZACMNr5nY0kZBGBASdJ9596HESYQQAUA/KYbAQgE4ACMGV6YYUm/FcBhgEaSRCUAVEa5AQDmMQmAAQFkYCWYGBaH0nUjLeVATGtaeUEADACwnFsALNVBgEMCKtMHAo4U5AAcinThkFaiRAAAJ32HmlsB6lapTJNGINJSCch0aYDLVbaXpW0GqZupTml33XExoRr9pII9otRpAwFg0OSSt5pZkgDLrUrZfIYyB0CQB0h5awDE6QfABrj+pmuHGCw1wKMAKAhBA+SRxCyTzOY4pnkBNFXgsrhuO9IDe1JoYF1oooQAtbneelKyAXwXnkhK2ppvhzrmGRMDew6QrZJzKulon0IOm7BAtQKwrwA5IrCuUxEoWOG+hKa215gOnCcSobaCDECNeIkkQLHEiWywjR4GoKmCHIhkHnq0inZnAQw5lABEC0hEEQcYRYlBBx3TjNKcvwUgQFvUzsywXFCvhB6439aroovmdSoABzj5tVNgDvx00GGIFbXYAAMQRyuyerbp5Egdj1ny3CNVcPBS6P7Z3alIdstN99wdO4aSpsX6C0CUC/xNt910vae0fCNFCafieGmX4W+VvfcfANodQIEBBiVUAUNf7bxBz2IBjdFGD3REgAXaMWmejUo+a3fUuMeV+HJzihmfBgysXe8FFCDgwAcYNCAYYYUdRkFRBUhwgARopwQBeUvFnKOmxU2Q40sTNJBBB4mWvOFkSkt2tAHfryRB+OOXL+NdMFYoVZEjWRBBBhiw39L74iNfa2JEqDlNJUjbccACZDMSAeyvAf4Dn/giIADzNAdNk3NKB4q1EpxlIFvxeWAEW7IfP5mPAQmYAG6sR4EGcGBiDexABhrgvZS07i6UIwAHIPgalEoMYAIfYACwYhgZUFEuJg9QAAYU5D4EbEAD8qOVrY54vwU44E4rOYACGagsKuLFgRtAAAdVgrNxefFvFkChCu9zxjPqEIKJi0lAAAAh+QQEBAD/ACwAAAAAMgAyAAAI/QAjHJBAUMKBCwgRUli40MCEhw8rSJSIoWLFBh8SeADAsaPHjgkCiBxJsqTJkycbfFzJ8UOACg86xIygIQJNBgw44FTAM4OCDAsWbAiaoGjGDwUCYGC5MuRSplCjdnT5VCpVAAIPJrzAsCHEiBMrWGxAAIBTqS0DqHSJsm3btUrRAsAQ4AOABi9t1oygs29Pn0CFEk2Q1C7eCREsSKVrlzFTCwsqTMCgAapjuiMlTGigoMNKvIbrsowwoGQBz59F4x1o8sLHy6I/EihdIIECzBA2vhbtWECEDBiSStgd2u5HlwY8EqCgNnVoBB0EdFQQgMJHBwE2AMCu/eOEAAv9PmYIMGEl9gTbSR54AOCqxwrZAcDv7pE5B/HkV85PL6F0AAUAfJfBdfFxt5KAxwXggHnx7QdBAOxJEMCA7zUYH4EqefQdfR3txx0BIgEgAEkGfMCAAB5e6FFSDHwU0oIEajefBgG41kEAEPgnkgTwhdfjSgYEgIBHFhwQW4U+ZreBkACMl9wDGXwHAYIIfkRjAGVxNN4AWWo4IQAITAgfeocpBsAC5CEYJoUfMWccAEZy2NGaAU6Y1H1BilRWmAnQWeVHDIgkHXUSSHfgl2s+uJGEIi0aQARqfsmSSIqhWQFTfgYQUgAAWDDSAACAGIAAVEr6EXWjNlkjat4hqv1UAAVgFUBpQ1IXa5B4BnBfRx5g4J9xAiQFawaGcoQrAEGGeemW8dG1lH0AQMsRZrMC6BG1B7B6LHPMaUfXgxEAcGe0uiJbrnwiFaBAsco18GAAqEEbpIQtMheip1iaex+0gULQolQChBmrvuTqCYB/1tE4HLm53refXAcHsJG8IkHQ6UgqhXSpuAG0KNwFDx7UFQVfTYDARLRiQG/BCY+Ua3gAXBBAZd+5ZXNJ4cqs4JkjKfYgezHPzNEDNtF0U0479fRTUEMtkEBGMAsbHmYHAPAAjh0lVRnEXActtL2XopkcRzJv3bVcwvosUpLokS302XLJDKqoEAIgodkS/rIKd1RGxnqlxaIWK+EABWmFUAEjl3xyWBZd9OCQSwaQHAewepTnzZijBCB2ms4Vl0cPQJkZBQ58oAAHfTHA009LN71BUU8n0EADUYtUWVLWfmTBBDqSdEEFCXCgG9zvCjBivlARgGoBvY9UQAUbMNBlVB6I5JrCaFE+MAEMbOBAAe+SBAHpG2gwfUeBxhXSkItJDvRHHjCQQAU6lzQABRgsoIFikQP4HcxRCVPFJpAADbDLIx7gQJ/qR5IB+KcsD9IbUwjwAQOEL10N4MD5PvIABXwAAUYaSXiuZrGudSAyjMpMBRbwPqh04CdaktzeOEIADgSnJBAwQAEPyBL4SLxphhwRgAYSMIELwgoDCtggR4z0LyCy5AGRCWFmELAAVuGLh05ciQU40ABhjSSHH3CJa7LYNQ1sgHclqQoZzwalChgpXCsJCAAh+QQEBAD/ACwAAAAAJwAlAAAI/QArBBhIcCCEgwgTKkQ4QILDhxIoCAAA4EDBixgzarzYgaKEABEEWBAp0gMBAiZRnkzJ8uSDlx0exBwQoCOAjzYp6tzJs6dPihZtBgUgkODCowobOpR4s6ZHpx83Ss3YcWjTqiAtWFi50oNXky1RepCJs+mHkEPL+lRgQMIAChx+VnRqkWBZqzwnYJSQc2fZjxQ+/nXKc0OAARs6ePhAU8JEnkOHCohM2G+AuDoFfGTQc3BiATQfAAjNU8BACzwRBFjQOYDoqAYDeBgtu/TAnnoz9IRQm3cBmjRn857NczjkABp6Bqct3PhynjQjFK+s0/hwAgGs195p4TZPCpf9ldcOruHw+O07aWLYmWGg6OnCZRvWTnznggASdoJ34HN5cAfZnVdfegHoBkB5ARDgE30FmBffgDrdVwBFAq3Xn4C8OYfeTuVdQJFqBu7WG3LZ0ddTB3pRQFEDARyQwWMEzkaThP5tuEBdA7wnAHjZYaBgdSOyWIGJAHhQVwAO/KjTBlFBwBlFNeq1gYazWfDRAB8o2ZMCFwxkk3YWMbCccSxSgJpcOmEQgAFQnjcQAVTO1ReapgUwkXbZAYCnUUgdNZBDA8k4kIrL8TjVodndORB/xgEggEhbqSRpWCyNFdOZNK0GwJtodoomQcmd5umoPRGEmqikprrpYQBgFy/AmaqOOuiBG/XZp1IQLQrABg0i6mtG0vH3KAMEHTBBAwto4JVKlHYlE0wvnVlAQAAh+QQEBAD/ACwAAAAAJwAlAAAI/QAvBBhIsKDBgwgPXgDAMKHDhw4ZAhgosaLFixgvCqDYMIBECyBDihxJciRDCxwnegQgEKLLgQs3rlTZ8eVLAChnckyZsedHijkXRJDZMaOADwdgKhCAkahMg0UvWkhqUEIHqUAHTpBAMKrFCgEucLBAYAPXAxqzriRK06JMDxUFQAhwtWJOADIVPGDLk+GDAAMuUgjAwK1aqG0r/g1sMakGi3dzUhjQNfHPAEwlyiRg2CPbuSv74h3I+XLpyzgpEqgsukMACRe5Ruic2qMG1jM1z/1QsUEACJlRE92AG2OCsBW5Lkjr8S7Ynbl1B+DAcAHg4KjvFihuPIABhgbPAixnPtoj6NDRJXIIQAH8dIyRB3oo6LUih+0VGDp4vcEC7ZzrbYeeXQ1QFpZ/eIU3UAVwnUSRTMc955UGBkKQwEUZUPVeebUhEABxAwLgwVwHZICdRRoMRldttQnEAHQMgYWATxVhEMAEHD4VwGrogTTXAyWV9FcAFszXHEEQtGWTTbWx15aASzoUE0EOWEbjlXYRtJxoWF751GNcdulTTkRaKSaNMgXGY5BstimSkd/dFuWcA2EAwAYt0bnkVVUyFAFBByDwAQcPnOlTAQEBACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTYzNzY1LCAyMDE5LzAxLzI0LTE4OjExOjQ2ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICB4bWxuczpib2R5bW92aW49ImJvZHltb3ZpbiIKICAgIHhtbG5zOnhtcERNPSJodHRwOi8vbnMuYWRvYmUuY29tL3htcC8xLjAvRHluYW1pY01lZGlhLyIKICAgIHhtbG5zOnN0RGltPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvRGltZW5zaW9ucyMiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjZmYzc4ODQtZWYxMy1iNTRkLTk0ZGMtMDI5OTYxYWE2ZDBkIgogICB4bXBNTTpEb2N1bWVudElEPSI2MzU4ZTE5Yi1mOTQxLTA3MzMtNTEzNy03YTg0MDAwMDAwNTEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZTk2YzgxNS1jNGVlLTQzNDUtYjMzZi0yYjFiN2NlMWE5NzciCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTItMDRUMTE6Mjk6MDcrMDM6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTEyLTA0VDExOjI5OjA3KzAzOjAwIgogICB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0xMi0wNFQxMToyODozNiswMzowMCIKICAgZGM6Zm9ybWF0PSLQkNC90LjQvNC40YDQvtCy0LDQvdC90YvQuSBHSUYiCiAgIGJvZHltb3Zpbjpwcm9qZWN0X2lkPSI5ZHhpaGxxMXQzbjN1N2hjdXZjOCIKICAgeG1wRE06dmlkZW9GcmFtZVJhdGU9IjI0LjAwMDAwMCIKICAgeG1wRE06dmlkZW9GaWVsZE9yZGVyPSJQcm9ncmVzc2l2ZSIKICAgeG1wRE06dmlkZW9QaXhlbEFzcGVjdFJhdGlvPSIxLzEiCiAgIHhtcERNOnN0YXJ0VGltZVNjYWxlPSIyNCIKICAgeG1wRE06c3RhcnRUaW1lU2FtcGxlU2l6ZT0iMSI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJmZDVkNzVlYi1iN2RlLWZjYjUtYzRlZC04OTJjMDAwMDAwN2UiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMTE6Mjk6MDcrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ZGVkNDY0NC00OThmLTFkNGUtOTUyNy0xYTFmM2ViMjY3MzUiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMDg6Mjc6MTArMDM6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Mzk4NDEzNTEtNzFjZi0zNzQ3LTkyMGQtMzE2MDkwYjhkMTIxIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTEyLTA0VDA4OjQyOjM1KzAzOjAwIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzQ2MzVmNy02YWQwLTYyNGUtOWUzNi01NjRkZWY3YzZkNTIiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMDk6MDQ6NDcrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249ImRlcml2ZWQiCiAgICAgIHN0RXZ0OnBhcmFtZXRlcnM9InNhdmVkIHRvIG5ldyBsb2NhdGlvbiIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0YjMwMTM3MS0yZjM0LWIzNDEtOGMxYy0xZjZmNjhlMmY0YTkiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMDk6MDQ6NDcrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTEwOGYwZjQtZDNiMC1lMzQzLWJkMGQtMDMxMWEzMGFkZGNjIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTEyLTA0VDA5OjE0OjExKzAzOjAwIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YmQyOGRiYi1jMzI5LTA3NDEtOTk0YS1mMGJkZDIwZmU3MmEiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMDk6MTk6MzgrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJhOTkzY2E2LWU0YzctZjk0Mi05OWMyLTJiZTI2YWJmYjRjMCIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNFQxMToyNzo0OSswMzowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYjI2ZjkyNS1jYmY2LWExNDktYTYwNi00YTIxYTIwN2VlY2IiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMTE6Mjg6NTYrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9jb250ZW50Ii8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk5ZWE2MmRhLTQyMDctNjA0Ni1hYmVkLTBjMmEzOWQ0NDgyZSIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOS0xMi0wNFQxMToyODo1NiswMzowMCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMTg5MTkxMy1mYTQwLTYxNDktYjdmZS03YzI1YjIzNTg5YzEiCiAgICAgIHN0RXZ0OndoZW49IjIwMTktMTItMDRUMTE6Mjk6MDcrMDM6MDAiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjZmYzc4ODQtZWYxMy1iNTRkLTk0ZGMtMDI5OTYxYWE2ZDBkIgogICAgICBzdEV2dDp3aGVuPSIyMDE5LTEyLTA0VDExOjI5OjA3KzAzOjAwIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvbWV0YWRhdGEiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8eG1wTU06RGVyaXZlZEZyb20KICAgIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZTc2ZGE2ZWMtMmUzYy0zMTRkLTkyZjEtNThkNzJjNTJhMzMyIgogICAgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDplNzZkYTZlYy0yZTNjLTMxNGQtOTJmMS01OGQ3MmM1MmEzMzIiCiAgICBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGRlZDQ2NDQtNDk4Zi0xZDRlLTk1MjctMWExZjNlYjI2NzM1Ii8+CiAgIDx4bXBNTTpJbmdyZWRpZW50cz4KICAgIDxyZGY6QmFnPgogICAgIDxyZGY6bGkKICAgICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpiZWMzNTdhOS05MGJmLWFjNDAtYjk2OS00NDIwMjNiMzI0YjEiCiAgICAgIHN0UmVmOmZyb21QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgc3RSZWY6bWFza01hcmtlcnM9Ik5vbmUiLz4KICAgIDwvcmRmOkJhZz4KICAgPC94bXBNTTpJbmdyZWRpZW50cz4KICAgPHhtcE1NOlBhbnRyeT4KICAgIDxyZGY6QmFnPgogICAgIDxyZGY6bGk+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24KICAgICAgIGRjOmZvcm1hdD0iYXBwbGljYXRpb24vdm5kLmFkb2JlLmFmdGVyZWZmZWN0cy5sYXllciIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzhhNWE2MmItYzAzYy03YzQxLWIzMGQtMTk0OTFkOTJhZmFlIj4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5CYWNrZ3JvdW5kPC9yZGY6bGk+CiAgICAgICA8L3JkZjpBbHQ+CiAgICAgIDwvZGM6dGl0bGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgIDwvcmRmOmxpPgogICAgIDxyZGY6bGk+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24KICAgICAgIGRjOmZvcm1hdD0iYXBwbGljYXRpb24vdm5kLmFkb2JlLmFmdGVyZWZmZWN0cy5sYXllciIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODYxOGExZTUtMzY4Yy0wYjQ5LWJkNDctNzI0NmFkOTU3MmZjIj4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5tYXNrMzwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMubGF5ZXIiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk0YjA5MTY2LTVmZWQtNzA0OS04YzQ4LWExODQwNjY3MjJlZiI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+cGhvdG8yPC9yZGY6bGk+CiAgICAgICA8L3JkZjpBbHQ+CiAgICAgIDwvZGM6dGl0bGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgIDwvcmRmOmxpPgogICAgIDxyZGY6bGk+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24KICAgICAgIGRjOmZvcm1hdD0iYXBwbGljYXRpb24vdm5kLmFkb2JlLmFmdGVyZWZmZWN0cy5sYXllciIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YWQ2ZWFiMmYtMWMxNS1jZjQ0LTg5YzgtNWJlZWVmMjUwOTA4Ij4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5waG90bzE8L3JkZjpsaT4KICAgICAgIDwvcmRmOkFsdD4KICAgICAgPC9kYzp0aXRsZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgPC9yZGY6bGk+CiAgICAgPHJkZjpsaT4KICAgICAgPHJkZjpEZXNjcmlwdGlvbgogICAgICAgZGM6Zm9ybWF0PSJhcHBsaWNhdGlvbi92bmQuYWRvYmUuYWZ0ZXJlZmZlY3RzLmNvbXAiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmJlYzM1N2E5LTkwYmYtYWM0MC1iOTY5LTQ0MjAyM2IzMjRiMSI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+cGhvdG8tZ2FsbGVyeSAyPC9yZGY6bGk+CiAgICAgICA8L3JkZjpBbHQ+CiAgICAgIDwvZGM6dGl0bGU+CiAgICAgIDx4bXBNTTpJbmdyZWRpZW50cz4KICAgICAgIDxyZGY6QmFnPgogICAgICAgIDxyZGY6bGkKICAgICAgICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OGE1YTYyYi1jMDNjLTdjNDEtYjMwZC0xOTQ5MWQ5MmFmYWUiCiAgICAgICAgIHN0UmVmOmZyb21QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6bWFza01hcmtlcnM9Ik5vbmUiLz4KICAgICAgICA8cmRmOmxpCiAgICAgICAgIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODYxOGExZTUtMzY4Yy0wYjQ5LWJkNDctNzI0NmFkOTU3MmZjIgogICAgICAgICBzdFJlZjpmcm9tUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOnRvUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICAgPHJkZjpsaQogICAgICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk0YjA5MTY2LTVmZWQtNzA0OS04YzQ4LWExODQwNjY3MjJlZiIKICAgICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjp0b1BhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjptYXNrTWFya2Vycz0iTm9uZSIvPgogICAgICAgIDxyZGY6bGkKICAgICAgICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphZDZlYWIyZi0xYzE1LWNmNDQtODljOC01YmVlZWYyNTA5MDgiCiAgICAgICAgIHN0UmVmOmZyb21QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkMjk2MzUyMDAwMDAwZjI1NDAxNjAwMDAwMCIKICAgICAgICAgc3RSZWY6bWFza01hcmtlcnM9Ik5vbmUiLz4KICAgICAgICA8cmRmOmxpCiAgICAgICAgIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YzkwOWFiOGMtY2IxZC01ZDQxLWJkNDgtMzU2MDQ4NmZkNmE2IgogICAgICAgICBzdFJlZjpmcm9tUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOnRvUGFydD0idGltZTowZDI5NjM1MjAwMDAwMGYyNTQwMTYwMDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICAgPHJkZjpsaQogICAgICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmYxY2I0ODQ2LTNmNDItZDk0ZS05MmI4LTVjOTQyNjk4N2JkMyIKICAgICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjp0b1BhcnQ9InRpbWU6MGQyOTYzNTIwMDAwMDBmMjU0MDE2MDAwMDAwIgogICAgICAgICBzdFJlZjptYXNrTWFya2Vycz0iTm9uZSIvPgogICAgICAgPC9yZGY6QmFnPgogICAgICA8L3htcE1NOkluZ3JlZGllbnRzPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMubGF5ZXIiCiAgICAgICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmM5MDlhYjhjLWNiMWQtNWQ0MS1iZDQ4LTM1NjA0ODZmZDZhNiI+CiAgICAgIDxkYzp0aXRsZT4KICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+bWFzazE8L3JkZjpsaT4KICAgICAgIDwvcmRmOkFsdD4KICAgICAgPC9kYzp0aXRsZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgPC9yZGY6bGk+CiAgICAgPHJkZjpsaT4KICAgICAgPHJkZjpEZXNjcmlwdGlvbgogICAgICAgZGM6Zm9ybWF0PSJhcHBsaWNhdGlvbi92bmQuYWRvYmUuYWZ0ZXJlZmZlY3RzLmxheWVyIgogICAgICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmMWNiNDg0Ni0zZjQyLWQ5NGUtOTJiOC01Yzk0MjY5ODdiZDMiPgogICAgICA8ZGM6dGl0bGU+CiAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPnBob3RvMzwvcmRmOmxpPgogICAgICAgPC9yZGY6QWx0PgogICAgICA8L2RjOnRpdGxlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICA8L3JkZjpsaT4KICAgIDwvcmRmOkJhZz4KICAgPC94bXBNTTpQYW50cnk+CiAgIDx4bXBETTp2aWRlb0ZyYW1lU2l6ZQogICAgc3REaW06dz0iNTAiCiAgICBzdERpbTpoPSI1MCIKICAgIHN0RGltOnVuaXQ9InBpeGVsIi8+CiAgIDx4bXBETTpkdXJhdGlvbgogICAgeG1wRE06dmFsdWU9IjI4IgogICAgeG1wRE06c2NhbGU9IjEvMjQiLz4KICAgPHhtcERNOnN0YXJ0VGltZWNvZGUKICAgIHhtcERNOnRpbWVGb3JtYXQ9IjI0VGltZWNvZGUiCiAgICB4bXBETTp0aW1lVmFsdWU9IjAwOjAwOjAwOjAwIi8+CiAgIDx4bXBETTphbHRUaW1lY29kZQogICAgeG1wRE06dGltZVZhbHVlPSIwMDowMDowMDowMCIKICAgIHhtcERNOnRpbWVGb3JtYXQ9IjI0VGltZWNvZGUiLz4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAA7"},p.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},p.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},p.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},p.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},p.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},p.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},p.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},p.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},p.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},p.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},p.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},p.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},p.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},p.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},p.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},p.prototype.getStatusSpan=function(){return document.getElementById(this.getStatusSpanId())},p.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},p}();_=U})();var Html5Qrcode=window._.Html5Qrcode,Html5QrcodeScanner=window._.Html5QrcodeScanner,Html5QrcodeSupportedFormats=window._.Html5QrcodeSupportedFormats;!function(S){"object"==typeof exports&&typeof module<"u"?module.exports=S():"function"==typeof define&&define.amd?define([],S):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).QRCode=S()}(function(){return function S(we,U,v){function I(M,P){if(!U[M]){if(!we[M]){var Y="function"==typeof require&&require;if(!P&&Y)return Y(M,!0);if(T)return T(M,!0);var V=new Error("Cannot find module '"+M+"'");throw V.code="MODULE_NOT_FOUND",V}var q=U[M]={exports:{}};we[M][0].call(q.exports,function(fe){return I(we[M][1][fe]||fe)},q,q.exports,S,we,U,v)}return U[M].exports}for(var T="function"==typeof require&&require,E=0;E<v.length;E++)I(v[E]);return I}({1:[function(S,we,U){we.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],2:[function(S,we,U){var v=S("./utils").getSymbolSize;U.getRowColCoords=function(I){if(1===I)return[];for(var T=Math.floor(I/7)+2,E=v(I),M=145===E?26:2*Math.ceil((E-13)/(2*T-2)),P=[E-7],Y=1;Y<T-1;Y++)P[Y]=P[Y-1]-M;return P.push(6),P.reverse()},U.getPositions=function(I){for(var T=[],E=U.getRowColCoords(I),M=E.length,P=0;P<M;P++)for(var Y=0;Y<M;Y++)0===P&&0===Y||0===P&&Y===M-1||P===M-1&&0===Y||T.push([E[P],E[Y]]);return T}},{"./utils":21}],3:[function(S,we,U){function v(E){this.mode=I.ALPHANUMERIC,this.data=E}var I=S("./mode"),T=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];v.getBitsLength=function(E){return 11*Math.floor(E/2)+E%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){var M;for(M=0;M+2<=this.data.length;M+=2){var P=45*T.indexOf(this.data[M]);P+=T.indexOf(this.data[M+1]),E.put(P,11)}this.data.length%2&&E.put(T.indexOf(this.data[M]),6)},we.exports=v},{"./mode":14}],4:[function(S,we,U){function v(){this.buffer=[],this.length=0}v.prototype={get:function(I){var T=Math.floor(I/8);return 1==(this.buffer[T]>>>7-I%8&1)},put:function(I,T){for(var E=0;E<T;E++)this.putBit(1==(I>>>T-E-1&1))},getLengthInBits:function(){return this.length},putBit:function(I){var T=Math.floor(this.length/8);this.buffer.length<=T&&this.buffer.push(0),I&&(this.buffer[T]|=128>>>this.length%8),this.length++}},we.exports=v},{}],5:[function(S,we,U){function v(T){if(!T||T<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=T,this.data=I.alloc(T*T),this.reservedBit=I.alloc(T*T)}var I=S("../utils/buffer");v.prototype.set=function(T,E,M,P){var Y=T*this.size+E;this.data[Y]=M,P&&(this.reservedBit[Y]=!0)},v.prototype.get=function(T,E){return this.data[T*this.size+E]},v.prototype.xor=function(T,E,M){this.data[T*this.size+E]^=M},v.prototype.isReserved=function(T,E){return this.reservedBit[T*this.size+E]},we.exports=v},{"../utils/buffer":28}],6:[function(S,we,U){function v(E){this.mode=T.BYTE,this.data=I.from(E)}var I=S("../utils/buffer"),T=S("./mode");v.getBitsLength=function(E){return 8*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){for(var M=0,P=this.data.length;M<P;M++)E.put(this.data[M],8)},we.exports=v},{"../utils/buffer":28,"./mode":14}],7:[function(S,we,U){var v=S("./error-correction-level"),I=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],T=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];U.getBlocksCount=function(E,M){switch(M){case v.L:return I[4*(E-1)+0];case v.M:return I[4*(E-1)+1];case v.Q:return I[4*(E-1)+2];case v.H:return I[4*(E-1)+3];default:return}},U.getTotalCodewordsCount=function(E,M){switch(M){case v.L:return T[4*(E-1)+0];case v.M:return T[4*(E-1)+1];case v.Q:return T[4*(E-1)+2];case v.H:return T[4*(E-1)+3];default:return}}},{"./error-correction-level":8}],8:[function(S,we,U){U.L={bit:1},U.M={bit:0},U.Q={bit:3},U.H={bit:2},U.isValid=function(I){return I&&void 0!==I.bit&&I.bit>=0&&I.bit<4},U.from=function(I,T){if(U.isValid(I))return I;try{return function v(I){if("string"!=typeof I)throw new Error("Param is not a string");switch(I.toLowerCase()){case"l":case"low":return U.L;case"m":case"medium":return U.M;case"q":case"quartile":return U.Q;case"h":case"high":return U.H;default:throw new Error("Unknown EC Level: "+I)}}(I)}catch{return T}}},{}],9:[function(S,we,U){var v=S("./utils").getSymbolSize;U.getPositions=function(I){var T=v(I);return[[0,0],[T-7,0],[0,T-7]]}},{"./utils":21}],10:[function(S,we,U){var v=S("./utils"),I=v.getBCHDigit(1335);U.getEncodedBits=function(T,E){for(var M=T.bit<<3|E,P=M<<10;v.getBCHDigit(P)-I>=0;)P^=1335<<v.getBCHDigit(P)-I;return 21522^(M<<10|P)}},{"./utils":21}],11:[function(S,we,U){var v=S("../utils/buffer"),I=v.alloc(512),T=v.alloc(256);(function(){for(var E=1,M=0;M<255;M++)I[M]=E,T[E]=M,256&(E<<=1)&&(E^=285);for(M=255;M<512;M++)I[M]=I[M-255]})(),U.log=function(E){if(E<1)throw new Error("log("+E+")");return T[E]},U.exp=function(E){return I[E]},U.mul=function(E,M){return 0===E||0===M?0:I[T[E]+T[M]]}},{"../utils/buffer":28}],12:[function(S,we,U){function v(E){this.mode=I.KANJI,this.data=E}var I=S("./mode"),T=S("./utils");v.getBitsLength=function(E){return 13*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){var M;for(M=0;M<this.data.length;M++){var P=T.toSJIS(this.data[M]);if(P>=33088&&P<=40956)P-=33088;else{if(!(P>=57408&&P<=60351))throw new Error("Invalid SJIS character: "+this.data[M]+"\nMake sure your charset is UTF-8");P-=49472}E.put(P=192*(P>>>8&255)+(255&P),13)}},we.exports=v},{"./mode":14,"./utils":21}],13:[function(S,we,U){function v(T,E,M){switch(T){case U.Patterns.PATTERN000:return(E+M)%2==0;case U.Patterns.PATTERN001:return E%2==0;case U.Patterns.PATTERN010:return M%3==0;case U.Patterns.PATTERN011:return(E+M)%3==0;case U.Patterns.PATTERN100:return(Math.floor(E/2)+Math.floor(M/3))%2==0;case U.Patterns.PATTERN101:return E*M%2+E*M%3==0;case U.Patterns.PATTERN110:return(E*M%2+E*M%3)%2==0;case U.Patterns.PATTERN111:return(E*M%3+(E+M)%2)%2==0;default:throw new Error("bad maskPattern:"+T)}}U.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};U.isValid=function(T){return null!=T&&""!==T&&!isNaN(T)&&T>=0&&T<=7},U.from=function(T){return U.isValid(T)?parseInt(T,10):void 0},U.getPenaltyN1=function(T){for(var E=T.size,M=0,P=0,Y=0,V=null,q=null,fe=0;fe<E;fe++){P=Y=0,V=q=null;for(var Ae=0;Ae<E;Ae++){var X=T.get(fe,Ae);X===V?P++:(P>=5&&(M+=P-5+3),V=X,P=1),(X=T.get(Ae,fe))===q?Y++:(Y>=5&&(M+=Y-5+3),q=X,Y=1)}P>=5&&(M+=P-5+3),Y>=5&&(M+=Y-5+3)}return M},U.getPenaltyN2=function(T){for(var E=T.size,M=0,P=0;P<E-1;P++)for(var Y=0;Y<E-1;Y++){var V=T.get(P,Y)+T.get(P,Y+1)+T.get(P+1,Y)+T.get(P+1,Y+1);4!==V&&0!==V||M++}return 3*M},U.getPenaltyN3=function(T){for(var E=T.size,M=0,P=0,Y=0,V=0;V<E;V++){P=Y=0;for(var q=0;q<E;q++)P=P<<1&2047|T.get(V,q),q>=10&&(1488===P||93===P)&&M++,Y=Y<<1&2047|T.get(q,V),q>=10&&(1488===Y||93===Y)&&M++}return 40*M},U.getPenaltyN4=function(T){for(var E=0,M=T.data.length,P=0;P<M;P++)E+=T.data[P];return 10*Math.abs(Math.ceil(100*E/M/5)-10)},U.applyMask=function(T,E){for(var M=E.size,P=0;P<M;P++)for(var Y=0;Y<M;Y++)E.isReserved(Y,P)||E.xor(Y,P,v(T,Y,P))},U.getBestMask=function(T,E){for(var M=Object.keys(U.Patterns).length,P=0,Y=1/0,V=0;V<M;V++){E(V),U.applyMask(V,T);var q=U.getPenaltyN1(T)+U.getPenaltyN2(T)+U.getPenaltyN3(T)+U.getPenaltyN4(T);U.applyMask(V,T),q<Y&&(Y=q,P=V)}return P}},{}],14:[function(S,we,U){var I=S("./version-check"),T=S("./regex");U.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},U.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},U.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},U.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},U.MIXED={bit:-1},U.getCharCountIndicator=function(E,M){if(!E.ccBits)throw new Error("Invalid mode: "+E);if(!I.isValid(M))throw new Error("Invalid version: "+M);return M>=1&&M<10?E.ccBits[0]:M<27?E.ccBits[1]:E.ccBits[2]},U.getBestModeForData=function(E){return T.testNumeric(E)?U.NUMERIC:T.testAlphanumeric(E)?U.ALPHANUMERIC:T.testKanji(E)?U.KANJI:U.BYTE},U.toString=function(E){if(E&&E.id)return E.id;throw new Error("Invalid mode")},U.isValid=function(E){return E&&E.bit&&E.ccBits},U.from=function(E,M){if(U.isValid(E))return E;try{return function v(E){if("string"!=typeof E)throw new Error("Param is not a string");switch(E.toLowerCase()){case"numeric":return U.NUMERIC;case"alphanumeric":return U.ALPHANUMERIC;case"kanji":return U.KANJI;case"byte":return U.BYTE;default:throw new Error("Unknown mode: "+E)}}(E)}catch{return M}}},{"./regex":19,"./version-check":22}],15:[function(S,we,U){function v(T){this.mode=I.NUMERIC,this.data=T.toString()}var I=S("./mode");v.getBitsLength=function(T){return 10*Math.floor(T/3)+(T%3?T%3*3+1:0)},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(T){var E,M,P;for(E=0;E+3<=this.data.length;E+=3)M=this.data.substr(E,3),P=parseInt(M,10),T.put(P,10);var Y=this.data.length-E;Y>0&&(M=this.data.substr(E),P=parseInt(M,10),T.put(P,3*Y+1))},we.exports=v},{"./mode":14}],16:[function(S,we,U){var v=S("../utils/buffer"),I=S("./galois-field");U.mul=function(T,E){for(var M=v.alloc(T.length+E.length-1),P=0;P<T.length;P++)for(var Y=0;Y<E.length;Y++)M[P+Y]^=I.mul(T[P],E[Y]);return M},U.mod=function(T,E){for(var M=v.from(T);M.length-E.length>=0;){for(var P=M[0],Y=0;Y<E.length;Y++)M[Y]^=I.mul(E[Y],P);for(var V=0;V<M.length&&0===M[V];)V++;M=M.slice(V)}return M},U.generateECPolynomial=function(T){for(var E=v.from([1]),M=0;M<T;M++)E=U.mul(E,[1,I.exp(M)]);return E}},{"../utils/buffer":28,"./galois-field":11}],17:[function(S,we,U){function M(ae,p,d){var w,N,k=ae.size,b=re.getEncodedBits(p,d);for(w=0;w<15;w++)ae.set(w<6?w:w<8?w+1:k-15+w,8,N=1==(b>>w&1),!0),ae.set(8,w<8?k-w-1:w<9?15-w-1+1:15-w-1,N,!0);ae.set(k-8,8,1,!0)}function q(ae,p,d,w){var N;if(_e(ae))N=W.fromArray(ae);else{if("string"!=typeof ae)throw new Error("Invalid data");var k=p;if(!k){var b=W.rawSplit(ae);k=G.getBestVersionForData(b,d)}N=W.fromString(ae,k||40)}var L=G.getBestVersionForData(N,d);if(!L)throw new Error("The amount of data is too big to be stored in a QR Code");if(p){if(p<L)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+L+".\n")}else p=L;var ee=function Y(ae,p,d){var w=new oe;d.forEach(function(de){w.put(de.mode.bit,4),w.put(de.getLength(),ce.getCharCountIndicator(de.mode,ae)),de.write(w)});var b=8*(Ae.getSymbolTotalCodewords(ae)-F.getTotalCodewordsCount(ae,p));for(w.getLengthInBits()+4<=b&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);for(var L=(b-w.getLengthInBits())/8,ee=0;ee<L;ee++)w.put(ee%2?17:236,8);return function V(ae,p,d){for(var w=Ae.getSymbolTotalCodewords(p),k=w-F.getTotalCodewordsCount(p,d),b=F.getBlocksCount(p,d),ee=b-w%b,de=Math.floor(w/b),te=Math.floor(k/b),me=te+1,Ce=de-te,le=new O(Ce),Ee=0,pe=new Array(b),De=new Array(b),ye=0,He=fe.from(ae.buffer),Te=0;Te<b;Te++){var je=Te<ee?te:me;pe[Te]=He.slice(Ee,Ee+je),De[Te]=le.encode(pe[Te]),Ee+=je,ye=Math.max(ye,je)}var ht,be,pt=fe.alloc(w),ft=0;for(ht=0;ht<ye;ht++)for(be=0;be<b;be++)ht<pe[be].length&&(pt[ft++]=pe[be][ht]);for(ht=0;ht<Ce;ht++)for(be=0;be<b;be++)pt[ft++]=De[be][ht];return pt}(w,ae,p)}(p,d,N),de=Ae.getSymbolSize(p),te=new z(de);return function v(ae,p){for(var d=ae.size,w=j.getPositions(p),N=0;N<w.length;N++)for(var k=w[N][0],b=w[N][1],L=-1;L<=7;L++)if(!(k+L<=-1||d<=k+L))for(var ee=-1;ee<=7;ee++)b+ee<=-1||d<=b+ee||ae.set(k+L,b+ee,L>=0&&L<=6&&(0===ee||6===ee)||ee>=0&&ee<=6&&(0===L||6===L)||L>=2&&L<=4&&ee>=2&&ee<=4,!0)}(te,p),function I(ae){for(var p=ae.size,d=8;d<p-8;d++){var w=d%2==0;ae.set(d,6,w,!0),ae.set(6,d,w,!0)}}(te),function T(ae,p){for(var d=$.getPositions(p),w=0;w<d.length;w++)for(var N=d[w][0],k=d[w][1],b=-2;b<=2;b++)for(var L=-2;L<=2;L++)ae.set(N+b,k+L,-2===b||2===b||-2===L||2===L||0===b&&0===L,!0)}(te,p),M(te,d,0),p>=7&&function E(ae,p){for(var d,w,N,k=ae.size,b=G.getEncodedBits(p),L=0;L<18;L++)d=Math.floor(L/3),ae.set(d,w=L%3+k-8-3,N=1==(b>>L&1),!0),ae.set(w,d,N,!0)}(te,p),function P(ae,p){for(var d=ae.size,w=-1,N=d-1,k=7,b=0,L=d-1;L>0;L-=2)for(6===L&&L--;;){for(var ee=0;ee<2;ee++)if(!ae.isReserved(N,L-ee)){var de=!1;b<p.length&&(de=1==(p[b]>>>k&1)),ae.set(N,L-ee,de),-1==--k&&(b++,k=7)}if((N+=w)<0||d<=N){N-=w,w=-w;break}}}(te,ee),isNaN(w)&&(w=R.getBestMask(te,M.bind(null,te,d))),R.applyMask(w,te),M(te,d,w),{modules:te,version:p,errorCorrectionLevel:d,maskPattern:w,segments:N}}var fe=S("../utils/buffer"),Ae=S("./utils"),X=S("./error-correction-level"),oe=S("./bit-buffer"),z=S("./bit-matrix"),$=S("./alignment-pattern"),j=S("./finder-pattern"),R=S("./mask-pattern"),F=S("./error-correction-code"),O=S("./reed-solomon-encoder"),G=S("./version"),re=S("./format-info"),ce=S("./mode"),W=S("./segments"),_e=S("isarray");U.create=function(ae,p){if(void 0===ae||""===ae)throw new Error("No input text");var d,w,N=X.M;return void 0!==p&&(N=X.from(p.errorCorrectionLevel,X.M),d=G.from(p.version),w=R.from(p.maskPattern),p.toSJISFunc&&Ae.setToSJISFunction(p.toSJISFunc)),q(ae,d,N,w)}},{"../utils/buffer":28,"./alignment-pattern":2,"./bit-buffer":4,"./bit-matrix":5,"./error-correction-code":7,"./error-correction-level":8,"./finder-pattern":9,"./format-info":10,"./mask-pattern":13,"./mode":14,"./reed-solomon-encoder":18,"./segments":20,"./utils":21,"./version":23,isarray:33}],18:[function(S,we,U){function v(M){this.genPoly=void 0,this.degree=M,this.degree&&this.initialize(this.degree)}var I=S("../utils/buffer"),T=S("./polynomial"),E=S("buffer").Buffer;v.prototype.initialize=function(M){this.degree=M,this.genPoly=T.generateECPolynomial(this.degree)},v.prototype.encode=function(M){if(!this.genPoly)throw new Error("Encoder not initialized");var P=I.alloc(this.degree),Y=E.concat([M,P],M.length+this.degree),V=T.mod(Y,this.genPoly),q=this.degree-V.length;if(q>0){var fe=I.alloc(this.degree);return V.copy(fe,q),fe}return V},we.exports=v},{"../utils/buffer":28,"./polynomial":16,buffer:30}],19:[function(S,we,U){var v="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",I="(?:(?![A-Z0-9 $%*+\\-./:]|"+(v=v.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";U.KANJI=new RegExp(v,"g"),U.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),U.BYTE=new RegExp(I,"g"),U.NUMERIC=new RegExp("[0-9]+","g"),U.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var T=new RegExp("^"+v+"$"),E=new RegExp("^[0-9]+$"),M=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");U.testKanji=function(P){return T.test(P)},U.testNumeric=function(P){return E.test(P)},U.testAlphanumeric=function(P){return M.test(P)}},{}],20:[function(S,we,U){function v(R){return unescape(encodeURIComponent(R)).length}function I(R,F,O){for(var G,re=[];null!==(G=R.exec(O));)re.push({data:G[0],index:G.index,mode:F,length:G[0].length});return re}function T(R){var F,O,G=I(z.NUMERIC,q.NUMERIC,R),re=I(z.ALPHANUMERIC,q.ALPHANUMERIC,R);return $.isKanjiModeEnabled()?(F=I(z.BYTE,q.BYTE,R),O=I(z.KANJI,q.KANJI,R)):(F=I(z.BYTE_KANJI,q.BYTE,R),O=[]),G.concat(re,F,O).sort(function(ce,W){return ce.index-W.index}).map(function(ce){return{data:ce.data,mode:ce.mode,length:ce.length}})}function E(R,F){switch(F){case q.NUMERIC:return fe.getBitsLength(R);case q.ALPHANUMERIC:return Ae.getBitsLength(R);case q.KANJI:return oe.getBitsLength(R);case q.BYTE:return X.getBitsLength(R)}}function V(R,F){var O,G=q.getBestModeForData(R);if((O=q.from(F,G))!==q.BYTE&&O.bit<G.bit)throw new Error('"'+R+'" cannot be encoded with mode '+q.toString(O)+".\n Suggested mode is: "+q.toString(G));switch(O!==q.KANJI||$.isKanjiModeEnabled()||(O=q.BYTE),O){case q.NUMERIC:return new fe(R);case q.ALPHANUMERIC:return new Ae(R);case q.KANJI:return new oe(R);case q.BYTE:return new X(R)}}var q=S("./mode"),fe=S("./numeric-data"),Ae=S("./alphanumeric-data"),X=S("./byte-data"),oe=S("./kanji-data"),z=S("./regex"),$=S("./utils"),j=S("dijkstrajs");U.fromArray=function(R){return R.reduce(function(F,O){return"string"==typeof O?F.push(V(O,null)):O.data&&F.push(V(O.data,O.mode)),F},[])},U.fromString=function(R,F){for(var G=function P(R){for(var F=[],O=0;O<R.length;O++){var G=R[O];switch(G.mode){case q.NUMERIC:F.push([G,{data:G.data,mode:q.ALPHANUMERIC,length:G.length},{data:G.data,mode:q.BYTE,length:G.length}]);break;case q.ALPHANUMERIC:F.push([G,{data:G.data,mode:q.BYTE,length:G.length}]);break;case q.KANJI:F.push([G,{data:G.data,mode:q.BYTE,length:v(G.data)}]);break;case q.BYTE:F.push([{data:G.data,mode:q.BYTE,length:v(G.data)}])}}return F}(T(R,$.isKanjiModeEnabled())),re=function Y(R,F){for(var O={},G={start:{}},re=["start"],ce=0;ce<R.length;ce++){for(var W=R[ce],_e=[],ae=0;ae<W.length;ae++){var p=W[ae],d=""+ce+ae;_e.push(d),O[d]={node:p,lastCount:0},G[d]={};for(var w=0;w<re.length;w++){var N=re[w];O[N]&&O[N].node.mode===p.mode?(G[N][d]=E(O[N].lastCount+p.length,p.mode)-E(O[N].lastCount,p.mode),O[N].lastCount+=p.length):(O[N]&&(O[N].lastCount=p.length),G[N][d]=E(p.length,p.mode)+4+q.getCharCountIndicator(p.mode,F))}}re=_e}for(w=0;w<re.length;w++)G[re[w]].end=0;return{map:G,table:O}}(G,F),ce=j.find_path(re.map,"start","end"),W=[],_e=1;_e<ce.length-1;_e++)W.push(re.table[ce[_e]].node);return U.fromArray(function M(R){return R.reduce(function(F,O){var G=F.length-1>=0?F[F.length-1]:null;return G&&G.mode===O.mode?(F[F.length-1].data+=O.data,F):(F.push(O),F)},[])}(W))},U.rawSplit=function(R){return U.fromArray(T(R,$.isKanjiModeEnabled()))}},{"./alphanumeric-data":3,"./byte-data":6,"./kanji-data":12,"./mode":14,"./numeric-data":15,"./regex":19,"./utils":21,dijkstrajs:31}],21:[function(S,we,U){var v,I=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];U.getSymbolSize=function(T){if(!T)throw new Error('"version" cannot be null or undefined');if(T<1||T>40)throw new Error('"version" should be in range from 1 to 40');return 4*T+17},U.getSymbolTotalCodewords=function(T){return I[T]},U.getBCHDigit=function(T){for(var E=0;0!==T;)E++,T>>>=1;return E},U.setToSJISFunction=function(T){if("function"!=typeof T)throw new Error('"toSJISFunc" is not a valid function.');v=T},U.isKanjiModeEnabled=function(){return void 0!==v},U.toSJIS=function(T){return v(T)}},{}],22:[function(S,we,U){U.isValid=function(v){return!isNaN(v)&&v>=1&&v<=40}},{}],23:[function(S,we,U){function I(X,oe){return V.getCharCountIndicator(X,oe)+4}function T(X,oe){var z=0;return X.forEach(function($){var j=I($.mode,oe);z+=j+$.getBitsLength()}),z}var M=S("./utils"),P=S("./error-correction-code"),Y=S("./error-correction-level"),V=S("./mode"),q=S("./version-check"),fe=S("isarray"),Ae=M.getBCHDigit(7973);U.from=function(X,oe){return q.isValid(X)?parseInt(X,10):oe},U.getCapacity=function(X,oe,z){if(!q.isValid(X))throw new Error("Invalid QR Code version");void 0===z&&(z=V.BYTE);var R=8*(M.getSymbolTotalCodewords(X)-P.getTotalCodewordsCount(X,oe));if(z===V.MIXED)return R;var F=R-I(z,X);switch(z){case V.NUMERIC:return Math.floor(F/10*3);case V.ALPHANUMERIC:return Math.floor(F/11*2);case V.KANJI:return Math.floor(F/13);default:return Math.floor(F/8)}},U.getBestVersionForData=function(X,oe){var z,$=Y.from(oe,Y.M);if(fe(X)){if(X.length>1)return function E(X,oe){for(var z=1;z<=40;z++)if(T(X,z)<=U.getCapacity(z,oe,V.MIXED))return z}(X,$);if(0===X.length)return 1;z=X[0]}else z=X;return function v(X,oe,z){for(var $=1;$<=40;$++)if(oe<=U.getCapacity($,z,X))return $}(z.mode,z.getLength(),$)},U.getEncodedBits=function(X){if(!q.isValid(X)||X<7)throw new Error("Invalid QR Code version");for(var oe=X<<12;M.getBCHDigit(oe)-Ae>=0;)oe^=7973<<M.getBCHDigit(oe)-Ae;return X<<12|oe}},{"./error-correction-code":7,"./error-correction-level":8,"./mode":14,"./utils":21,"./version-check":22,isarray:33}],24:[function(S,we,U){function v(P,Y,V,q,fe){var Ae=[].slice.call(arguments,1),X=Ae.length,oe="function"==typeof Ae[X-1];if(!oe&&!I())throw new Error("Callback required as last argument");if(!oe){if(X<1)throw new Error("Too few arguments provided");return 1===X?(V=Y,Y=q=void 0):2!==X||Y.getContext||(q=V,V=Y,Y=void 0),new Promise(function($,j){try{var R=T.create(V,q);$(P(R,Y,q))}catch(F){j(F)}})}if(X<2)throw new Error("Too few arguments provided");2===X?(fe=V,V=Y,Y=q=void 0):3===X&&(Y.getContext&&void 0===fe?(fe=q,q=void 0):(fe=q,q=V,V=Y,Y=void 0));try{var z=T.create(V,q);fe(null,P(z,Y,q))}catch($){fe($)}}var I=S("./can-promise"),T=S("./core/qrcode"),E=S("./renderer/canvas"),M=S("./renderer/svg-tag.js");U.create=T.create,U.toCanvas=v.bind(null,E.render),U.toDataURL=v.bind(null,E.renderToDataURL),U.toString=v.bind(null,function(P,Y,V){return M.render(P,V)})},{"./can-promise":1,"./core/qrcode":17,"./renderer/canvas":25,"./renderer/svg-tag.js":26}],25:[function(S,we,U){var T=S("./utils");U.render=function(E,M,P){var Y=P,V=M;void 0!==Y||M&&M.getContext||(Y=M,M=void 0),M||(V=function I(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),Y=T.getOptions(Y);var q=T.getImageWidth(E.modules.size,Y),fe=V.getContext("2d"),Ae=fe.createImageData(q,q);return T.qrToImageData(Ae.data,E,Y),function v(E,M,P){E.clearRect(0,0,M.width,M.height),M.style||(M.style={}),M.height=P,M.width=P,M.style.height=P+"px",M.style.width=P+"px"}(fe,V,q),fe.putImageData(Ae,0,0),V},U.renderToDataURL=function(E,M,P){var Y=P;return void 0!==Y||M&&M.getContext||(Y=M,M=void 0),Y||(Y={}),U.render(E,M,Y).toDataURL(Y.type||"image/png",(Y.rendererOpts||{}).quality)}},{"./utils":27}],26:[function(S,we,U){function v(M,P){var Y=M.a/255,V=P+'="'+M.hex+'"';return Y<1?V+" "+P+'-opacity="'+Y.toFixed(2).slice(1)+'"':V}function I(M,P,Y){var V=M+P;return void 0!==Y&&(V+=" "+Y),V}var E=S("./utils");U.render=function(M,P,Y){var V=E.getOptions(P),q=M.modules.size,fe=M.modules.data,Ae=q+2*V.margin,X=V.color.light.a?"<path "+v(V.color.light,"fill")+' d="M0 0h'+Ae+"v"+Ae+'H0z"/>':"",oe="<path "+v(V.color.dark,"stroke")+' d="'+function T(M,P,Y){for(var V="",q=0,fe=!1,Ae=0,X=0;X<M.length;X++){var oe=Math.floor(X%P),z=Math.floor(X/P);oe||fe||(fe=!0),M[X]?(Ae++,X>0&&oe>0&&M[X-1]||(V+=fe?I("M",oe+Y,.5+z+Y):I("m",q,0),q=0,fe=!1),oe+1<P&&M[X+1]||(V+=I("h",Ae),Ae=0)):q++}return V}(fe,q,V.margin)+'"/>',j='<svg xmlns="http://www.w3.org/2000/svg" '+(V.width?'width="'+V.width+'" height="'+V.width+'" ':"")+'viewBox="0 0 '+Ae+" "+Ae+'" shape-rendering="crispEdges">'+X+oe+"</svg>\n";return"function"==typeof Y&&Y(null,j),j}},{"./utils":27}],27:[function(S,we,U){function v(I){if("number"==typeof I&&(I=I.toString()),"string"!=typeof I)throw new Error("Color should be defined as hex string");var T=I.slice().replace("#","").split("");if(T.length<3||5===T.length||T.length>8)throw new Error("Invalid hex color: "+I);3!==T.length&&4!==T.length||(T=Array.prototype.concat.apply([],T.map(function(M){return[M,M]}))),6===T.length&&T.push("F","F");var E=parseInt(T.join(""),16);return{r:E>>24&255,g:E>>16&255,b:E>>8&255,a:255&E,hex:"#"+T.slice(0,6).join("")}}U.getOptions=function(I){I||(I={}),I.color||(I.color={});var E=I.width&&I.width>=21?I.width:void 0;return{width:E,scale:E?4:I.scale||4,margin:null==I.margin||I.margin<0?4:I.margin,color:{dark:v(I.color.dark||"#000000ff"),light:v(I.color.light||"#ffffffff")},type:I.type,rendererOpts:I.rendererOpts||{}}},U.getScale=function(I,T){return T.width&&T.width>=I+2*T.margin?T.width/(I+2*T.margin):T.scale},U.getImageWidth=function(I,T){var E=U.getScale(I,T);return Math.floor((I+2*T.margin)*E)},U.qrToImageData=function(I,T,E){for(var M=T.modules.size,P=T.modules.data,Y=U.getScale(M,E),V=Math.floor((M+2*E.margin)*Y),q=E.margin*Y,fe=[E.color.light,E.color.dark],Ae=0;Ae<V;Ae++)for(var X=0;X<V;X++){var oe=4*(Ae*V+X),z=E.color.light;Ae>=q&&X>=q&&Ae<V-q&&X<V-q&&(z=fe[P[Math.floor((Ae-q)/Y)*M+Math.floor((X-q)/Y)]?1:0]),I[oe++]=z.r,I[oe++]=z.g,I[oe++]=z.b,I[oe]=z.a}}},{}],28:[function(S,we,U){"use strict";function v(R,F,O){return v.TYPED_ARRAY_SUPPORT||this instanceof v?"number"==typeof R?M(this,R):function z(R,F,O,G){if("number"==typeof F)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&F instanceof ArrayBuffer?function V(R,F,O,G){if(O<0||F.byteLength<O)throw new RangeError("'offset' is out of bounds");if(F.byteLength<O+(G||0))throw new RangeError("'length' is out of bounds");var re;return re=void 0===O&&void 0===G?new Uint8Array(F):void 0===G?new Uint8Array(F,O):new Uint8Array(F,O,G),v.TYPED_ARRAY_SUPPORT?re.__proto__=v.prototype:re=Y(R,re),re}(R,F,O,G):"string"==typeof F?function P(R,F){var O=0|Ae(F),G=E(R,O),re=G.write(F);return re!==O&&(G=G.slice(0,re)),G}(R,F):function q(R,F){if(v.isBuffer(F)){var O=0|I(F.length),G=E(R,O);return 0===G.length||F.copy(G,0,0,O),G}if(F){if(typeof ArrayBuffer<"u"&&F.buffer instanceof ArrayBuffer||"length"in F)return"number"!=typeof F.length||function T(R){return R!=R}(F.length)?E(R,0):Y(R,F);if("Buffer"===F.type&&Array.isArray(F.data))return Y(R,F.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(R,F)}(this,R,F,O):new v(R,F,O)}function I(R){if(R>=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return 0|R}function E(R,F){var O;return v.TYPED_ARRAY_SUPPORT?(O=new Uint8Array(F)).__proto__=v.prototype:(null===(O=R)&&(O=new v(F)),O.length=F),O}function M(R,F){var O=E(R,F<0?0:0|I(F));if(!v.TYPED_ARRAY_SUPPORT)for(var G=0;G<F;++G)O[G]=0;return O}function Y(R,F){for(var O=F.length<0?0:0|I(F.length),G=E(R,O),re=0;re<O;re+=1)G[re]=255&F[re];return G}function fe(R,F){F=F||1/0;for(var O,G=R.length,re=null,ce=[],W=0;W<G;++W){if((O=R.charCodeAt(W))>55295&&O<57344){if(!re){if(O>56319){(F-=3)>-1&&ce.push(239,191,189);continue}if(W+1===G){(F-=3)>-1&&ce.push(239,191,189);continue}re=O;continue}if(O<56320){(F-=3)>-1&&ce.push(239,191,189),re=O;continue}O=65536+(re-55296<<10|O-56320)}else re&&(F-=3)>-1&&ce.push(239,191,189);if(re=null,O<128){if((F-=1)<0)break;ce.push(O)}else if(O<2048){if((F-=2)<0)break;ce.push(O>>6|192,63&O|128)}else if(O<65536){if((F-=3)<0)break;ce.push(O>>12|224,O>>6&63|128,63&O|128)}else{if(!(O<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;ce.push(O>>18|240,O>>12&63|128,O>>6&63|128,63&O|128)}}return ce}function Ae(R){return v.isBuffer(R)?R.length:typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(R)||R instanceof ArrayBuffer)?R.byteLength:("string"!=typeof R&&(R=""+R),0===R.length?0:fe(R).length)}var $=S("isarray"),j=(v.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1);return R.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===R.foo()}catch{return!1}}())?2147483647:1073741823;v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),v.prototype.write=function(R,F,O){void 0===F||void 0===O&&"string"==typeof F?(O=this.length,F=0):isFinite(F)&&(F|=0,isFinite(O)?O|=0:O=void 0);var G=this.length-F;if((void 0===O||O>G)&&(O=G),R.length>0&&(O<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function oe(R,F,O,G){return function X(R,F,O,G){for(var re=0;re<G&&!(re+O>=F.length||re>=R.length);++re)F[re+O]=R[re];return re}(fe(F,R.length-O),R,O,G)}(this,R,F,O)},v.prototype.slice=function(R,F){var G,O=this.length;if((R=~~R)<0?(R+=O)<0&&(R=0):R>O&&(R=O),(F=void 0===F?O:~~F)<0?(F+=O)<0&&(F=0):F>O&&(F=O),F<R&&(F=R),v.TYPED_ARRAY_SUPPORT)(G=this.subarray(R,F)).__proto__=v.prototype;else{var re=F-R;G=new v(re,void 0);for(var ce=0;ce<re;++ce)G[ce]=this[ce+R]}return G},v.prototype.copy=function(R,F,O,G){if(O||(O=0),G||0===G||(G=this.length),F>=R.length&&(F=R.length),F||(F=0),G>0&&G<O&&(G=O),G===O||0===R.length||0===this.length)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("sourceStart out of bounds");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),R.length-F<G-O&&(G=R.length-F+O);var re,ce=G-O;if(this===R&&O<F&&F<G)for(re=ce-1;re>=0;--re)R[re+F]=this[re+O];else if(ce<1e3||!v.TYPED_ARRAY_SUPPORT)for(re=0;re<ce;++re)R[re+F]=this[re+O];else Uint8Array.prototype.set.call(R,this.subarray(O,O+ce),F);return ce},v.prototype.fill=function(R,F,O){if("string"==typeof R){if("string"==typeof F?(F=0,O=this.length):"string"==typeof O&&(O=this.length),1===R.length){var G=R.charCodeAt(0);G<256&&(R=G)}}else"number"==typeof R&&(R&=255);if(F<0||this.length<F||this.length<O)throw new RangeError("Out of range index");if(O<=F)return this;var re;if(F>>>=0,O=void 0===O?this.length:O>>>0,R||(R=0),"number"==typeof R)for(re=F;re<O;++re)this[re]=R;else{var ce=v.isBuffer(R)?R:new v(R),W=ce.length;for(re=0;re<O-F;++re)this[re+F]=ce[re%W]}return this},v.concat=function(R,F){if(!$(R))throw new TypeError('"list" argument must be an Array of Buffers');if(0===R.length)return E(null,0);var O;if(void 0===F)for(F=0,O=0;O<R.length;++O)F+=R[O].length;var G=M(null,F),re=0;for(O=0;O<R.length;++O){var ce=R[O];if(!v.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(G,re),re+=ce.length}return G},v.byteLength=Ae,v.prototype._isBuffer=!0,v.isBuffer=function(R){return!(null==R||!R._isBuffer)},we.exports.alloc=function(R){var F=new v(R);return F.fill(0),F},we.exports.from=function(R){return new v(R)}},{isarray:33}],29:[function(S,we,U){"use strict";function v(z){var $=z.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=z.indexOf("=");return-1===j&&(j=$),[j,j===$?0:4-j%4]}function M(z){return V[z>>18&63]+V[z>>12&63]+V[z>>6&63]+V[63&z]}function P(z,$,j){for(var F=[],O=$;O<j;O+=3)F.push(M((z[O]<<16&16711680)+(z[O+1]<<8&65280)+(255&z[O+2])));return F.join("")}U.byteLength=function I(z){var $=v(z),R=$[1];return 3*($[0]+R)/4-R},U.toByteArray=function E(z){var $,j,R=v(z),F=R[0],O=R[1],G=new fe(function T(z,$,j){return 3*($+j)/4-j}(0,F,O)),re=0,ce=O>0?F-4:F;for(j=0;j<ce;j+=4)$=q[z.charCodeAt(j)]<<18|q[z.charCodeAt(j+1)]<<12|q[z.charCodeAt(j+2)]<<6|q[z.charCodeAt(j+3)],G[re++]=$>>16&255,G[re++]=$>>8&255,G[re++]=255&$;return 2===O&&($=q[z.charCodeAt(j)]<<2|q[z.charCodeAt(j+1)]>>4,G[re++]=255&$),1===O&&($=q[z.charCodeAt(j)]<<10|q[z.charCodeAt(j+1)]<<4|q[z.charCodeAt(j+2)]>>2,G[re++]=$>>8&255,G[re++]=255&$),G},U.fromByteArray=function Y(z){for(var $,j=z.length,R=j%3,F=[],O=0,G=j-R;O<G;O+=16383)F.push(P(z,O,O+16383>G?G:O+16383));return 1===R?F.push(V[($=z[j-1])>>2]+V[$<<4&63]+"=="):2===R&&F.push(V[($=(z[j-2]<<8)+z[j-1])>>10]+V[$>>4&63]+V[$<<2&63]+"="),F.join("")};for(var V=[],q=[],fe=typeof Uint8Array<"u"?Uint8Array:Array,Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=0;X<64;++X)V[X]=Ae[X],q[Ae.charCodeAt(X)]=X;q["-".charCodeAt(0)]=62,q["_".charCodeAt(0)]=63},{}],30:[function(S,we,U){"use strict";function v(l){if(l>be)throw new RangeError('The value "'+l+'" is invalid for option "size"');var c=new Uint8Array(l);return Object.setPrototypeOf(c,I.prototype),c}function I(l,c,C){if("number"==typeof l){if("string"==typeof c)throw new TypeError('The "string" argument must be of type string. Received type number');return P(l)}return T(l,c,C)}function T(l,c,C){if("string"==typeof l)return function Y(l,c){if("string"==typeof c&&""!==c||(c="utf8"),!I.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var C=0|oe(l,c),B=v(C),J=B.write(l,c);return J!==C&&(B=B.slice(0,J)),B}(l,c);if(ArrayBuffer.isView(l))return V(l);if(null==l)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(ye(l,ArrayBuffer)||l&&ye(l.buffer,ArrayBuffer))return function q(l,c,C){if(c<0||l.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<c+(C||0))throw new RangeError('"length" is outside of buffer bounds');var B;return B=void 0===c&&void 0===C?new Uint8Array(l):void 0===C?new Uint8Array(l,c):new Uint8Array(l,c,C),Object.setPrototypeOf(B,I.prototype),B}(l,c,C);if("number"==typeof l)throw new TypeError('The "value" argument must not be of type number. Received type number');var B=l.valueOf&&l.valueOf();if(null!=B&&B!==l)return I.from(B,c,C);var J=function fe(l){if(I.isBuffer(l)){var c=0|Ae(l.length),C=v(c);return 0===C.length||l.copy(C,0,0,c),C}return void 0!==l.length?"number"!=typeof l.length||He(l.length)?v(0):V(l):"Buffer"===l.type&&Array.isArray(l.data)?V(l.data):void 0}(l);if(J)return J;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof l[Symbol.toPrimitive])return I.from(l[Symbol.toPrimitive]("string"),c,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function E(l){if("number"!=typeof l)throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function P(l){return E(l),v(l<0?0:0|Ae(l))}function V(l){for(var c=l.length<0?0:0|Ae(l.length),C=v(c),B=0;B<c;B+=1)C[B]=255&l[B];return C}function Ae(l){if(l>=be)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+be.toString(16)+" bytes");return 0|l}function oe(l,c){if(I.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||ye(l,ArrayBuffer))return l.byteLength;if("string"!=typeof l)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var C=l.length,B=arguments.length>2&&!0===arguments[2];if(!B&&0===C)return 0;for(var J=!1;;)switch(c){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Ce(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*C;case"hex":return C>>>1;case"base64":return pe(l).length;default:if(J)return B?-1:Ce(l).length;c=(""+c).toLowerCase(),J=!0}}function z(l,c,C){var B=!1;if((void 0===c||c<0)&&(c=0),c>this.length||((void 0===C||C>this.length)&&(C=this.length),C<=0)||(C>>>=0)<=(c>>>=0))return"";for(l||(l="utf8");;)switch(l){case"hex":return N(this,c,C);case"utf8":case"utf-8":return ae(this,c,C);case"ascii":return d(this,c,C);case"latin1":case"binary":return w(this,c,C);case"base64":return _e(this,c,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,c,C);default:if(B)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),B=!0}}function $(l,c,C){var B=l[c];l[c]=l[C],l[C]=B}function j(l,c,C,B,J){if(0===l.length)return-1;if("string"==typeof C?(B=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),He(C=+C)&&(C=J?0:l.length-1),C<0&&(C=l.length+C),C>=l.length){if(J)return-1;C=l.length-1}else if(C<0){if(!J)return-1;C=0}if("string"==typeof c&&(c=I.from(c,B)),I.isBuffer(c))return 0===c.length?-1:R(l,c,C,B,J);if("number"==typeof c)return c&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(l,c,C):Uint8Array.prototype.lastIndexOf.call(l,c,C):R(l,[c],C,B,J);throw new TypeError("val must be string, number or Buffer")}function R(l,c,C,B,J){function ie(Zt,tt){return 1===Se?Zt[tt]:Zt.readUInt16BE(tt*Se)}var Xe,Se=1,xe=l.length,Ze=c.length;if(void 0!==B&&("ucs2"===(B=String(B).toLowerCase())||"ucs-2"===B||"utf16le"===B||"utf-16le"===B)){if(l.length<2||c.length<2)return-1;Se=2,xe/=2,Ze/=2,C/=2}if(J){var Ve=-1;for(Xe=C;Xe<xe;Xe++)if(ie(l,Xe)===ie(c,-1===Ve?0:Xe-Ve)){if(-1===Ve&&(Ve=Xe),Xe-Ve+1===Ze)return Ve*Se}else-1!==Ve&&(Xe-=Xe-Ve),Ve=-1}else for(C+Ze>xe&&(C=xe-Ze),Xe=C;Xe>=0;Xe--){for(var We=!0,Qt=0;Qt<Ze;Qt++)if(ie(l,Xe+Qt)!==ie(c,Qt)){We=!1;break}if(We)return Xe}return-1}function F(l,c,C,B){C=Number(C)||0;var J=l.length-C;B?(B=Number(B))>J&&(B=J):B=J;var ie=c.length;B>ie/2&&(B=ie/2);for(var Se=0;Se<B;++Se){var xe=parseInt(c.substr(2*Se,2),16);if(He(xe))return Se;l[C+Se]=xe}return Se}function O(l,c,C,B){return De(Ce(c,l.length-C),l,C,B)}function G(l,c,C,B){return De(function le(l){for(var c=[],C=0;C<l.length;++C)c.push(255&l.charCodeAt(C));return c}(c),l,C,B)}function re(l,c,C,B){return G(l,c,C,B)}function ce(l,c,C,B){return De(pe(c),l,C,B)}function W(l,c,C,B){return De(function Ee(l,c){for(var C,B,ie=[],Se=0;Se<l.length&&!((c-=2)<0);++Se)B=(C=l.charCodeAt(Se))>>8,ie.push(C%256),ie.push(B);return ie}(c,l.length-C),l,C,B)}function _e(l,c,C){return Te.fromByteArray(0===c&&C===l.length?l:l.slice(c,C))}function ae(l,c,C){C=Math.min(l.length,C);for(var B=[],J=c;J<C;){var Ze,Xe,Ve,We,ie=l[J],Se=null,xe=ie>239?4:ie>223?3:ie>191?2:1;if(J+xe<=C)switch(xe){case 1:ie<128&&(Se=ie);break;case 2:128==(192&(Ze=l[J+1]))&&(We=(31&ie)<<6|63&Ze)>127&&(Se=We);break;case 3:Xe=l[J+2],128==(192&(Ze=l[J+1]))&&128==(192&Xe)&&(We=(15&ie)<<12|(63&Ze)<<6|63&Xe)>2047&&(We<55296||We>57343)&&(Se=We);break;case 4:Xe=l[J+2],Ve=l[J+3],128==(192&(Ze=l[J+1]))&&128==(192&Xe)&&128==(192&Ve)&&(We=(15&ie)<<18|(63&Ze)<<12|(63&Xe)<<6|63&Ve)>65535&&We<1114112&&(Se=We)}null===Se?(Se=65533,xe=1):Se>65535&&(B.push((Se-=65536)>>>10&1023|55296),Se=56320|1023&Se),B.push(Se),J+=xe}return function p(l){var c=l.length;if(c<=pt)return String.fromCharCode.apply(String,l);for(var C="",B=0;B<c;)C+=String.fromCharCode.apply(String,l.slice(B,B+=pt));return C}(B)}function d(l,c,C){var B="";C=Math.min(l.length,C);for(var J=c;J<C;++J)B+=String.fromCharCode(127&l[J]);return B}function w(l,c,C){var B="";C=Math.min(l.length,C);for(var J=c;J<C;++J)B+=String.fromCharCode(l[J]);return B}function N(l,c,C){var B=l.length;(!c||c<0)&&(c=0),(!C||C<0||C>B)&&(C=B);for(var J="",ie=c;ie<C;++ie)J+=Ut[l[ie]];return J}function k(l,c,C){for(var B=l.slice(c,C),J="",ie=0;ie<B.length;ie+=2)J+=String.fromCharCode(B[ie]+256*B[ie+1]);return J}function b(l,c,C){if(l%1!=0||l<0)throw new RangeError("offset is not uint");if(l+c>C)throw new RangeError("Trying to access beyond buffer length")}function L(l,c,C,B,J,ie){if(!I.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>J||c<ie)throw new RangeError('"value" argument is out of bounds');if(C+B>l.length)throw new RangeError("Index out of range")}function ee(l,c,C,B,J,ie){if(C+B>l.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function de(l,c,C,B,J){return c=+c,C>>>=0,J||ee(l,0,C,4),je.write(l,c,C,B,23,4),C+4}function te(l,c,C,B,J){return c=+c,C>>>=0,J||ee(l,0,C,8),je.write(l,c,C,B,52,8),C+8}function Ce(l,c){c=c||1/0;for(var C,B=l.length,J=null,ie=[],Se=0;Se<B;++Se){if((C=l.charCodeAt(Se))>55295&&C<57344){if(!J){if(C>56319){(c-=3)>-1&&ie.push(239,191,189);continue}if(Se+1===B){(c-=3)>-1&&ie.push(239,191,189);continue}J=C;continue}if(C<56320){(c-=3)>-1&&ie.push(239,191,189),J=C;continue}C=65536+(J-55296<<10|C-56320)}else J&&(c-=3)>-1&&ie.push(239,191,189);if(J=null,C<128){if((c-=1)<0)break;ie.push(C)}else if(C<2048){if((c-=2)<0)break;ie.push(C>>6|192,63&C|128)}else if(C<65536){if((c-=3)<0)break;ie.push(C>>12|224,C>>6&63|128,63&C|128)}else{if(!(C<1114112))throw new Error("Invalid code point");if((c-=4)<0)break;ie.push(C>>18|240,C>>12&63|128,C>>6&63|128,63&C|128)}}return ie}function pe(l){return Te.toByteArray(function me(l){if((l=(l=l.split("=")[0]).trim().replace(ft,"")).length<2)return"";for(;l.length%4!=0;)l+="=";return l}(l))}function De(l,c,C,B){for(var J=0;J<B&&!(J+C>=c.length||J>=l.length);++J)c[J+C]=l[J];return J}function ye(l,c){return l instanceof c||null!=l&&null!=l.constructor&&null!=l.constructor.name&&l.constructor.name===c.name}function He(l){return l!=l}var Te=S("base64-js"),je=S("ieee754"),ht="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=I,U.SlowBuffer=function X(l){return+l!=l&&(l=0),I.alloc(+l)},U.INSPECT_MAX_BYTES=50;var be=2147483647;U.kMaxLength=be,(I.TYPED_ARRAY_SUPPORT=function(){try{var l=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(l,c),42===l.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&I[Symbol.species]===I&&Object.defineProperty(I,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),I.poolSize=8192,I.from=function(l,c,C){return T(l,c,C)},Object.setPrototypeOf(I.prototype,Uint8Array.prototype),Object.setPrototypeOf(I,Uint8Array),I.alloc=function(l,c,C){return function M(l,c,C){return E(l),l<=0?v(l):void 0!==c?"string"==typeof C?v(l).fill(c,C):v(l).fill(c):v(l)}(l,c,C)},I.allocUnsafe=function(l){return P(l)},I.allocUnsafeSlow=function(l){return P(l)},I.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==I.prototype},I.compare=function(l,c){if(ye(l,Uint8Array)&&(l=I.from(l,l.offset,l.byteLength)),ye(c,Uint8Array)&&(c=I.from(c,c.offset,c.byteLength)),!I.isBuffer(l)||!I.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===c)return 0;for(var C=l.length,B=c.length,J=0,ie=Math.min(C,B);J<ie;++J)if(l[J]!==c[J]){C=l[J],B=c[J];break}return C<B?-1:B<C?1:0},I.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(l,c){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return I.alloc(0);var C;if(void 0===c)for(c=0,C=0;C<l.length;++C)c+=l[C].length;var B=I.allocUnsafe(c),J=0;for(C=0;C<l.length;++C){var ie=l[C];if(ye(ie,Uint8Array)&&(ie=I.from(ie)),!I.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(B,J),J+=ie.length}return B},I.byteLength=oe,I.prototype._isBuffer=!0,I.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<l;c+=2)$(this,c,c+1);return this},I.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<l;c+=4)$(this,c,c+3),$(this,c+1,c+2);return this},I.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<l;c+=8)$(this,c,c+7),$(this,c+1,c+6),$(this,c+2,c+5),$(this,c+3,c+4);return this},I.prototype.toString=function(){var l=this.length;return 0===l?"":0===arguments.length?ae(this,0,l):z.apply(this,arguments)},I.prototype.toLocaleString=I.prototype.toString,I.prototype.equals=function(l){if(!I.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||0===I.compare(this,l)},I.prototype.inspect=function(){var l="",c=U.INSPECT_MAX_BYTES;return l=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(l+=" ... "),"<Buffer "+l+">"},ht&&(I.prototype[ht]=I.prototype.inspect),I.prototype.compare=function(l,c,C,B,J){if(ye(l,Uint8Array)&&(l=I.from(l,l.offset,l.byteLength)),!I.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(void 0===c&&(c=0),void 0===C&&(C=l?l.length:0),void 0===B&&(B=0),void 0===J&&(J=this.length),c<0||C>l.length||B<0||J>this.length)throw new RangeError("out of range index");if(B>=J&&c>=C)return 0;if(B>=J)return-1;if(c>=C)return 1;if(this===l)return 0;for(var ie=(J>>>=0)-(B>>>=0),Se=(C>>>=0)-(c>>>=0),xe=Math.min(ie,Se),Ze=this.slice(B,J),Xe=l.slice(c,C),Ve=0;Ve<xe;++Ve)if(Ze[Ve]!==Xe[Ve]){ie=Ze[Ve],Se=Xe[Ve];break}return ie<Se?-1:Se<ie?1:0},I.prototype.includes=function(l,c,C){return-1!==this.indexOf(l,c,C)},I.prototype.indexOf=function(l,c,C){return j(this,l,c,C,!0)},I.prototype.lastIndexOf=function(l,c,C){return j(this,l,c,C,!1)},I.prototype.write=function(l,c,C,B){if(void 0===c)B="utf8",C=this.length,c=0;else if(void 0===C&&"string"==typeof c)B=c,C=this.length,c=0;else{if(!isFinite(c))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");c>>>=0,isFinite(C)?(C>>>=0,void 0===B&&(B="utf8")):(B=C,C=void 0)}var J=this.length-c;if((void 0===C||C>J)&&(C=J),l.length>0&&(C<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var ie=!1;;)switch(B){case"hex":return F(this,l,c,C);case"utf8":case"utf-8":return O(this,l,c,C);case"ascii":return G(this,l,c,C);case"latin1":case"binary":return re(this,l,c,C);case"base64":return ce(this,l,c,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,l,c,C);default:if(ie)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ie=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pt=4096;I.prototype.slice=function(l,c){var C=this.length;(l=~~l)<0?(l+=C)<0&&(l=0):l>C&&(l=C),(c=void 0===c?C:~~c)<0?(c+=C)<0&&(c=0):c>C&&(c=C),c<l&&(c=l);var B=this.subarray(l,c);return Object.setPrototypeOf(B,I.prototype),B},I.prototype.readUIntLE=function(l,c,C){l>>>=0,c>>>=0,C||b(l,c,this.length);for(var B=this[l],J=1,ie=0;++ie<c&&(J*=256);)B+=this[l+ie]*J;return B},I.prototype.readUIntBE=function(l,c,C){l>>>=0,c>>>=0,C||b(l,c,this.length);for(var B=this[l+--c],J=1;c>0&&(J*=256);)B+=this[l+--c]*J;return B},I.prototype.readUInt8=function(l,c){return l>>>=0,c||b(l,1,this.length),this[l]},I.prototype.readUInt16LE=function(l,c){return l>>>=0,c||b(l,2,this.length),this[l]|this[l+1]<<8},I.prototype.readUInt16BE=function(l,c){return l>>>=0,c||b(l,2,this.length),this[l]<<8|this[l+1]},I.prototype.readUInt32LE=function(l,c){return l>>>=0,c||b(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},I.prototype.readUInt32BE=function(l,c){return l>>>=0,c||b(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},I.prototype.readIntLE=function(l,c,C){l>>>=0,c>>>=0,C||b(l,c,this.length);for(var B=this[l],J=1,ie=0;++ie<c&&(J*=256);)B+=this[l+ie]*J;return B>=(J*=128)&&(B-=Math.pow(2,8*c)),B},I.prototype.readIntBE=function(l,c,C){l>>>=0,c>>>=0,C||b(l,c,this.length);for(var B=c,J=1,ie=this[l+--B];B>0&&(J*=256);)ie+=this[l+--B]*J;return ie>=(J*=128)&&(ie-=Math.pow(2,8*c)),ie},I.prototype.readInt8=function(l,c){return l>>>=0,c||b(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},I.prototype.readInt16LE=function(l,c){l>>>=0,c||b(l,2,this.length);var C=this[l]|this[l+1]<<8;return 32768&C?4294901760|C:C},I.prototype.readInt16BE=function(l,c){l>>>=0,c||b(l,2,this.length);var C=this[l+1]|this[l]<<8;return 32768&C?4294901760|C:C},I.prototype.readInt32LE=function(l,c){return l>>>=0,c||b(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},I.prototype.readInt32BE=function(l,c){return l>>>=0,c||b(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},I.prototype.readFloatLE=function(l,c){return l>>>=0,c||b(l,4,this.length),je.read(this,l,!0,23,4)},I.prototype.readFloatBE=function(l,c){return l>>>=0,c||b(l,4,this.length),je.read(this,l,!1,23,4)},I.prototype.readDoubleLE=function(l,c){return l>>>=0,c||b(l,8,this.length),je.read(this,l,!0,52,8)},I.prototype.readDoubleBE=function(l,c){return l>>>=0,c||b(l,8,this.length),je.read(this,l,!1,52,8)},I.prototype.writeUIntLE=function(l,c,C,B){l=+l,c>>>=0,C>>>=0,!B&&L(this,l,c,C,Math.pow(2,8*C)-1,0);var J=1,ie=0;for(this[c]=255&l;++ie<C&&(J*=256);)this[c+ie]=l/J&255;return c+C},I.prototype.writeUIntBE=function(l,c,C,B){l=+l,c>>>=0,C>>>=0,!B&&L(this,l,c,C,Math.pow(2,8*C)-1,0);var J=C-1,ie=1;for(this[c+J]=255&l;--J>=0&&(ie*=256);)this[c+J]=l/ie&255;return c+C},I.prototype.writeUInt8=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,1,255,0),this[c]=255&l,c+1},I.prototype.writeUInt16LE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,2,65535,0),this[c]=255&l,this[c+1]=l>>>8,c+2},I.prototype.writeUInt16BE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,2,65535,0),this[c]=l>>>8,this[c+1]=255&l,c+2},I.prototype.writeUInt32LE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,4,4294967295,0),this[c+3]=l>>>24,this[c+2]=l>>>16,this[c+1]=l>>>8,this[c]=255&l,c+4},I.prototype.writeUInt32BE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,4,4294967295,0),this[c]=l>>>24,this[c+1]=l>>>16,this[c+2]=l>>>8,this[c+3]=255&l,c+4},I.prototype.writeIntLE=function(l,c,C,B){if(l=+l,c>>>=0,!B){var J=Math.pow(2,8*C-1);L(this,l,c,C,J-1,-J)}var ie=0,Se=1,xe=0;for(this[c]=255&l;++ie<C&&(Se*=256);)l<0&&0===xe&&0!==this[c+ie-1]&&(xe=1),this[c+ie]=(l/Se>>0)-xe&255;return c+C},I.prototype.writeIntBE=function(l,c,C,B){if(l=+l,c>>>=0,!B){var J=Math.pow(2,8*C-1);L(this,l,c,C,J-1,-J)}var ie=C-1,Se=1,xe=0;for(this[c+ie]=255&l;--ie>=0&&(Se*=256);)l<0&&0===xe&&0!==this[c+ie+1]&&(xe=1),this[c+ie]=(l/Se>>0)-xe&255;return c+C},I.prototype.writeInt8=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,1,127,-128),l<0&&(l=255+l+1),this[c]=255&l,c+1},I.prototype.writeInt16LE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,2,32767,-32768),this[c]=255&l,this[c+1]=l>>>8,c+2},I.prototype.writeInt16BE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,2,32767,-32768),this[c]=l>>>8,this[c+1]=255&l,c+2},I.prototype.writeInt32LE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,4,2147483647,-2147483648),this[c]=255&l,this[c+1]=l>>>8,this[c+2]=l>>>16,this[c+3]=l>>>24,c+4},I.prototype.writeInt32BE=function(l,c,C){return l=+l,c>>>=0,C||L(this,l,c,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[c]=l>>>24,this[c+1]=l>>>16,this[c+2]=l>>>8,this[c+3]=255&l,c+4},I.prototype.writeFloatLE=function(l,c,C){return de(this,l,c,!0,C)},I.prototype.writeFloatBE=function(l,c,C){return de(this,l,c,!1,C)},I.prototype.writeDoubleLE=function(l,c,C){return te(this,l,c,!0,C)},I.prototype.writeDoubleBE=function(l,c,C){return te(this,l,c,!1,C)},I.prototype.copy=function(l,c,C,B){if(!I.isBuffer(l))throw new TypeError("argument should be a Buffer");if(C||(C=0),B||0===B||(B=this.length),c>=l.length&&(c=l.length),c||(c=0),B>0&&B<C&&(B=C),B===C||0===l.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),l.length-c<B-C&&(B=l.length-c+C);var J=B-C;if(this===l&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(c,C,B);else if(this===l&&C<c&&c<B)for(var ie=J-1;ie>=0;--ie)l[ie+c]=this[ie+C];else Uint8Array.prototype.set.call(l,this.subarray(C,B),c);return J},I.prototype.fill=function(l,c,C,B){if("string"==typeof l){if("string"==typeof c?(B=c,c=0,C=this.length):"string"==typeof C&&(B=C,C=this.length),void 0!==B&&"string"!=typeof B)throw new TypeError("encoding must be a string");if("string"==typeof B&&!I.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(1===l.length){var J=l.charCodeAt(0);("utf8"===B&&J<128||"latin1"===B)&&(l=J)}}else"number"==typeof l?l&=255:"boolean"==typeof l&&(l=Number(l));if(c<0||this.length<c||this.length<C)throw new RangeError("Out of range index");if(C<=c)return this;var ie;if(c>>>=0,C=void 0===C?this.length:C>>>0,l||(l=0),"number"==typeof l)for(ie=c;ie<C;++ie)this[ie]=l;else{var Se=I.isBuffer(l)?l:I.from(l,B),xe=Se.length;if(0===xe)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(ie=0;ie<C-c;++ie)this[ie+c]=Se[ie%xe]}return this};var ft=/[^+\/0-9A-Za-z-_]/g,Ut=function(){for(var l=new Array(256),c=0;c<16;++c)for(var C=16*c,B=0;B<16;++B)l[C+B]="0123456789abcdef"[c]+"0123456789abcdef"[B];return l}()},{"base64-js":29,ieee754:32}],31:[function(S,we,U){"use strict";var v={single_source_shortest_paths:function(I,T,E){var M={},P={};P[T]=0;var V,q,fe,Ae,X,z,Y=v.PriorityQueue.make();for(Y.push(T,0);!Y.empty();)for(fe in Ae=(V=Y.pop()).cost,X=I[q=V.value]||{})X.hasOwnProperty(fe)&&(z=Ae+X[fe],(void 0===P[fe]||P[fe]>z)&&(P[fe]=z,Y.push(fe,z),M[fe]=q));if(void 0!==E&&void 0===P[E]){var j=["Could not find a path from ",T," to ",E,"."].join("");throw new Error(j)}return M},extract_shortest_path_from_predecessor_list:function(I,T){for(var E=[],M=T;M;)E.push(M),M=I[M];return E.reverse(),E},find_path:function(I,T,E){var M=v.single_source_shortest_paths(I,T,E);return v.extract_shortest_path_from_predecessor_list(M,E)},PriorityQueue:{make:function(I){var T,E=v.PriorityQueue,M={};for(T in I=I||{},E)E.hasOwnProperty(T)&&(M[T]=E[T]);return M.queue=[],M.sorter=I.sorter||E.default_sorter,M},default_sorter:function(I,T){return I.cost-T.cost},push:function(I,T){this.queue.push({value:I,cost:T}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==we&&(we.exports=v)},{}],32:[function(S,we,U){U.read=function(v,I,T,E,M){var P,Y,V=8*M-E-1,q=(1<<V)-1,fe=q>>1,Ae=-7,X=T?M-1:0,oe=T?-1:1,z=v[I+X];for(X+=oe,P=z&(1<<-Ae)-1,z>>=-Ae,Ae+=V;Ae>0;P=256*P+v[I+X],X+=oe,Ae-=8);for(Y=P&(1<<-Ae)-1,P>>=-Ae,Ae+=E;Ae>0;Y=256*Y+v[I+X],X+=oe,Ae-=8);if(0===P)P=1-fe;else{if(P===q)return Y?NaN:1/0*(z?-1:1);Y+=Math.pow(2,E),P-=fe}return(z?-1:1)*Y*Math.pow(2,P-E)},U.write=function(v,I,T,E,M,P){var Y,V,q,fe=8*P-M-1,Ae=(1<<fe)-1,X=Ae>>1,oe=23===M?Math.pow(2,-24)-Math.pow(2,-77):0,z=E?0:P-1,$=E?1:-1,j=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(V=isNaN(I)?1:0,Y=Ae):(Y=Math.floor(Math.log(I)/Math.LN2),I*(q=Math.pow(2,-Y))<1&&(Y--,q*=2),(I+=Y+X>=1?oe/q:oe*Math.pow(2,1-X))*q>=2&&(Y++,q/=2),Y+X>=Ae?(V=0,Y=Ae):Y+X>=1?(V=(I*q-1)*Math.pow(2,M),Y+=X):(V=I*Math.pow(2,X-1)*Math.pow(2,M),Y=0));M>=8;v[T+z]=255&V,z+=$,V/=256,M-=8);for(Y=Y<<M|V,fe+=M;fe>0;v[T+z]=255&Y,z+=$,Y/=256,fe-=8);v[T+z-$]|=128*j}},{}],33:[function(S,we,U){var v={}.toString;we.exports=Array.isArray||function(I){return"[object Array]"==v.call(I)}},{}]},{},[24])(24)});