[
    "{\n" +
            "        \$match: {\n" +
            "            '_id': ?0\n" +
            "        }\n" +
            "}",

    "{\n" +
            "        \$lookup: {\n" +
            "            from: 'feedbacks',\n" +
            "            localField: 'feedbacks.\$id',\n" +
            "            foreignField: '_id',\n" +
            "            as: 'feedbacks'\n" +
            "        }\n" +
            "}",

    "{\n" +
            "        \$unwind: '\$feedbacks'\n" +
            "}",

    "{\n" +
            "        \$group: {\n" +
            "            '_id': '\$feedbacks._id',\n" +
            "            data: { '\$first': '\$feedbacks' },\n" +
            "        }\n" +
            "}",

    "{\n" +
            "        \$match: {\n" +
            "            \$expr: \n" +
            "            {\n" +
            "                \$gt: [ {\$ifNull: [ '\$data.createdDate', ISODate()]}, { \$toDate: :#{#offset[0]} }],\n" +
            "            },\n" +
            "        }\n" +
            "}",

    "{\n" +
            "        \$sort: {\n" +
            "            'data.createdDate': -1\n" +
            "        }\n" +
            "}",

    "{ \$limit : ?1 }",

    "{\n" +
            "        \$replaceRoot: { \n" +
            "            'newRoot': { \n" +
            "                \$mergeObjects: [{'feedback': '\$data'}, { offset: ['\$data.createdDate'] } ]\n" +
            "            }\n" +
            "        }\n" +
            "}"
]